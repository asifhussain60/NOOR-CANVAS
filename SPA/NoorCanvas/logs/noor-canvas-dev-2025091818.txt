[2025-09-18 18:00:10.493 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ed3f53de] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:10.506 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ed3f53de] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:10.516 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:10.531 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:10.547 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.562 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e725e49a | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.571 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.580 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.596 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a4a4f8ed] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.605 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.614 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.625 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.635 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.645 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.657 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.676 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.688 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.704 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.716 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.733 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.761 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.778 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.789 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Token validation successful - Session 223, Access #132, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.801 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.816 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.835 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d3a6ade0] Access count updated to 132 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.845 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.856 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.870 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.888 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.899 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.917 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.936 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.945 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a4a4f8ed] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.956 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a4a4f8ed] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.967 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.984 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 389.0347ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:10.985 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 438.301ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:11.004 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:11.012 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 496.2036ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:11.030 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e725e49a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":468} {"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:11.045 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":468.3801,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:11.052 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 505.0917ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:11.052 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ed3f53de] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:11.071 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ed3f53de] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"a4a4f8ed"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:11.080 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ed3f53de] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.068 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [d6193925] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.076 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [d6193925] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.083 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.096 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.109 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.120 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 825f38d6 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.127 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.136 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.150 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [73f0aece] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.158 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.167 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.175 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.187 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.197 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.208 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.225 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.236 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.252 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.263 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.301 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4a649e4c] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:12.301 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.313 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4a649e4c] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:12.319 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.335 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.343 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.367 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.376 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.398 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.404 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Token validation successful - Session 223, Access #133, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.422 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a050f956 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.427 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.439 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.445 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.460 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.468 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0faba09c] Access count updated to 133 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.487 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a9a00b1b] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.491 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.505 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.509 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.523 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.528 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.543 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.551 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.564 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.569 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.583 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.589 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.607 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.613 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.637 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.642 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [73f0aece] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.660 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.665 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [73f0aece] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.686 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.691 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.712 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.722 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 571.9027ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.722 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 613.2499ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.753 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.758 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.766 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 682.7658ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:12.789 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.794 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 825f38d6 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":673} {"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.822 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.825 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":673.4701,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.844 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.847 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 738.0004ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:12.847 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [d6193925] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.869 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Token validation successful - Session 223, Access #134, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.878 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [d6193925] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"73f0aece"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.896 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.901 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [d6193925] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:12.916 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.936 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc4834db] Access count updated to 134 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.945 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.955 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.963 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.982 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:12.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.006 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.024 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.034 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a9a00b1b] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.045 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a9a00b1b] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.055 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.071 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 584.0325ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.071 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 673.0698ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:13.090 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.102 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 767.1611ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:13.127 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a050f956 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":704} {"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.147 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":704.5346,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.155 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 756.7511ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGE:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:13.155 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4a649e4c] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:13.179 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4a649e4c] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"a9a00b1b"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:13.189 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4a649e4c] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:14.120 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5c55ec65] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:14.147 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5c55ec65] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:14.156 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:14.172 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:14.192 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.205 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a285d838 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.212 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.223 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.240 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [434e3692] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.248 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.257 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.265 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.275 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.286 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.296 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.311 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.322 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.338 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.349 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.365 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.377 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.392 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.408 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.419 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Token validation successful - Session 223, Access #135, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.429 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.441 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.463 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [687841b5] Access count updated to 135 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.482 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.493 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.504 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.527 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.535 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.545 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.565 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.577 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [434e3692] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.596 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [434e3692] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.607 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.624 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 385.0606ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.625 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 433.7126ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:14.650 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.658 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 502.8507ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:14.689 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a285d838 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":483} {"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.707 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":483.3903,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.714 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 521.9563ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGE:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:14.714 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5c55ec65] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:14.740 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5c55ec65] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"434e3692"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:14.749 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5c55ec65] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:40.492 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [dbc69ec5] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:40.503 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [dbc69ec5] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:40.513 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:40.532 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:40.552 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.566 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f2270037 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.576 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.588 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.606 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [02c83f80] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.616 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.627 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.638 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.648 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.660 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.673 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.691 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.704 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.734 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.752 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.764 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.780 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.799 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.809 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Token validation successful - Session 223, Access #136, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.823 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.836 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.856 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bd59a42c] Access count updated to 136 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.866 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.877 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.889 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.908 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.918 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.928 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.947 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.956 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [02c83f80] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.966 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [02c83f80] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.977 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.993 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 388.0346ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:40.994 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 442.5839ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:41.014 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:41.024 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 511.4909ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:41.046 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f2270037 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":480} {"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:41.066 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":480.0542,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:41.075 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 523.329ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGE:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:41.075 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [dbc69ec5] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:41.099 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [dbc69ec5] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"02c83f80"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:41.109 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [dbc69ec5] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.053 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a05bf362] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.061 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a05bf362] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.071 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.088 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.104 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.117 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8f2c6e53 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.126 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.137 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.154 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [646c0994] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.162 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.174 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.182 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.194 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.206 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.221 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.241 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.252 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.267 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.278 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.295 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.301 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [3ceca0e9] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:42.307 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.323 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [3ceca0e9] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:42.330 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.349 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.359 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.382 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.388 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Token validation successful - Session 223, Access #137, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.413 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.420 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.439 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3ff763e9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.445 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.462 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.473 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9324a44d] Access count updated to 137 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.489 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.494 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.517 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e21efafb] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.522 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.534 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.540 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.558 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.567 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.582 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.587 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.602 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.608 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.627 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.636 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.653 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.656 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [646c0994] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.678 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.685 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [646c0994] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.701 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.707 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.731 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.740 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 586.3871ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.740 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 636.4128ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.766 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.771 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.779 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 708.5716ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:42.812 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.819 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8f2c6e53 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":701} {"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.843 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.848 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":701.7426,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.867 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.870 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 766.3368ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGE:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGE"}
[2025-09-18 18:00:42.870 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a05bf362] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.902 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.912 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a05bf362] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"646c0994"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.927 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Token validation successful - Session 223, Access #138, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.931 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a05bf362] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:00:42.947 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.964 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.983 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ee951385] Access count updated to 138 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:42.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.006 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.018 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.037 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.048 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.060 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.078 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.088 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e21efafb] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.098 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e21efafb] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.107 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.122 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 605.2399ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.122 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 709.1486ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:43.142 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.151 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 802.2969ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:43.171 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3ff763e9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":732} {"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.190 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":732.4693,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.197 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 783.7502ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:43.197 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [3ceca0e9] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:43.226 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [3ceca0e9] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"e21efafb"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:43.236 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [3ceca0e9] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:44.121 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [af2fb43f] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:44.130 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [af2fb43f] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:44.137 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:44.150 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:44.165 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.179 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e44393b8 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.188 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.197 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.214 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d7eb8b8b] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.224 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.233 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.242 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.254 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.264 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.275 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.291 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.304 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.322 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.335 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.353 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.366 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.381 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.399 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.411 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Token validation successful - Session 223, Access #139, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.425 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.439 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.456 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [38cf1a5b] Access count updated to 139 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.468 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.477 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.487 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.503 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.513 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.522 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.541 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.550 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d7eb8b8b] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.562 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d7eb8b8b] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.571 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.587 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 373.5593ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.588 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 423.0191ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:44.607 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.615 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 477.4664ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:00:44.633 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e44393b8 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":453} {"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.648 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":453.5487,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.655 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 490.2308ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGD:00000009","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGD"}
[2025-09-18 18:00:44.655 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [af2fb43f] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:44.675 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [af2fb43f] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"d7eb8b8b"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:00:44.682 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [af2fb43f] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:10.486 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b007152c] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:10.495 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b007152c] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:10.504 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:10.522 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:10.542 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.557 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 2b633c7e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.566 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.575 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.591 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0253b3b9] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.600 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.608 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.618 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.629 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.639 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.652 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.667 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.679 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.696 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.709 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.729 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.741 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.760 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.779 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.789 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Token validation successful - Session 223, Access #140, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.802 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.818 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.836 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [43224406] Access count updated to 140 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.856 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.871 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.894 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.915 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.934 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.963 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.976 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0253b3b9] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:10.988 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0253b3b9] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.000 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.017 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 425.6223ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.017 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 477.8877ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:11.036 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.045 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 540.5021ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:11.063 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 2b633c7e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":506} {"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.078 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":506.2601,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.085 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 543.0329ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:11.085 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b007152c] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:11.106 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [b007152c] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"0253b3b9"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:11.114 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [b007152c] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:12.056 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1a0968a9] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:12.066 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1a0968a9] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:12.074 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.088 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.103 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.119 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e2e7f46a | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.127 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.140 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.231 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a64b1369] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.253 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.274 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.284 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.295 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.305 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66c3f113] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:12.306 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.320 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66c3f113] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:12.326 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.341 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.349 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.370 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.376 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.410 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.415 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.433 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 297374e0 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.438 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.452 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.459 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.472 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.477 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.497 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c104a0a7] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.504 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.519 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.527 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.542 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.547 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Token validation successful - Session 223, Access #141, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.559 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.566 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.581 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.588 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.609 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.617 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [28d1ea28] Access count updated to 141 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.632 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.636 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.658 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.663 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.679 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.683 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.707 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.716 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.737 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.754 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.759 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.784 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.792 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.812 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.806 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a64b1369] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.832 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.836 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a64b1369] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.860 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.864 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.884 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Token validation successful - Session 223, Access #142, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.893 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 662.7531ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.893 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 790.7518ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.919 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.924 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:12.933 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 859.0018ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:12.964 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:12.969 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e2e7f46a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":850} {"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:13.002 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0cfcdd5] Access count updated to 142 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.006 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":850.3021,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:13.022 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.026 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 922.5874ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:13.026 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1a0968a9] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:13.050 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.062 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1a0968a9] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"a64b1369"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:13.079 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.082 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1a0968a9] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:13.104 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.116 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.125 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.143 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.152 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c104a0a7] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.162 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c104a0a7] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.171 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.187 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 689.7284ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.187 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 783.9568ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:13.207 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.216 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 874.924ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:13.237 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 297374e0 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":803} {"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.252 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":803.8618,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.259 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 849.1452ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:13.259 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66c3f113] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:13.280 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [66c3f113] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"c104a0a7"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:13.289 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [66c3f113] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:14.114 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a13683c8] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:14.121 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a13683c8] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:14.128 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:14.143 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:14.158 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.172 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c75ed825 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.180 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.189 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.205 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [533234e2] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.215 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.224 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.233 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.244 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.255 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.266 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.282 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.293 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.309 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.321 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.338 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.352 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.369 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.390 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.401 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Token validation successful - Session 223, Access #143, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.411 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.422 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.437 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d2661ad3] Access count updated to 143 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.446 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.456 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.465 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.482 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.490 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.500 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.516 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.524 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533234e2] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.535 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [533234e2] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.545 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.560 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 355.3485ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.560 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 402.7162ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:14.580 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.589 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 460.5863ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:14.611 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c75ed825 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":438} {"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.625 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":438.4915,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.633 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 474.9429ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:14.633 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a13683c8] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:14.653 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a13683c8] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"533234e2"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:14.660 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a13683c8] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:40.491 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6e7ab10] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:40.501 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6e7ab10] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:40.511 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:40.527 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:40.545 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.560 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 66976e36 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.568 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.580 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.596 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8e7dafc8] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.605 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.616 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.624 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.638 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.651 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.663 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.681 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.693 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.709 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.722 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.750 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.764 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.783 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.794 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Token validation successful - Session 223, Access #144, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.806 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.818 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.835 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d79a38c4] Access count updated to 144 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.857 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.869 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.887 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.895 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.906 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.924 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.936 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8e7dafc8] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.949 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8e7dafc8] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.961 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.976 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 380.3766ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:40.976 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 431.9145ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:40.995 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:41.005 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 494.6253ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:41.024 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 66976e36 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":464} {"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:41.041 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":464.1675,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:41.048 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 502.8129ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:41.048 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6e7ab10] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:41.074 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c6e7ab10] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"8e7dafc8"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:41.084 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c6e7ab10] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.061 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1b817ecd] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.070 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1b817ecd] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.080 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.099 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.119 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.134 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 2fe7db3c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.141 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.153 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.173 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a7a60eb2] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.184 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.195 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.205 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.219 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.235 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.248 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.265 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.275 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.291 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.303 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.313 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [739750bc] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:42.320 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.334 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [739750bc] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:42.339 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.354 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.361 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.385 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.393 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.413 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.418 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Token validation successful - Session 223, Access #145, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.435 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 66857a4f | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.440 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.453 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.459 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.476 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.486 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fbb708ee] Access count updated to 145 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.509 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6126bb69] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.514 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.526 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.532 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.544 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.550 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.564 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.571 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.585 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.588 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.603 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.607 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.626 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.635 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.654 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.658 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a7a60eb2] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.677 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.683 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a7a60eb2] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.703 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.707 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.726 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.734 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 560.7748ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.734 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 615.1337ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.766 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.771 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.780 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 699.7638ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:42.806 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.811 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 2fe7db3c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":677} {"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.837 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.841 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":677.3482,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.862 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.866 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 746.7393ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:01:42.866 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1b817ecd] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.886 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Token validation successful - Session 223, Access #146, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.898 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1b817ecd] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"a7a60eb2"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.913 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.918 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1b817ecd] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:01:42.934 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.953 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e8cc36bf] Access count updated to 146 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.965 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.975 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:42.986 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.005 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.015 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.026 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.043 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.052 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6126bb69] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.063 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6126bb69] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.072 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.089 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 580.6027ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.090 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 677.2115ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:43.111 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.120 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 765.9847ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:43.141 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 66857a4f | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":706} {"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.157 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":706.6696,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.164 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 751.1834ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:43.164 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [739750bc] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:43.192 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [739750bc] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"6126bb69"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:43.202 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [739750bc] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:44.118 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9ed5a59c] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:44.126 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9ed5a59c] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:44.134 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:44.148 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:44.162 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.175 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f1297235 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.183 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.193 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.208 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0ac730f3] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.217 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.225 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.234 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.244 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.254 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.265 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.283 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.293 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.312 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.322 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.337 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.348 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.361 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.377 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.387 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Token validation successful - Session 223, Access #147, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.398 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.409 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.426 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4a07b575] Access count updated to 147 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.436 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.445 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.455 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.471 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.480 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.489 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.506 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.515 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0ac730f3] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.525 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0ac730f3] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.534 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.550 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 342.3724ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.550 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 388.1674ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:44.570 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.579 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 445.4805ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:01:44.598 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f1297235 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":422} {"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.614 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":422.7448,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.621 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 458.8911ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:01:44.621 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9ed5a59c] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:44.642 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9ed5a59c] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"0ac730f3"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:01:44.650 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9ed5a59c] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:10.494 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe31122d] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:10.503 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe31122d] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:10.512 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:10.526 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:10.541 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.554 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 54e627dd | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.563 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.573 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.591 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [aff994fb] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.610 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.619 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.630 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.643 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.656 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.673 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.688 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.707 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.722 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.751 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.767 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.784 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.794 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Token validation successful - Session 223, Access #148, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.805 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.817 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.835 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f4cf09d9] Access count updated to 148 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.845 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.854 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.867 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.885 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.895 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.910 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.927 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.937 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [aff994fb] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.948 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [aff994fb] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.958 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.975 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 384.119ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:10.975 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 434.2695ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:10.998 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:11.006 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 494.5689ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:11.027 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 54e627dd | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":472} {"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:11.044 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":472.2885,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:11.050 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 509.1763ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:11.050 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe31122d] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:11.073 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe31122d] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"aff994fb"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:11.084 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe31122d] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:12.081 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6188aa7] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:12.115 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6188aa7] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:12.125 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:12.148 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:12.289 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.301 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [86e543c1] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:12.303 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5c62f805 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.316 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [86e543c1] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:12.320 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.332 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:12.336 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.357 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:12.365 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b359265f] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.384 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.390 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.408 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7aa9845c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.412 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.423 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.428 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.444 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.449 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.472 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1899ee58] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.478 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.495 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.503 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.521 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.531 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.547 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.555 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.572 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.581 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.598 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.606 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.624 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.631 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.651 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.656 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.675 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.685 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.704 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.714 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.734 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.737 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Token validation successful - Session 223, Access #149, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.759 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.765 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.795 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.843 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.846 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3b60c17b] Access count updated to 149 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.867 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.871 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.885 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Token validation successful - Session 223, Access #149, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.889 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.904 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.912 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.930 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.936 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.959 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0f0bfc1f] Access count updated to 149 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.964 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.980 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:12.989 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:12.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.020 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.029 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.043 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b359265f] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.051 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.067 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b359265f] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.072 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.086 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.095 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.114 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 749.8839ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.115 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 826.0991ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:13.123 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.147 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.155 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 1030.4025ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:13.160 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1899ee58] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.188 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5c62f805 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":884} {"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.203 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1899ee58] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.218 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":884.6033,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.223 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.239 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 949.8608ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:13.239 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c6188aa7] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:13.248 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 776.0511ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.248 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 865.033ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:13.287 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c6188aa7] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"b359265f"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:13.292 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.302 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 970.2997ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:13.329 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c6188aa7] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:13.336 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7aa9845c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":927} {"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.359 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":927.7522,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.366 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 982.2216ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:13.366 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [86e543c1] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:13.387 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [86e543c1] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"1899ee58"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:13.396 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [86e543c1] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:14.116 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e6381a16] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:14.124 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e6381a16] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:14.131 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:14.146 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:14.161 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.179 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 654c4187 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.189 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.201 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.218 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4b947f60] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.227 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.237 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.247 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.257 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.268 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.281 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.297 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.310 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.329 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.340 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.355 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.365 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.380 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.396 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.406 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Token validation successful - Session 223, Access #150, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.418 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.432 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.448 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1b840eee] Access count updated to 150 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.459 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.468 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.481 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.498 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.507 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.521 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.539 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.548 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4b947f60] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.558 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4b947f60] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.567 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.583 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 365.1246ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.583 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 422.8325ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:14.601 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.609 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 477.6196ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:14.627 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 654c4187 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":447} {"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.643 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":447.8955,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.649 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 488.2514ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:14.649 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e6381a16] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:14.670 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e6381a16] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"4b947f60"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:14.678 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e6381a16] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:40.488 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [efe779a3] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:40.498 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [efe779a3] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:40.507 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:40.522 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:40.540 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.554 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d7fdb211 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.561 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.573 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.589 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [2e97a0cd] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.598 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.607 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.616 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.626 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.636 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.649 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.665 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.678 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.697 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.708 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.737 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.755 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.778 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.788 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Token validation successful - Session 223, Access #151, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.799 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.812 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.829 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [40ba5c71] Access count updated to 151 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.848 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.861 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.879 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.888 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.901 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.918 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.927 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [2e97a0cd] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.937 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [2e97a0cd] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.947 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.964 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 374.9283ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.964 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 424.4228ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:40.985 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:40.994 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 487.1836ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFV:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:41.013 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d7fdb211 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":459} {"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:41.031 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":459.2583,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:41.038 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 497.1565ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:41.038 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [efe779a3] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:41.062 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [efe779a3] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"2e97a0cd"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:41.072 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [efe779a3] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.052 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e14c3dd9] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.062 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e14c3dd9] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.069 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.085 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.100 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.112 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 170279c9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.120 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.132 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.148 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [75dfd2e2] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.160 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.172 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.185 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.198 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.212 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.223 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.239 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.251 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.266 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.275 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.289 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.299 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.301 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [448a404c] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:42.315 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.318 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [448a404c] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:42.339 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.343 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.363 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Token validation successful - Session 223, Access #152, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.371 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.391 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.400 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.419 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.424 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ea852fa5 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.444 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ba3274ff] Access count updated to 152 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.448 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.463 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.468 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.487 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.495 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0cf84232] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.510 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.514 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.535 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.540 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.554 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.558 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.573 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.577 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.599 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.604 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.619 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [75dfd2e2] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.624 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.641 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [75dfd2e2] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.650 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.665 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.670 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.695 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 547.047ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.695 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 595.8202ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.702 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.728 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.735 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 666.5619ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestId":"0HNFMVDHG4LFV:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:42.742 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.768 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 170279c9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":655} {"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.784 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.798 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":655.5128,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.803 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.816 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 716.6883ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGG"}
[2025-09-18 18:02:42.817 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e14c3dd9] API response status: "OK" {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.824 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.854 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e14c3dd9] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"75dfd2e2"} {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.863 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.876 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e14c3dd9] Loaded 1 participants from API {"TransportConnectionId":"xtsYcqH7kQGjBM4Rqgob2g","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFV"}
[2025-09-18 18:02:42.881 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Token validation successful - Session 223, Access #153, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.901 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.913 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.932 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0324ea7] Access count updated to 153 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.942 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.953 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.962 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.977 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.985 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:42.996 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.013 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.022 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0cf84232] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.033 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0cf84232] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.041 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.055 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 560.3802ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.055 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 655.6298ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:43.075 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.085 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 741.5232ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestId":"0HNFMVDHG4LFQ:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:43.103 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ea852fa5 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":679} {"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.120 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":679.0904,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.128 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 728.1742ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:43.128 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [448a404c] API response status: "OK" {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:43.151 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [448a404c] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"0cf84232"} {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:43.162 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [448a404c] Loaded 1 participants from API {"ActionId":"724b33da-3017-4429-9d0f-ff7f18f2a158","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:44.113 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80ae3e29] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:44.121 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80ae3e29] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:44.129 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:44.143 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:44.157 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.171 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b441bf30 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.180 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.189 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.208 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ba43d2e0] Getting participants for session token: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.217 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Token received: 'TESTUSR1', Length: 8 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.229 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Validating token with TokenService... {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.242 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Starting token validation {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.256 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Token: TESTUSR1, IsHost: false {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.269 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Querying database for token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.280 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.295 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Total tokens in database: 47 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.305 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.320 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Active non-expired tokens: 22 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.330 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.345 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Tokens matching 'TESTUSR1': 1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.356 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.369 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.388 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Final query result: Found valid token {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.402 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Token validation successful - Session 223, Access #154, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.416 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.431 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.452 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7c5dc390] Access count updated to 154 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.465 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Token validation successful - SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.490 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Querying SessionParticipants for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.505 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.535 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Found 0 active participants in SessionParticipants {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.547 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Querying Registrations for SessionId: 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.558 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.574 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Found 1 registered participants in Registrations {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.584 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ba43d2e0] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.595 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ba43d2e0] Found 1 participants for session 223 {"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.604 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0d2e1d2f-dfbf-4a2d-9f70-cf463b9c5e7a","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.621 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 413.8497ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.621 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 464.3663ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:44.642 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.649 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 520.6312ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestId":"0HNFMVDHG4LFQ:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:02:44.669 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b441bf30 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":498} {"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.684 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":498.1049,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.690 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 532.6948ms {"EventId":{"Id":2},"RequestId":"0HNFMVDHG4LGF:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVDHG4LGF"}
[2025-09-18 18:02:44.690 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80ae3e29] API response status: "OK" {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:44.710 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [80ae3e29] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"ba43d2e0"} {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:02:44.717 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [80ae3e29] Loaded 1 participants from API {"TransportConnectionId":"a_BMkVHkDaBln96fU9lNvg","RequestPath":"/_blazor","ConnectionId":"0HNFMVDHG4LFQ"}
[2025-09-18 18:03:06.377 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:03:07.971 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:03:07.990 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:03:07.993 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:03:08.055 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:03:08.393 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:03:08.411 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:03:08.582 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:03:08.730 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:03:08.803 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:03:08.812 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:03:08.818 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:03:08.820 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:03:08.825 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:03:09.106 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.177 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 00fbcbbf | Data: {"Method":"GET","Path":{"Value":"/user/landing/TXZ25W6K","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"127.0.0.1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.187 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.211 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.239 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.256 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.342 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] UserLanding OnInitialized - SessionToken: TXZ25W6K {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.351 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Loading session info for token: TXZ25W6K {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.362 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Calling session validation API for token: TXZ25W6K {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:09.375 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:09.394 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:09.481 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.503 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9663efb9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.515 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.545 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.582 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e8826856] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.598 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.608 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.619 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.919 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:09.962 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.008 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.029 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.104 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (11ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.185 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.199 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.274 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.365 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.377 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Token validation successful - Session 10222, Access #93, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.389 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.496 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.527 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b497115e] Access count updated to 93 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.663 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.680 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e8826856] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.691 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e8826856] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.708 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.754 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 1190.824ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.756 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 1343.8841ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:10.780 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.790 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1416.8667ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:10.815 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9663efb9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":1315} {"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.836 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":1315.7082,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.851 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Session validation API response: "OK" {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:10.851 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 1369.4745ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG3:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:10.870 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":93,"lastAccessedAt":"2025-09-18T22:03:10.4010554Z"},"requestId":"e8826856"} {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:10.914 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:10.961 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [ca8b47bc] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"ActionId":"c9f131b5-5de1-4938-9624-3164f752007d","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.068 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1840.7927ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.088 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.117 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.120 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.130 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 00fbcbbf | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1976} {"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.117 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153909781975 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.160 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /NoorCanvas.styles.css was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVSJI8TG2:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.392 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 693b4e94 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"127.0.0.1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.394 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/user/landing/TXZ25W6K | Data: {"DurationMs":1976.33,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.411 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 304 null text/css 293.589ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.449 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.460 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - 200 null text/html; charset=utf-8 2355.9306ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.500 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.500 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.551 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153909781975 - 200 1769400 image/png 434.0205ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.559 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.591 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 693b4e94 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":198} {"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.603 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":198.6372,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.615 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 495.0055ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.644 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.660 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a30770cc | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"127.0.0.1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.669 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.683 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.696 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a30770cc | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":35} {"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.705 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":35.7257,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.714 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 69.6672ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.727 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.749 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: dea54799 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"127.0.0.1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.763 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.779 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.796 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.810 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: dea54799 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":61} {"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.818 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":61.171,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:11.827 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 99.7858ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=_5yT2WoC3E8zQQgrGLqTtw - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.398 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 90ed5da0 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=_5yT2WoC3E8zQQgrGLqTtw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"127.0.0.1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.413 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.417 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/favicon.ico - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000000F","RequestPath":"/favicon.ico","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.439 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.452 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/favicon.ico'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\favicon.ico' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000000F","RequestPath":"/favicon.ico","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.478 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.480 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/favicon.ico - 200 5430 image/x-icon 62.6402ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000000F","RequestPath":"/favicon.ico","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.509 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.535 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.573 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/TXZ25W6K, [{"type":"server","prerenderId":"e50e15c8cd4041eab6563b0a579f830e","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbMLy+LRVo7AftyeEju2ywOH70P5s7rzESyDEozrtZvX43y3rjVva51f4S/RpBzc6wtzJJc9icm7Bi3qxO+HKm0a8OSE8whfE/8lMPf8t6wi7a0Xs5sPpYNPHyP84XwfGiLAFb4T3j0LnvmA5Ep/x8zecZi1m5ZRkeV4azX2JN0Fp+qRhf7c0lWvE6v7/3AObHFjYz8GT1Cf3qy6FF4x+PuuHKG39QjGMTB1g37AstNKdwTrYcgh53/SBowxEAPT7BLorbC6psHwqRetA+S9ypyacO37gyFiV7GY9QqhSCf6ALeYpQXNiA9BZyPqJVlhAa5JpyLMp7aoiKALSiY4PN5ZX8ssZD+PIiDmmoy77AM84hwJKu98IyRHIzOa7BAOrxgzFy2e4VtN6D/vhwg+Xtnac1qenU+Cr2X2Qg5pHm5DscJr8afBDU9rcsNb95KNj1CxSy2f18lFsft1FAfH8L45kXH4qwRQ4ChusCZ3tsYPdw==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.707 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] UserLanding OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.714 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Loading session info for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.722 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Calling session validation API for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.730 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:12.748 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:12.765 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.771 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.779 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153927656494 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.788 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ca2d40eb | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.795 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.819 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.833 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.843 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.849 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.861 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153927656494 - 200 1769400 image/png 82.0461ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:12.893 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [bff47b90] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.906 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.916 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.926 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.938 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.955 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.969 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:12.986 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.000 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.020 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.031 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.046 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.065 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.076 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Token validation successful - Session 10222, Access #94, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.087 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.102 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.126 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d82be9ea] Access count updated to 94 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.141 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.159 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [bff47b90] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.171 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [bff47b90] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.183 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.202 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 312.942ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.202 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 438.7565ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:13.224 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.233 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 502.5442ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:13.254 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ca2d40eb | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":466} {"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.278 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":466.1922,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.287 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 522.0745ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG3:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:13.287 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Session validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.311 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":94,"lastAccessedAt":"2025-09-18T22:03:13.1000259Z"},"requestId":"bff47b90"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.321 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.333 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1d47e408] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.347 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.362 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153933447181 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.411 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.427 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153933447181 - 200 1769400 image/png 64.7793ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.444 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":974,"screenY":1097,"clientX":974,"clientY":974,"offsetX":259,"offsetY":10,"pageX":974,"pageY":974,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.485 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] HandleTokenValidation - Validating token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.496 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:13.514 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:13.541 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.546 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.548 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153935365758 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.577 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d54c8c58 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.605 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.618 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.633 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.642 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153935365758 - 200 1769400 image/png 94.2847ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:13.678 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [25cbef94] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.693 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.703 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.714 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.726 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.754 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.771 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.782 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.801 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.814 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.829 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.848 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.859 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Token validation successful - Session 10222, Access #95, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.870 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.883 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.901 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c0e50053] Access count updated to 95 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.913 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.931 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [25cbef94] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.942 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [25cbef94] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.952 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.970 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 295.8029ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.971 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 436.7471ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:13.990 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:13.998 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 502.4761ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:14.017 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d54c8c58 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":439} {"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.032 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":439.4832,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.039 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 498.1257ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.040 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Token validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.061 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Token validation response: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":95,"lastAccessedAt":"2025-09-18T22:03:13.8826101Z"},"requestId":"25cbef94"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.069 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Token validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.078 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Updated session name to: Introduction to the sessions, description to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.087 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Successfully switched to registration panel {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.096 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [b2303455] Loading countries dropdown after token validation... {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.111 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [a8b85092] Loading countries from API... {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.115 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.117 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153941061829 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.130 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:14.167 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:14.175 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.192 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.197 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153941061829 - 200 1769400 image/png 79.9658ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.218 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 31c348de | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=TXZ25W6K","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.235 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.251 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.273 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: TXZ25W6K... {"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.322 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.348 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.359 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.377 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 108.0337ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.377 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 185.8323ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:14.401 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.411 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 280.2821ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:14.430 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 31c348de | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":212} {"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.447 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":212.3624,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.454 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - 200 null application/json; charset=utf-8 262.086ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:14.463 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [a8b85092] Loaded 239 countries successfully {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.491 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944780721 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.496 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.499 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944795139 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.546 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.549 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944804896 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.549 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.555 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.589 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.603 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944780721 - 200 1769400 image/png 111.851ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.613 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944795139 - 499 1769400 image/png 113.9525ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.614 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:14.666 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153944804896 - 200 1769400 image/png 116.6054ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:15.725 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:15.755 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:15.766 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153957537800 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:15.807 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:15.822 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153957537800 - 200 1769400 image/png 55.2832ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.462 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 3, , DispatchEventAsync, 1, [{"eventHandlerId":21,"eventName":"change","eventFieldInfo":{"componentId":11,"fieldValue":"Syed Asif Hussain"}},{"value":"Syed Asif Hussain"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.488 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 4, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"focus","eventFieldInfo":{"componentId":12,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.496 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153964877879 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.521 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 5, , DispatchEventAsync, 1, [{"eventHandlerId":22,"eventName":"change","eventFieldInfo":{"componentId":12,"fieldValue":"ipalejwala@hotmail.com"}},{"value":"ipalejwala@hotmail.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.527 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153965211060 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.535 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.576 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 6, , DispatchEventAsync, 1, [{"eventHandlerId":10,"eventName":"focus","eventFieldInfo":{"componentId":13,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.591 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.593 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153965762586 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.594 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153964877879 - 499 1769400 image/png 98.3001ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.641 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 7, , DispatchEventAsync, 1, [{"eventHandlerId":23,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"US"}},{"value":"US"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.646 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153966404923 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.649 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153965211060 - 200 1769400 image/png 121.6461ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.656 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.723 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153965762586 - 499 1769400 image/png 129.3048ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.705 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153967023393 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.710 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.703 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 8, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":"Syed Asif Hussain"}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.774 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153966404923 - 499 1769400 image/png 128.1594ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.782 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.786 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.793 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153967857606 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.832 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153967023393 - 200 1769400 image/png 126.3491ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.838 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.864 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.888 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.895 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153967857606 - 200 1769400 image/png 102.3224ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.915 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.936 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:16.949 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:17.214 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 9, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":955,"screenY":1219,"clientX":955,"clientY":1096,"offsetX":70,"offsetY":11,"pageX":955,"pageY":1096,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:17.233 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:17.234 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153972314905 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:17.279 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:17.292 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153972314905 - 200 1769400 image/png 58.185ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.747 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/TXZ25W6K, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.775 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] SessionWaiting OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.784 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153987463978 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.792 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] Loading session data for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.826 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:18.831 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.856 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:18.863 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153987463978 - 200 1769400 image/png 78.9157ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.893 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:18.897 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.923 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153988970023 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.930 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 45740360 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:18.937 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.968 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:18.972 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:18.977 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.000 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.006 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153988970023 - 200 1769400 image/png 82.5083ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.015 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.051 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [344cd276] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.078 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.092 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.104 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.122 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.145 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.159 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.176 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.187 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.204 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.215 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.234 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.254 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.268 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Token validation successful - Session 10222, Access #96, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.283 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.303 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.324 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d8ef0479] Access count updated to 96 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.338 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.365 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [344cd276] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.382 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [344cd276] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.399 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.421 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 370.7916ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.421 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 532.5258ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:19.444 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.452 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 625.9559ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:19.471 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 45740360 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":540} {"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.487 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":540.3468,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.496 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 603.4472ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG3:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:19.496 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] Session validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.528 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.547 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5ebb209d] Starting LoadParticipantsAsync with SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.549 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.551 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153995443384 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.571 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5ebb209d] Making API call to: api/participant/session/TXZ25W6K/participants {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.600 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.603 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:19.624 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938153995443384 - 200 1769400 image/png 73.1062ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:19.632 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:19.663 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.675 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5190e3e4 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.682 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.695 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.714 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [71b80049] Getting participants for session token: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.722 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Token received: 'TXZ25W6K', Length: 8 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.731 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Validating token with TokenService... {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Starting token validation {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.749 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Token: TXZ25W6K, IsHost: false {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.763 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Querying database for token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.778 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.836 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Total tokens in database: 47 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.861 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.881 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Active non-expired tokens: 22 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.898 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.917 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Tokens matching 'TXZ25W6K': 1 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.928 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.947 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.964 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Final query result: Found valid token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.975 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Token validation successful - Session 10222, Access #97, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:19.985 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.000 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.017 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7ac9daab] Access count updated to 97 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.030 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Token validation successful - SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.041 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Querying SessionParticipants for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.075 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.095 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Found 0 active participants in SessionParticipants {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.108 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Querying Registrations for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.134 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.153 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [71b80049] Found 0 registered participants in Registrations {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.166 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [71b80049] Found 0 participants for session 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.177 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.195 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 485.6265ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.195 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 532.2975ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:20.214 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.222 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 618.8132ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:20.245 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5190e3e4 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":569} {"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.262 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/participants | Data: {"DurationMs":569.5459,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.269 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - 200 null application/json; charset=utf-8 605.4548ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:20.269 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5ebb209d] API response status: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.297 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] Participants API response: {"sessionId":10222,"token":"TXZ25W6K","participantCount":0,"participants":[],"requestId":"71b80049"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.311 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5ebb209d] Loaded 0 participants from API {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.321 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.326 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154003203494 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.348 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.369 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.386 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154003203494 - 200 1769400 image/png 60.1882ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.559 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.560 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154005576284 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.597 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:20.611 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154005576284 - 200 1769400 image/png 51.6031ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:21.561 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:21.562 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154015591425 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:21.599 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:21.613 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154015591425 - 200 1769400 image/png 50.5971ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:22.555 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:22.557 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154025540385 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:22.600 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:22.615 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154025540385 - 200 1769400 image/png 57.598ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:23.553 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:23.555 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154035524771 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:23.595 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:23.609 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154035524771 - 200 1769400 image/png 53.7036ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:24.554 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 27,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:24.557 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154045530416 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:24.592 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:24.605 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154045530416 - 200 1769400 image/png 47.538ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:25.563 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 28,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:25.564 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154055485663 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:25.608 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:25.620 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154055485663 - 200 1769400 image/png 56.2197ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:26.548 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 29,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:26.549 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154065466185 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:26.587 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:26.601 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154065466185 - 200 1769400 image/png 52.1118ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:27.557 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 30,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:27.559 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154075556106 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:27.595 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:27.610 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154075556106 - 200 1769400 image/png 50.7666ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:28.555 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 31,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:28.557 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154085542825 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:28.594 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:28.609 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154085542825 - 200 1769400 image/png 51.617ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.553 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 32,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.555 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154095525175 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.598 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.614 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154095525175 - 200 1769400 image/png 59.5079ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.727 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/user/landing/TXZ25W6K, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.744 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] UserLanding OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.759 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Loading session info for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.769 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Calling session validation API for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.783 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:29.807 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:29.824 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.828 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 33,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.830 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154098242766 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.855 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 24e79a6a | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.882 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.882 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.899 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154098242766 - 200 1769400 image/png 69.3376ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:29.906 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.936 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [86093242] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.946 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.956 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.966 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.979 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:29.994 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.005 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.024 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.035 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.054 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.065 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.083 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.101 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.112 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Token validation successful - Session 10222, Access #98, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.125 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.138 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.155 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa682cbf] Access count updated to 98 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.169 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.185 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [86093242] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.197 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [86093242] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.208 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.229 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 293.4334ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.229 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 405.9394ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:30.248 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.257 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 474.1904ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:30.277 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 24e79a6a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":421} {"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.293 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":421.4381,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.300 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 475.9482ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG3:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:30.300 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Session validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.320 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":98,"lastAccessedAt":"2025-09-18T22:03:30.136469Z"},"requestId":"86093242"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.333 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.345 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [c8f305f6] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.360 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 34,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.365 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154103578942 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.401 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:30.414 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154103578942 - 200 1769400 image/png 49.1432ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.490 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 10, , DispatchEventAsync, 1, [{"eventHandlerId":53,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":1013,"screenY":1120,"clientX":1013,"clientY":997,"offsetX":298,"offsetY":33,"pageX":1013,"pageY":997,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.504 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] HandleTokenValidation - Validating token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.514 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:31.529 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:31.546 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.549 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 35,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.551 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154115469086 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.584 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d517a0f1 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.613 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.614 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.635 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154115469086 - 200 1769400 image/png 84.0283ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:31.645 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.685 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0c6fdbd7] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.696 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.707 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.717 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.728 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.746 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.759 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.777 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.788 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.805 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.819 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.837 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.861 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.871 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Token validation successful - Session 10222, Access #99, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.884 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.899 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.919 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2de7d67e] Access count updated to 99 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.932 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.951 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0c6fdbd7] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.963 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0c6fdbd7] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.976 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.993 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 308.5022ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:31.994 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 447.5059ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:32.014 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.023 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 509.1288ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:32.043 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d517a0f1 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":458} {"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.058 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":458.3727,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.065 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 518.4194ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000004","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.065 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Token validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.087 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Token validation response: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":99,"lastAccessedAt":"2025-09-18T22:03:31.898154Z"},"requestId":"0c6fdbd7"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.097 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Token validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.108 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Updated session name to: Introduction to the sessions, description to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.117 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Successfully switched to registration panel {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.127 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [42b0307c] Loading countries dropdown after token validation... {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.135 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [e91b2df3] Loading countries from API... {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.137 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 36,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.138 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154121347072 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.160 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:32.184 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.200 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:32.205 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154121347072 - 200 1769400 image/png 66.8598ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.231 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.255 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ccfdb8d9 | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=TXZ25W6K","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.265 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.275 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.293 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: TXZ25W6K... {"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.314 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.332 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.343 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"85e22bbc-ac25-4fae-aa64-b7867c28e945","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.359 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 127.9213ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:32.359 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 67.0961ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.383 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 223.0613ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:03:32.388 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.416 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ccfdb8d9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":161} {"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.424 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":161.9847,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.432 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - 200 null application/json; charset=utf-8 200.5257ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:32.432 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [e91b2df3] Loaded 239 countries successfully {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.462 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154124526242 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.464 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 37,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.494 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 38,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.495 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154124531485 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.496 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.525 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 39,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.538 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154124526242 - 200 1769400 image/png 76.2805ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.543 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:32.577 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154124531485 - 200 1769400 image/png 81.7351ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.282 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 11, , DispatchEventAsync, 1, [{"eventHandlerId":58,"eventName":"focus","eventFieldInfo":{"componentId":25,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.300 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 40,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.311 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154132984277 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.354 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.367 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154132984277 - 200 1769400 image/png 55.363ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.908 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 12, , DispatchEventAsync, 1, [{"eventHandlerId":73,"eventName":"change","eventFieldInfo":{"componentId":25,"fieldValue":"Syed Asif Hussain"}},{"value":"Syed Asif Hussain"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.928 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 13, , DispatchEventAsync, 1, [{"eventHandlerId":60,"eventName":"focus","eventFieldInfo":{"componentId":26,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.931 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139286375 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.951 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 14, , DispatchEventAsync, 1, [{"eventHandlerId":74,"eventName":"change","eventFieldInfo":{"componentId":26,"fieldValue":"ipalejwala@hotmail.com"}},{"value":"ipalejwala@hotmail.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.954 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139515071 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.960 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.003 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139286375 - 499 1769400 image/png 72.0331ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:33.987 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 15, , DispatchEventAsync, 1, [{"eventHandlerId":62,"eventName":"focus","eventFieldInfo":{"componentId":27,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.010 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139873582 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.010 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.031 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 16, , DispatchEventAsync, 1, [{"eventHandlerId":75,"eventName":"change","eventFieldInfo":{"componentId":27,"fieldValue":"US"}},{"value":"US"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.034 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154140307698 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.071 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.077 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139515071 - 200 1769400 image/png 123.3066ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.083 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 17, , DispatchEventAsync, 1, [{"eventHandlerId":58,"eventName":"focus","eventFieldInfo":{"componentId":25,"fieldValue":"Syed Asif Hussain"}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.093 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.093 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154140834757 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.131 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154139873582 - 499 1769400 image/png 121.219ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.144 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 41,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.146 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154141438411 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.149 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154140307698 - 200 1769400 image/png 115.0399ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.154 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.216 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 42,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.237 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.242 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154140834757 - 499 1769400 image/png 148.7659ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.266 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 43,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.271 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154141438411 - 200 1769400 image/png 124.8215ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.303 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 44,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.329 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 45,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:34.343 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 46,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:37.109 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 18, , DispatchEventAsync, 1, [{"eventHandlerId":58,"eventName":"focus","eventFieldInfo":{"componentId":25,"fieldValue":"Syed Asif Hussain"}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:37.158 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 47,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:37.176 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154171537629 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:37.216 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:37.250 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154171537629 - 200 1769400 image/png 74.0778ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:38.004 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 19, , DispatchEventAsync, 1, [{"eventHandlerId":53,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":910,"screenY":1235,"clientX":910,"clientY":1112,"offsetX":195,"offsetY":39,"pageX":910,"pageY":1112,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:38.023 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 48,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:38.028 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154180205939 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:38.069 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:38.084 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154180205939 - 200 1769400 image/png 55.561ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.527 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/TXZ25W6K, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.548 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] SessionWaiting OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.559 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154195264109 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.561 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] Loading session data for token: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.596 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.596 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:39.619 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154195264109 - 200 1769400 image/png 59.7753ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.627 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:39.658 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.659 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 5, True, [5,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.675 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154196590769 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.684 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 36e5bcfd | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.696 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 49,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.715 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.720 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.732 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 50,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.745 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154196590769 - 200 1769400 image/png 69.9857ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.755 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.769 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 51,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:39.797 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [03877fc7] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Starting token validation {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.823 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Token: TXZ25W6K, IsHost: false {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.833 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Querying database for token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.844 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.859 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Total tokens in database: 47 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.869 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.885 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Active non-expired tokens: 22 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.895 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.911 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Tokens matching 'TXZ25W6K': 1 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.922 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.939 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.957 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Final query result: Found valid token {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.968 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Token validation successful - Session 10222, Access #100, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.981 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:39.994 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.013 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e904b0a3] Access count updated to 100 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.025 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.044 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [03877fc7] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.054 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [03877fc7] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.066 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"0e0f7956-d47b-4723-be39-c10b2ab536dd","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.085 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 288.1894ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.085 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 426.9235ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:40.107 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.115 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 519.314ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:03:40.137 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 36e5bcfd | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":453} {"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.155 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":453.5663,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.164 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 505.4949ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG3:00000005","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFMVSJI8TG3"}
[2025-09-18 18:03:40.164 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] Session validation API response: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.192 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.201 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8a5ad2bc] Starting LoadParticipantsAsync with SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.204 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 52,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.207 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154202013979 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.220 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8a5ad2bc] Making API call to: api/participant/session/TXZ25W6K/participants {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.250 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:40.259 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.275 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:40.280 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154202013979 - 200 1769400 image/png 72.6919ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.301 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.318 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c8f1d69e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.327 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.336 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.356 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f093a43] Getting participants for session token: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.367 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Token received: 'TXZ25W6K', Length: 8 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.381 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Validating token with TokenService... {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.394 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Starting token validation {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.405 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Token: TXZ25W6K, IsHost: false {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.416 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Querying database for token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.426 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.441 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Total tokens in database: 47 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.452 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.467 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Active non-expired tokens: 22 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.487 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.507 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Tokens matching 'TXZ25W6K': 1 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.518 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.531 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.548 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Final query result: Found valid token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.558 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Token validation successful - Session 10222, Access #101, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.568 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.580 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.595 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b69c7c99] Access count updated to 101 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.605 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Token validation successful - SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.614 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Querying SessionParticipants for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.625 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.641 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Found 0 active participants in SessionParticipants {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.650 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Querying Registrations for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.663 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.681 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f093a43] Found 0 registered participants in Registrations {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.690 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f093a43] Found 0 participants for session 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.699 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.715 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 360.8355ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.716 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 415.3261ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:40.736 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.745 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 495.4205ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:40.766 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c8f1d69e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":447} {"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.784 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/participants | Data: {"DurationMs":447.4139,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.791 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - 200 null application/json; charset=utf-8 490.1923ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000006","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:40.791 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8a5ad2bc] API response status: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.812 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] Participants API response: {"sessionId":10222,"token":"TXZ25W6K","participantCount":0,"participants":[],"requestId":"9f093a43"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.821 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8a5ad2bc] Loaded 0 participants from API {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.831 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 53,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.833 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154208299731 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.852 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 54,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.868 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:40.888 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154208299731 - 200 1769400 image/png 54.7784ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:41.211 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 55,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:41.212 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154212099611 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:41.251 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:41.266 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154212099611 - 200 1769400 image/png 53.9801ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:42.218 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 56,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:42.225 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154222137656 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:42.294 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:42.319 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154222137656 - 200 1769400 image/png 94.2443ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:43.210 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 57,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:43.211 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154232088978 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:43.251 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:43.267 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154232088978 - 200 1769400 image/png 55.5834ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:44.209 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 58,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:44.210 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154242081049 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:44.247 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:44.263 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154242081049 - 200 1769400 image/png 52.9544ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:45.208 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 59,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:45.210 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154252063627 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:45.249 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:45.266 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154252063627 - 200 1769400 image/png 55.9811ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:46.202 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 60,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:46.204 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154262010572 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:46.238 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:46.252 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154262010572 - 200 1769400 image/png 48.3199ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:47.214 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 61,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:47.217 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154272134001 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:47.253 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:47.267 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154272134001 - 200 1769400 image/png 50.1547ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:48.226 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 62,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:48.245 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154282197145 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:48.311 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:48.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154282197145 - 200 1769400 image/png 76.8305ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.213 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 63,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154292121924 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.261 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.278 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154292121924 - 200 1769400 image/png 62.0584ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.556 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [61aad621] Starting LoadParticipantsAsync with SessionToken: TXZ25W6K {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.564 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [61aad621] Making API call to: api/participant/session/TXZ25W6K/participants {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:49.572 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:49.585 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:49.602 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.615 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 45edb157 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.623 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.636 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.678 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a36e1277] Getting participants for session token: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.687 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Token received: 'TXZ25W6K', Length: 8 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.703 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Validating token with TokenService... {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Starting token validation {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.735 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Token: TXZ25W6K, IsHost: false {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Querying database for token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.759 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.777 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Total tokens in database: 47 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.795 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Active non-expired tokens: 22 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.826 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.850 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Tokens matching 'TXZ25W6K': 1 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.866 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.888 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.919 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Final query result: Found valid token {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.936 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Token validation successful - Session 10222, Access #102, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.951 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.964 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.983 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5d5d6877] Access count updated to 102 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:49.993 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Token validation successful - SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.002 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Querying SessionParticipants for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.012 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.030 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Found 0 active participants in SessionParticipants {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.039 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Querying Registrations for SessionId: 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.049 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.065 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a36e1277] Found 0 registered participants in Registrations {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.074 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a36e1277] Found 0 participants for session 10222 {"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.083 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"620fec56-8b87-41f0-817a-ab0fcaee7bd8","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.098 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 421.2708ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.098 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 497.139ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:50.119 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.130 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 558.426ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:03:50.153 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 45edb157 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":537} {"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.168 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/participants | Data: {"DurationMs":537.6571,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.175 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - 200 null application/json; charset=utf-8 573.4288ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG4:00000007","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFMVSJI8TG4"}
[2025-09-18 18:03:50.175 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [61aad621] API response status: "OK" {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.195 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [61aad621] Participants API response: {"sessionId":10222,"token":"TXZ25W6K","participantCount":0,"participants":[],"requestId":"a36e1277"} {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.202 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [61aad621] Loaded 0 participants from API {"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.212 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 64,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.213 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154302110514 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.246 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:50.258 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154302110514 - 200 1769400 image/png 44.5042ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:51.210 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 65,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:51.212 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154312088815 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:51.246 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:51.260 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154312088815 - 200 1769400 image/png 48.6611ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:52.209 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 66,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:52.211 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154322083750 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:52.246 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:52.259 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154322083750 - 200 1769400 image/png 47.7879ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:53.206 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 67,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:53.208 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154332051684 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:53.241 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:53.253 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154332051684 - 200 1769400 image/png 45.5995ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:54.208 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 68,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:54.210 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154342068190 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:54.243 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:54.258 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154342068190 - 200 1769400 image/png 47.6051ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:55.207 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 69,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:55.208 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154352057108 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:55.245 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:55.260 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154352057108 - 200 1769400 image/png 51.9921ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:56.206 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 70,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:56.208 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154362056031 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:56.243 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:56.256 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154362056031 - 200 1769400 image/png 47.1468ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:57.206 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 71,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:57.208 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154372051742 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:57.241 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:57.255 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154372051742 - 200 1769400 image/png 46.3885ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:58.203 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 72,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:58.204 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154382019105 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:58.241 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:58.256 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154382019105 - 200 1769400 image/png 51.5394ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:59.216 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 73,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:59.218 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154392151712 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:59.252 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:03:59.266 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154392151712 - 200 1769400 image/png 48.2623ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:00.228 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 74,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:00.231 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154402134494 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:00.270 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:00.283 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154402134494 - 200 1769400 image/png 52.0786ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:01.214 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 75,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:01.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154412133331 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:01.249 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:01.262 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154412133331 - 200 1769400 image/png 45.8686ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:02.215 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 76,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:02.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154422138061 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:02.255 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:02.269 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154422138061 - 200 1769400 image/png 52.9255ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:03.210 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 77,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:03.212 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154432091990 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:03.247 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:03.260 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154432091990 - 200 1769400 image/png 47.989ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:04.214 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 78,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:04.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154442136983 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:04.287 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:04.301 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154442136983 - 200 1769400 image/png 84.6283ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.210 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 79,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.211 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154452089782 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVSJI8TG2:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.247 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVSJI8TG2:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.262 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938154452089782 - 200 1769400 image/png 50.8634ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.634 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-18 18:04:05.645 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"kys3_17fhWJwWl2nqT35SQ","RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.660 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.675 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 90ed5da0 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":53277} {"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.683 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":53277.6162,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.691 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=_5yT2WoC3E8zQQgrGLqTtw - 200 null null 53320.1331ms {"EventId":{"Id":2},"RequestId":"0HNFMVSJI8TG2:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVSJI8TG2"}
[2025-09-18 18:04:05.710 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFMVSJI8TG2", Request id "0HNFMVSJI8TG2:0000000D": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-18 18:05:04.400 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:05:05.763 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:05:05.783 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:05:05.787 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:05:05.856 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:05:05.972 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:05:05.979 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:05:06.098 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:05:06.259 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:05:06.339 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:05:06.346 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:05:06.356 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:05:06.360 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:05:06.365 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:05:18.437 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.505 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 51d2d125 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.514 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.528 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.547 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.565 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 51d2d125 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":81} {"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.580 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":81.1585,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.589 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 152.7863ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMA:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.593 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=o7KGz-X0VfuxcDk-ULAuBw - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.622 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 22bd4f28 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=o7KGz-X0VfuxcDk-ULAuBw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.631 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.643 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.660 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"mpkiPCk0UOjhf6Z3H8yhbQ","RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.679 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"mpkiPCk0UOjhf6Z3H8yhbQ","RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.696 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"mpkiPCk0UOjhf6Z3H8yhbQ","RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:18.723 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "ConnectCircuit", Arguments: [ CfDJ8DeH3DqcBblEm_Wh6jxNrbMXtky6GfMB5AY6-xjd5UUtmHp5oqTyHttCn5jQBGvcNd4zMQjvJUXuaaQl73Z6qcwukww9pxWj_qDq1uf-SoDAOPI8O9uJGsEmSZhQFk8B_xuVjdGmtSTqlPvsO62OrngIrqCzExVZDV-JncqQ63ldur2TEeML29u8HMPvAMcTwVSroz4e0UwNRosaJB2goKc ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"mpkiPCk0UOjhf6Z3H8yhbQ","RequestId":"0HNFMVTQ3IBMA:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMA"}
[2025-09-18 18:05:28.414 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de&vscodeBrowserReqId=1758233128398 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.433 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fd0344e4 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/TESTUSR1","HasValue":true},"QueryString":"?id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de\u0026vscodeBrowserReqId=1758233128398","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.445 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.466 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.492 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.509 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.584 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.596 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] Loading session data for token: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:28.610 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:28.631 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:28.718 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.735 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9c8e32ed | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.744 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.771 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.813 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a261ea6] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.831 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.844 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:28.855 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.121 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.161 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.209 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.227 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.306 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.395 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.407 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.477 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.571 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.583 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Token validation successful - Session 223, Access #155, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.598 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.730 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.760 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8415f63f] Access count updated to 155 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.928 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.947 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a261ea6] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.958 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a261ea6] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:29.973 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.014 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 1220.7599ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.016 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 1364.85ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:30.040 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.053 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1443.7951ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:30.079 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9c8e32ed | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":1343} {"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.100 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":1343.9333,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.114 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 1395.958ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMC:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:30.114 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] Session validation API response: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:30.158 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:30.173 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9d07474c] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:30.181 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9d07474c] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:30.191 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:30.208 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:30.230 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.246 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 10d22988 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.255 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.273 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.304 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8a86b57a] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.315 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.333 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.354 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.375 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.404 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.431 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.515 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.540 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.562 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.579 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.607 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.632 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.677 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.691 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Token validation successful - Session 223, Access #156, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.705 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.723 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.745 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2059410f] Access count updated to 156 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.756 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.768 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.806 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.824 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.834 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.858 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.877 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.888 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a86b57a] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.904 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8a86b57a] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.915 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.942 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 649.7422ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.942 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 716.6575ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:30.964 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:30.974 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 783.5952ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:30.995 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 10d22988 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":749} {"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:31.011 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":749.4034,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:31.018 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 788.451ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:31.019 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9d07474c] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.040 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"8a86b57a"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.054 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9d07474c] Loaded 1 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.113 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 2631.0028ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.124 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.124 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155310645189 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.126 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.146 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.163 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /NoorCanvas.styles.css was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVTQ3IBMB:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.203 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.209 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ea46cff3 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.221 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fd0344e4 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":2788} {"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.251 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155310645189 - 200 1769400 image/png 126.6635ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.238 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 304 null text/css 113.577ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.280 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/TESTUSR1 | Data: {"DurationMs":2788.2436,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.285 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de&vscodeBrowserReqId=1758233128398 - 200 null text/html; charset=utf-8 2908.3568ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.327 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.352 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.363 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ea46cff3 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":153} {"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.371 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":153.7467,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.379 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 252.3797ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.393 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.414 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ec1060d5 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.424 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.441 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.454 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ec1060d5 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":39} {"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.462 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":39.5507,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.471 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 77.8194ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.488 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.510 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3c842e4f | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.521 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.534 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.546 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.561 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3c842e4f | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":50} {"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.571 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":50.6689,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.578 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 89.9584ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.580 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=arEp_JsIUKdhL-6qBA-jhA - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.605 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c47231f9 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=arEp_JsIUKdhL-6qBA-jhA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.612 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.622 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.631 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.646 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.659 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.674 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/TESTUSR1?id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de&vscodeBrowserReqId=1758233128398, [{"type":"server","prerenderId":"db60bd15a24f4a909f898250b961faa2","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbMcAiSashvVZ7Zfr32tr3N2PWF9KNeBMPSQGI6275vKiQOGtZmiglpTMehehoMGvBhMwHguPxLlZKTBzJLqOpKfG6KilwoKZ6foPpIOi5CMlg/OKA6yNJwlkb6NSj73Q4CkUP6vLs8UNt7wzlq5qWaWgUHvYDWaMZnbdYa9gKjO4Rz/AY9HCU6gV3CT5jP+hZ+bDDzjPqlVydJWbm1rRfx5eb8e5xYuKNWNZdYrnv10M7xSwi2i6MCbNDfDiYyCyyddNqP2QaZIXnNFaLY0WQ6X2T/aKt44jyLKUFkD7Q53sUL6WXWz+DzvU4yMGvEmkZ7u5xTFxAGglYIXcv6EdvgSU5nmY0DdoQ2a70raWUs8Fnw8LsRn/F5V3AjqYNr7L6vYg4x2WoYUDQ4l3v+LbQAPwKGfP0bQb61+/b0TeraIEfilBj6sluc7+bh7taR5X0aHzYhJU4+Bxsbw8UiAV/ICXaEQc2dGNVUZcHLMbSJSoA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.745 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.754 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] Loading session data for token: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.761 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:31.776 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:31.791 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.797 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.797 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155317924094 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.821 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3dd57188 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.830 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.852 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.855 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.871 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.876 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.887 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155317924094 - 200 1769400 image/png 90.2014ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:31.920 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [7f439f34] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.931 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.940 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.950 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.961 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.976 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:31.989 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.005 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.018 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.035 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.046 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.063 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.083 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.093 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Token validation successful - Session 223, Access #157, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.106 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.120 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.137 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e0a617ed] Access count updated to 157 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.152 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.168 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [7f439f34] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.177 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [7f439f34] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.187 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.204 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 289.3952ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.204 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 414.3321ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:32.226 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.234 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 472.0966ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:05:32.252 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3dd57188 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":431} {"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.268 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":431.5994,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.275 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 484.0191ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMC:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMC"}
[2025-09-18 18:05:32.275 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] Session validation API response: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.295 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.304 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe1f93aa] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.309 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.311 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155323033554 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.312 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe1f93aa] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.346 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:32.356 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.364 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:32.382 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155323033554 - 200 1769400 image/png 71.1686ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.390 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.418 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f2441105 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.425 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.435 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.450 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [fcba3f56] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.459 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.468 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.476 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.487 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.499 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.512 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.530 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.542 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.557 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.568 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.584 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.596 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.611 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.628 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.639 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Token validation successful - Session 223, Access #158, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.650 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.663 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.680 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3bf5d41b] Access count updated to 158 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.691 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.700 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.712 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.730 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.740 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.753 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.771 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.780 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fcba3f56] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.792 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [fcba3f56] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.801 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.820 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 370.2745ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.820 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 430.0504ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:32.843 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.853 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 507.2609ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:05:32.874 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f2441105 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":456} {"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.890 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":456.1754,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.897 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 506.705ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:05:32.897 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fe1f93aa] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.919 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"fcba3f56"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.929 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fe1f93aa] Loaded 1 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.940 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.942 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155329386808 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.945 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155329390464 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.968 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.976 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:32.998 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.017 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155329386808 - 499 1769400 image/png 74.9295ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.023 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155329390464 - 200 1769400 image/png 78.3366ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155333187499 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.379 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:33.393 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155333187499 - 200 1769400 image/png 70.3233ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:34.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:34.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155343182051 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:34.365 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:34.378 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155343182051 - 200 1769400 image/png 55.6497ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:35.315 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:35.318 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155353140143 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:35.363 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:35.378 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155353140143 - 200 1769400 image/png 59.8182ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:36.313 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:36.314 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155363118085 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:36.365 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:36.382 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155363118085 - 200 1769400 image/png 67.9403ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:37.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:37.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155373183722 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:37.359 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:37.373 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155373183722 - 200 1769400 image/png 51.1004ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:38.311 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:38.313 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155383098266 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:38.348 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:38.364 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155383098266 - 200 1769400 image/png 50.8311ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:39.308 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:39.309 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155393064901 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:39.349 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:39.366 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155393064901 - 200 1769400 image/png 56.2844ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:40.311 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:40.313 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155403103637 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:40.349 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:40.363 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155403103637 - 200 1769400 image/png 49.488ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:41.307 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:41.309 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155413057431 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:41.347 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:41.361 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155413057431 - 200 1769400 image/png 52.313ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:42.306 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:42.308 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155423052545 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:42.346 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:42.361 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155423052545 - 200 1769400 image/png 52.8697ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.305 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.307 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155433045838 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.340 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.352 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938155433045838 - 200 1769400 image/png 44.8033ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.498 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryRETQQIEejC0jnOlp 359 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.500 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.521 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ad4242fd | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundaryRETQQIEejC0jnOlp","ContentLength":359} {"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.529 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.541 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.546 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c47231f9 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":11941} {"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.560 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.563 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":11941.4195,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.578 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=arEp_JsIUKdhL-6qBA-jhA - 200 null null 11997.8789ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.584 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.604 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ad4242fd | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":83} {"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.610 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":83.1842,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.617 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 118.5021ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000002D","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.785 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/participant/register?session=e47f2681-2754-42eb-aa86-5f175dfad63e&id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de&vscodeBrowserReqId=1758233143779 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.799 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 72c87d41 | Data: {"Method":"GET","Path":{"Value":"/participant/register","HasValue":true},"QueryString":"?session=e47f2681-2754-42eb-aa86-5f175dfad63e\u0026id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de\u0026vscodeBrowserReqId=1758233143779","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.808 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.822 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.839 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.853 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.886 -04:00 INF] NoorCanvas.Pages.ParticipantRegister NOOR-INFO: Participant registration page loading for session: e47f2681-2754-42eb-aa86-5f175dfad63e {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.901 -04:00 ERR] NoorCanvas.Pages.ParticipantRegister NOOR-ERROR: Failed to initialize registration page {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
System.InvalidOperationException: JavaScript interop calls cannot be issued at this time. This is because the component is being statically rendered. When prerendering is enabled, JavaScript interop calls can only be performed during the OnAfterRenderAsync lifecycle method.
   at Microsoft.AspNetCore.Components.Server.Circuits.RemoteJSRuntime.BeginInvokeJS(Int64 asyncHandle, String identifier, String argsJson, JSCallResultType resultType, Int64 targetInstanceId)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, CancellationToken cancellationToken, Object[] args)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, Object[] args)
   at Microsoft.JSInterop.JSRuntimeExtensions.InvokeVoidAsync(IJSRuntime jsRuntime, String identifier, Object[] args)
   at NoorCanvas.Pages.ParticipantRegister.OnInitializedAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\ParticipantRegister.razor:line 174
[2025-09-18 18:05:43.939 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 100.9519ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.952 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.971 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Failed | CorrelationId: 72c87d41 | Data: {"StatusCode":200,"Error":"JavaScript interop calls cannot be issued at this time. This is because the component is being statically rendered. When prerendering is enabled, JavaScript interop calls can only be performed during the OnAfterRenderAsync lifecycle method.","StackTrace":"   at Microsoft.AspNetCore.Components.Server.Circuits.RemoteJSRuntime.BeginInvokeJS(Int64 asyncHandle, String identifier, String argsJson, JSCallResultType resultType, Int64 targetInstanceId)\r\n   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, CancellationToken cancellationToken, Object[] args)\r\n   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, Object[] args)\r\n   at Microsoft.JSInterop.JSRuntimeExtensions.InvokeVoidAsync(IJSRuntime jsRuntime, String identifier, Object[] args)\r\n   at NoorCanvas.Pages.ParticipantRegister.OnInitializedAsync() in D:\\PROJECTS\\NOOR CANVAS\\SPA\\NoorCanvas\\Pages\\ParticipantRegister.razor:line 202\r\n   at Microsoft.AspNetCore.Components.ComponentBase.RunInitAndSetParametersAsync()\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)\r\n   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewComponentFrame(DiffContext\u0026 diffContext, Int32 frameIndex)\r\n   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewSubtree(DiffContext\u0026 diffContext, Int32 frameIndex)\r\n   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InsertNewFrame(DiffContext\u0026 diffContext, Int32 newFrameIndex)\r\n   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.AppendDiffEntriesForRange(DiffContext\u0026 diffContext, Int32 oldStartIndex, Int32 oldEndIndexExcl, Int32 newStartIndex, Int32 newEndIndexExcl)\r\n   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.ComputeDiff(Renderer renderer, RenderBatchBuilder batchBuilder, Int32 componentId, ArrayRange\u00601 oldTree, ArrayRange\u00601 newTree)\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception\u0026 renderFragmentException)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.AddToRenderQueue(Int32 componentId, RenderFragment renderFragment)\r\n   at Microsoft.AspNetCore.Components.Endpoints.SSRRenderModeBoundary.SetParametersAsync(ParameterView parameters)\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)\r\n   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)\r\n   at Microsoft.AspNetCore.Components.RenderTree.Renderer.RenderRootComponentAsync(Int32 componentId, ParameterView initialParameters)\r\n   at Microsoft.AspNetCore.Components.HtmlRendering.Infrastructure.StaticHtmlRenderer.BeginRenderingComponent(IComponent component, ParameterView initialParameters)\r\n   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.\u003C\u003Ec__DisplayClass35_0.\u003CPrerenderComponentAsync\u003Eb__0()\r\n   at Microsoft.AspNetCore.Components.Rendering.RendererSynchronizationContext.\u003CInvokeAsync\u003Eg__Execute|9_0[TResult](ValueTuple\u00603 state)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.PrerenderComponentAsync(HttpContext httpContext, Type componentType, IComponentRenderMode prerenderMode, ParameterView parameters, Boolean waitForQuiescence)\r\n   at Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)\r\n   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.\u003CRunAsync\u003Eg__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)\r\n   at NoorCanvas.Pages.Pages__Host.\u003CExecuteAsync\u003Eb__14_1()\r\n   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()\r\n   at NoorCanvas.Pages.Pages__Host.ExecuteAsync() in D:\\PROJECTS\\NOOR CANVAS\\SPA\\NoorCanvas\\Pages\\_Host.cshtml:line 5\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)\r\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable\u00601 statusCode)\r\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable\u00601 statusCode)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeNextResultFilterAsync\u003Eg__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State\u0026 next, Scope\u0026 scope, Object\u0026 state, Boolean\u0026 isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeNextResourceFilter\u003Eg__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State\u0026 next, Scope\u0026 scope, Object\u0026 state, Boolean\u0026 isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.\u003CInvokeAsync\u003Eg__Logged|17_1(ResourceInvoker invoker)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.\u003CInvoke\u003Eg__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at NoorCanvas.Middleware.DebugMiddleware.InvokeAsync(HttpContext context) in D:\\PROJECTS\\NOOR CANVAS\\SPA\\NoorCanvas\\Middleware\\DebugMiddleware.cs:line 53","DurationMs":165} {"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:05:43.988 -04:00 ERR] NoorCanvas.Middleware.DebugMiddleware NOOR_DEBUG: Request failed for GET /participant/register (CorrelationId: 72c87d41) {"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
System.InvalidOperationException: JavaScript interop calls cannot be issued at this time. This is because the component is being statically rendered. When prerendering is enabled, JavaScript interop calls can only be performed during the OnAfterRenderAsync lifecycle method.
   at Microsoft.AspNetCore.Components.Server.Circuits.RemoteJSRuntime.BeginInvokeJS(Int64 asyncHandle, String identifier, String argsJson, JSCallResultType resultType, Int64 targetInstanceId)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, CancellationToken cancellationToken, Object[] args)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, Object[] args)
   at Microsoft.JSInterop.JSRuntimeExtensions.InvokeVoidAsync(IJSRuntime jsRuntime, String identifier, Object[] args)
   at NoorCanvas.Pages.ParticipantRegister.OnInitializedAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\ParticipantRegister.razor:line 202
   at Microsoft.AspNetCore.Components.ComponentBase.RunInitAndSetParametersAsync()
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewComponentFrame(DiffContext& diffContext, Int32 frameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewSubtree(DiffContext& diffContext, Int32 frameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InsertNewFrame(DiffContext& diffContext, Int32 newFrameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.AppendDiffEntriesForRange(DiffContext& diffContext, Int32 oldStartIndex, Int32 oldEndIndexExcl, Int32 newStartIndex, Int32 newEndIndexExcl)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.ComputeDiff(Renderer renderer, RenderBatchBuilder batchBuilder, Int32 componentId, ArrayRange`1 oldTree, ArrayRange`1 newTree)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.AddToRenderQueue(Int32 componentId, RenderFragment renderFragment)
   at Microsoft.AspNetCore.Components.Endpoints.SSRRenderModeBoundary.SetParametersAsync(ParameterView parameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.RenderRootComponentAsync(Int32 componentId, ParameterView initialParameters)
   at Microsoft.AspNetCore.Components.HtmlRendering.Infrastructure.StaticHtmlRenderer.BeginRenderingComponent(IComponent component, ParameterView initialParameters)
   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.<>c__DisplayClass35_0.<PrerenderComponentAsync>b__0()
   at Microsoft.AspNetCore.Components.Rendering.RendererSynchronizationContext.<InvokeAsync>g__Execute|9_0[TResult](ValueTuple`3 state)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.PrerenderComponentAsync(HttpContext httpContext, Type componentType, IComponentRenderMode prerenderMode, ParameterView parameters, Boolean waitForQuiescence)
   at Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at NoorCanvas.Pages.Pages__Host.<ExecuteAsync>b__14_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at NoorCanvas.Pages.Pages__Host.ExecuteAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\_Host.cshtml:line 5
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at NoorCanvas.Middleware.DebugMiddleware.InvokeAsync(HttpContext context) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Middleware\DebugMiddleware.cs:line 53
[2025-09-18 18:05:44.030 -04:00 ERR] Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware An unhandled exception has occurred while executing the request. {"EventId":{"Id":1,"Name":"UnhandledException"},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
System.InvalidOperationException: JavaScript interop calls cannot be issued at this time. This is because the component is being statically rendered. When prerendering is enabled, JavaScript interop calls can only be performed during the OnAfterRenderAsync lifecycle method.
   at Microsoft.AspNetCore.Components.Server.Circuits.RemoteJSRuntime.BeginInvokeJS(Int64 asyncHandle, String identifier, String argsJson, JSCallResultType resultType, Int64 targetInstanceId)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, CancellationToken cancellationToken, Object[] args)
   at Microsoft.JSInterop.JSRuntime.InvokeAsync[TValue](Int64 targetInstanceId, String identifier, Object[] args)
   at Microsoft.JSInterop.JSRuntimeExtensions.InvokeVoidAsync(IJSRuntime jsRuntime, String identifier, Object[] args)
   at NoorCanvas.Pages.ParticipantRegister.OnInitializedAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\ParticipantRegister.razor:line 202
   at Microsoft.AspNetCore.Components.ComponentBase.RunInitAndSetParametersAsync()
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewComponentFrame(DiffContext& diffContext, Int32 frameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InitializeNewSubtree(DiffContext& diffContext, Int32 frameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.InsertNewFrame(DiffContext& diffContext, Int32 newFrameIndex)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.AppendDiffEntriesForRange(DiffContext& diffContext, Int32 oldStartIndex, Int32 oldEndIndexExcl, Int32 newStartIndex, Int32 newEndIndexExcl)
   at Microsoft.AspNetCore.Components.RenderTree.RenderTreeDiffBuilder.ComputeDiff(Renderer renderer, RenderBatchBuilder batchBuilder, Int32 componentId, ArrayRange`1 oldTree, ArrayRange`1 newTree)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.ProcessRenderQueue()
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.AddToRenderQueue(Int32 componentId, RenderFragment renderFragment)
   at Microsoft.AspNetCore.Components.Endpoints.SSRRenderModeBoundary.SetParametersAsync(ParameterView parameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SupplyCombinedParameters(ParameterView directAndCascadingParameters)
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.SetDirectParameters(ParameterView parameters)
   at Microsoft.AspNetCore.Components.RenderTree.Renderer.RenderRootComponentAsync(Int32 componentId, ParameterView initialParameters)
   at Microsoft.AspNetCore.Components.HtmlRendering.Infrastructure.StaticHtmlRenderer.BeginRenderingComponent(IComponent component, ParameterView initialParameters)
   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.<>c__DisplayClass35_0.<PrerenderComponentAsync>b__0()
   at Microsoft.AspNetCore.Components.Rendering.RendererSynchronizationContext.<InvokeAsync>g__Execute|9_0[TResult](ValueTuple`3 state)
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Components.Endpoints.EndpointHtmlRenderer.PrerenderComponentAsync(HttpContext httpContext, Type componentType, IComponentRenderMode prerenderMode, ParameterView parameters, Boolean waitForQuiescence)
   at Microsoft.AspNetCore.Mvc.TagHelpers.ComponentTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.<RunAsync>g__Awaited|0_0(Task task, TagHelperExecutionContext executionContext, Int32 i, Int32 count)
   at NoorCanvas.Pages.Pages__Host.<ExecuteAsync>b__14_1()
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.SetOutputContentAsync()
   at NoorCanvas.Pages.Pages__Host.ExecuteAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\_Host.cshtml:line 5
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at NoorCanvas.Middleware.DebugMiddleware.InvokeAsync(HttpContext context) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Middleware\DebugMiddleware.cs:line 53
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2025-09-18 18:05:44.097 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/participant/register?session=e47f2681-2754-42eb-aa86-5f175dfad63e&id=3e712a30-231e-4c9e-a9e7-a1b97dfdd2de&vscodeBrowserReqId=1758233143779 - 500 null text/html; charset=utf-8 311.6919ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000002F","RequestPath":"/participant/register","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:00.186 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9155ac6d] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:00.196 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9155ac6d] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:00.207 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:00.229 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:00.253 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.266 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a8ca851a | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.275 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.285 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.302 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b4a04769] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.311 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.323 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.332 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.344 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.356 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.371 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.389 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.401 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.418 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.429 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.446 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.458 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.473 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.491 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.503 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Token validation successful - Session 223, Access #159, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.514 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.530 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.548 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [54ec8068] Access count updated to 159 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.560 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.575 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.588 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.606 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.616 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.626 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.643 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.653 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b4a04769] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.663 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b4a04769] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.674 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.689 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 388.7784ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.689 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 437.3036ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:00.707 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.715 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 508.3291ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:00.734 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a8ca851a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":468} {"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.749 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":468.7248,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.757 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 504.1039ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:00.757 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9155ac6d] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:00.777 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9155ac6d] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"b4a04769"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:00.788 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9155ac6d] Loaded 1 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:02.306 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [beecf851] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:02.314 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [beecf851] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:02.323 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:02.343 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:02.362 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.378 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7758de83 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.387 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.396 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.412 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f9df87aa] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.421 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.429 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.438 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.448 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.458 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.469 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.485 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.495 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.511 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.521 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.537 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.547 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.561 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.577 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.587 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Token validation successful - Session 223, Access #160, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.597 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.611 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.629 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c327a57b] Access count updated to 160 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.642 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.652 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.661 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.677 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.687 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.696 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.712 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.726 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f9df87aa] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.737 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f9df87aa] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.746 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.761 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 349.5027ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.761 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 400.0302ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:02.784 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.803 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 479.8186ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:02.811 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7758de83 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":432} {"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.839 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":432.0484,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.846 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 484.1371ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:02.846 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [beecf851] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:02.869 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [beecf851] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"f9df87aa"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:02.878 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [beecf851] Loaded 1 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:30.185 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [be7ef366] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:30.195 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [be7ef366] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:30.206 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:30.223 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:30.242 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.256 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 08f71c0d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.264 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.273 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.290 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c5240af3] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.301 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.312 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.322 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.330 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.341 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.353 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.369 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.379 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.396 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.409 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.426 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.438 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.453 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.471 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.480 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Token validation successful - Session 223, Access #161, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.494 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.508 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.524 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89842814] Access count updated to 161 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.534 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.542 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.552 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.570 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.579 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.590 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.607 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.615 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c5240af3] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.627 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c5240af3] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.639 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.657 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 367.5773ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.658 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 416.1207ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:30.677 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.687 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 481.0416ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:30.707 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 08f71c0d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":450} {"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.723 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":450.5875,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.731 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 488.1734ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:30.731 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [be7ef366] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:30.754 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [be7ef366] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"c5240af3"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:30.762 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [be7ef366] Loaded 1 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:32.305 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8d69b559] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:32.313 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8d69b559] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:32.323 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:32.343 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:32.362 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.377 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 752d5f4d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.387 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.396 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.415 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [705a1d30] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.427 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.438 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.447 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.456 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.467 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.478 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.493 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.506 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.522 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.535 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.553 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.565 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.585 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.608 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.620 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Token validation successful - Session 223, Access #162, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.634 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.649 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.667 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e621991e] Access count updated to 162 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.678 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.688 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.703 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.719 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.727 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.740 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.755 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Found 1 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.763 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [705a1d30] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.773 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [705a1d30] Found 1 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.782 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.798 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 383.2338ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.798 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 436.1316ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:32.821 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.831 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 507.3382ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:06:32.853 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 752d5f4d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":475} {"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.871 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":475.8138,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.878 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 516.0674ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:06:32.878 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8d69b559] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:32.903 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8d69b559] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":1,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"}],"requestId":"705a1d30"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:32.911 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8d69b559] Loaded 1 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:06:44.668 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:9091/api/participant/register - application/json 120 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.681 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6b0bb913 | Data: {"Method":"POST","Path":{"Value":"/api/participant/register","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-US) WindowsPowerShell/5.1.19041.6328","RemoteIP":"::1","ContentType":"application/json","ContentLength":120} {"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.689 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.704 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "RegisterParticipant", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterParticipant(NoorCanvas.Controllers.ParticipantRegistrationRequest) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.732 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-INFO: Participant registration: Test User 2 {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.741 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REG: Name='Test User 2', Country='Canada' {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.773 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionGuid_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[LinkId], [s].[CreatedAt], [s].[Guid], [s].[LastUsedAt], [s].[SessionId], [s].[State], [s].[UseCount], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SessionLinks] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[Guid] = @__sessionGuid_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.811 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__session_SessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[SessionId] = @__session_SessionId_0 AND [s].[IsActive] = CAST(1 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.840 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[Country], [u].[CreatedAt], [u].[FirstJoinedAt], [u].[IsActive], [u].[LastJoinedAt], [u].[LastSeenAt], [u].[ModifiedAt], [u].[Name], [u].[UserGuid]
FROM [canvas].[Users] AS [u]
WHERE [u].[UserId] = @__get_Item_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:44.982 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [canvas].[Users] ([UserId], [Country], [CreatedAt], [FirstJoinedAt], [IsActive], [LastJoinedAt], [LastSeenAt], [ModifiedAt], [Name], [UserGuid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [canvas].[Registrations] ([JoinTime], [SessionId], [UserId])
OUTPUT INSERTED.[RegistrationId]
VALUES (@p10, @p11, @p12); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.036 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REGISTRATION: User registered successfully {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.052 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REGISTRATION: Name: Test User 2, UserId: "57fbba99-24dd-487c-ba1d-a3188cb9607c" {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.066 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REGISTRATION: SessionId: 223, UserToken: TESTUSR1 {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.079 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REGISTRATION: RegistrationId: 2, JoinTime: "2025-09-18T22:06:44.8997497Z" {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.091 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-REGISTRATION: WaitingRoomUrl: /session/waiting/TESTUSR1 {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.101 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-SUCCESS: Participant registered: Test User 2 (ID: "57fbba99-24dd-487c-ba1d-a3188cb9607c") for session token: TESTUSR1 {"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.112 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.ParticipantRegistrationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"a9467cd8-4d39-4b66-a190-d9bea29e7bd6","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)","RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.131 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas) in 411.555ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.147 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipant (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.158 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6b0bb913 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":477} {"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.168 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/api/participant/register | Data: {"DurationMs":477.544,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:06:45.175 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:9091/api/participant/register - 200 null application/json; charset=utf-8 506.2079ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBME:00000001","RequestPath":"/api/participant/register","ConnectionId":"0HNFMVTQ3IBME"}
[2025-09-18 18:07:00.180 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ee7ed4a6] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:00.191 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ee7ed4a6] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:00.201 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:00.220 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:00.241 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.256 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f674dc2f | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.266 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.276 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.292 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [627b6160] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.302 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.311 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.320 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.329 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.341 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.354 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.377 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.393 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.415 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.427 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.445 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.457 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.473 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.490 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.500 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Token validation successful - Session 223, Access #163, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.510 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.525 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.543 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d23c6919] Access count updated to 163 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.556 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.564 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.580 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.597 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.607 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.624 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.640 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.649 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.658 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [627b6160] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.668 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [627b6160] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.677 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.692 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 400.9768ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.693 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 451.8751ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:00.714 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.722 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 521.2725ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:00.741 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f674dc2f | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":485} {"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.758 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":485.3504,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.765 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 523.9339ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:00.765 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ee7ed4a6] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:00.785 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ee7ed4a6] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"627b6160"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:00.794 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ee7ed4a6] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:02.303 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a547d029] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:02.311 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a547d029] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:02.320 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:02.337 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:02.353 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.368 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8ecc6fd4 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.375 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.385 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.402 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5aff7b0f] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.410 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.421 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.429 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.439 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.450 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.464 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.480 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.492 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.510 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.523 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.540 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.551 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.567 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.585 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.597 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Token validation successful - Session 223, Access #164, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.609 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.622 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.640 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ef2cfff3] Access count updated to 164 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.653 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.661 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.673 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.689 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.698 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.707 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.723 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.732 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.742 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [5aff7b0f] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.754 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5aff7b0f] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.763 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.779 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 377.9179ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.779 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 426.3392ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:02.798 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.806 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 485.7388ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:02.824 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8ecc6fd4 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":456} {"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.840 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":456.1082,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.848 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 494.0296ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMD:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMD"}
[2025-09-18 18:07:02.848 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a547d029] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:02.868 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a547d029] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"5aff7b0f"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:02.875 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a547d029] Loaded 2 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.566 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233233560 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.580 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0d948918 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/TESTUSR1","HasValue":true},"QueryString":"?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483\u0026vscodeBrowserReqId=1758233233560","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.591 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.603 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.618 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.631 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.656 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.666 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] Loading session data for token: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:13.676 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:13.692 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:13.711 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.723 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 30de5fea | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.730 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.740 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.756 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c1872397] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.765 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.775 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.795 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.812 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.822 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.839 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.849 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.865 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.877 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.891 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.907 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.917 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Token validation successful - Session 223, Access #165, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.927 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.939 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.955 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19d329af] Access count updated to 165 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.968 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.984 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c1872397] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:13.993 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c1872397] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.045 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.070 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 313.7921ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.070 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 361.498ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:14.089 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.097 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 421.3536ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:14.116 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 30de5fea | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":392} {"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.131 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":392.911,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.138 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 426.6131ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMF:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:14.138 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] Session validation API response: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.164 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.175 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [84cff26e] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.184 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [84cff26e] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.193 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:14.209 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:14.228 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.241 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f2765915 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.253 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.263 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.278 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [932baf32] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.287 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.297 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.307 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.317 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.327 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.338 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.354 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.365 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.382 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.394 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.410 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.421 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.435 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.451 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.460 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Token validation successful - Session 223, Access #166, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.472 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.484 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.500 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9c380e43] Access count updated to 166 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.509 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.519 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.530 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.548 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.558 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.570 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.591 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.612 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [932baf32] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.623 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [932baf32] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.634 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.651 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 373.1219ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.651 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 425.8436ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:14.671 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.680 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 486.9253ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:14.701 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f2765915 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":459} {"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.717 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":459.3505,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.725 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 496.637ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:14.725 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [84cff26e] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.746 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"932baf32"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.756 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [84cff26e] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.770 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1152.8391ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.787 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.791 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156347686668 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.798 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.821 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0d948918 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1240} {"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.834 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: decd4b29 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.854 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/TESTUSR1 | Data: {"DurationMs":1240.9284,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.859 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.888 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.892 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233233560 - 200 null text/html; charset=utf-8 1326.0107ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.911 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.918 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.940 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156347686668 - 200 1769400 image/png 148.8118ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.945 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: decd4b29 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":110} {"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.965 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":110.8259,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.972 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 174.1117ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000035","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:14.988 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.003 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3a1ed443 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.009 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.019 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.029 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3a1ed443 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":26} {"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.036 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":26.0326,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.042 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 54.8845ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000037","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.049 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.068 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 2384aeb6 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.075 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.085 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.094 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.106 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 2384aeb6 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":38} {"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.112 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":38.0814,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.119 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 69.9745ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000039","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.123 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=Dm8frkD7rS2Zgnjz1NP0yQ - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.145 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 24d35fcc | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=Dm8frkD7rS2Zgnjz1NP0yQ","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.153 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.163 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.173 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.185 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.197 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.214 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/TESTUSR1?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233233560, [{"type":"server","prerenderId":"47845ba34e564fb18f964aeff10d67df","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOZZw8VnlneVHAx1sfjCjioatFmvJ16lqeP7DtASViPy54uUybYSylOKANAGQtvQFqLmji/pCaDvKLCqV3Mljzv3F/AeicJHcgPBQ7aHcOZyfHBXkJOm3V+PozrqxKHafDakFHBIuBx9gmoyNG9b838oKjPrNsLgDktQETfjng70OLQ+f2Ki1IVdol6J2VzgcHftxk14mJQt90Eohi0oGHztd8f5tVdLdPNPXENrLW66+f+CuMpyU3j+BE4vm0wdQwnU0hMLegiK2yqjXV8ZUCLnKm1++sdpGnH45ujCZ8cVFzo30k5+Zn44AdadjTS5TO/Xo+BJDi2jIvK8t+M/YV1vyiphKK5o80RfGcmXkQTr87gK2F1wU7PafWs9WsmUyJhTmMKcv5CF/C8w99YUcHg9+7coLH5SiQtOStyLWS3Keheg2rPmGo7Y8A0nVvzDZbftIz2o2y26PPyvXQIURihUrA9bgibebUtD5y3zJ8YxA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.235 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.242 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] Loading session data for token: TESTUSR1 {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.250 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:15.265 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:15.279 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.279 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.286 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156352790601 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.305 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d2cc2b43 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.312 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.328 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.338 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.352 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.360 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156352790601 - 200 1769400 image/png 74.2458ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.377 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.414 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d319208c] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.423 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.433 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.443 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.454 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.472 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.483 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.500 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.510 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.527 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.538 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.552 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.569 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.578 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Token validation successful - Session 223, Access #167, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.591 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.604 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.620 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fa6ee8c2] Access count updated to 167 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.631 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.647 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d319208c] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.656 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d319208c] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.666 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.683 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 269.368ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.683 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 405.0179ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:15.702 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.709 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 458.9218ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:15.727 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d2cc2b43 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":421} {"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.741 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":421.3267,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.749 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 470.336ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMF:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMF"}
[2025-09-18 18:07:15.749 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] Session validation API response: "OK" {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.769 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.776 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [243225ea] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.781 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.783 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156357765885 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.785 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [243225ea] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.818 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:15.824 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.840 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:15.845 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156357765885 - 200 1769400 image/png 62.3589ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:15.866 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.888 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a2d33f68 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.896 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.905 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.921 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [896a1cbd] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.929 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.938 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.946 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.956 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.965 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.975 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:15.990 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.001 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.017 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.027 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.042 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.053 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.066 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.082 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.093 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Token validation successful - Session 223, Access #168, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.225 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.237 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.267 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad5cd709] Access count updated to 168 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.276 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.285 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.293 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.308 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.316 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.325 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.340 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.349 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.359 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [896a1cbd] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.370 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [896a1cbd] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.378 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.398 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 477.5226ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.398 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 532.325ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:16.417 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.425 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 607.4077ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:16.444 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a2d33f68 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":555} {"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.459 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":555.8753,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.467 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 600.9353ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:16.467 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [243225ea] API response status: "OK" {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.489 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"896a1cbd"} {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.497 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [243225ea] Loaded 2 participants from API {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.509 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.511 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156365065256 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.525 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156365068679 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.538 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.550 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.572 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.589 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156365065256 - 499 1769400 image/png 77.7791ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.594 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156365068679 - 200 1769400 image/png 68.6759ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.791 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.793 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156367896276 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.841 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:16.855 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156367896276 - 200 1769400 image/png 62.2725ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:17.791 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:17.793 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156377900586 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:17.828 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:17.844 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156377900586 - 200 1769400 image/png 50.7063ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:18.790 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:18.791 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156387884515 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:18.825 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:18.839 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156387884515 - 200 1769400 image/png 48.4502ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:19.786 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:19.787 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156397848769 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:19.825 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:19.840 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156397848769 - 200 1769400 image/png 52.4869ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:20.790 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.054 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156407894536 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.076 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.091 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156407894536 - 200 1769400 image/png 36.102ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.789 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.790 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156417877459 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.827 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:21.843 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156417877459 - 200 1769400 image/png 52.1274ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:22.788 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:22.789 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156427867651 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:22.822 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:22.835 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156427867651 - 200 1769400 image/png 45.7585ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:23.788 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:23.789 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156437867109 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:23.828 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:23.842 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156437867109 - 200 1769400 image/png 52.2238ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:24.786 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:24.789 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156447852232 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:24.825 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:24.840 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156447852232 - 200 1769400 image/png 51.1641ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:25.786 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:25.788 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156457852020 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:25.825 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:25.839 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156457852020 - 200 1769400 image/png 51.1002ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:26.785 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:26.787 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156467846503 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:26.820 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:26.832 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156467846503 - 200 1769400 image/png 44.8613ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:27.778 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:27.780 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156477771200 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:27.816 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:27.828 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156477771200 - 200 1769400 image/png 47.8925ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:28.789 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:28.790 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156487875558 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:28.824 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:28.838 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156487875558 - 200 1769400 image/png 47.7458ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.291 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.297 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary7avDrRhYe08CAXov 359 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.316 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.323 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5fef065f | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundary7avDrRhYe08CAXov","ContentLength":359} {"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.340 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 24d35fcc | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":14195} {"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.344 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.363 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.357 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":14195.7025,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.380 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.384 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=Dm8frkD7rS2Zgnjz1NP0yQ - 200 null null 14261.1432ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.402 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5fef065f | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":78} {"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.415 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":78.7845,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.422 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 124.8946ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000005F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.606 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?refresh=true&id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233249600 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.623 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 008beb47 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/TESTUSR1","HasValue":true},"QueryString":"?refresh=true\u0026id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483\u0026vscodeBrowserReqId=1758233249600","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.631 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.642 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.657 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.670 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.685 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.693 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] Loading session data for token: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:29.702 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:29.719 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:29.742 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.755 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 29aa6083 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.764 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.773 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.790 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4b61340] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.799 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.808 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.818 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.829 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.847 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.857 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.873 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.883 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.899 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.910 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.925 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.943 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.953 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Token validation successful - Session 223, Access #169, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.964 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.975 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:29.994 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [68bc36a4] Access count updated to 169 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.009 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.025 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4b61340] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.036 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4b61340] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.045 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.062 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 272.3971ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.062 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 323.0684ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:30.083 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.093 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 390.6804ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:30.113 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 29aa6083 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":357} {"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.128 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":357.8993,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.135 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 393.042ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMH:00000001","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:30.135 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] Session validation API response: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.156 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.165 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5506907b] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.172 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9170c759] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.173 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5506907b] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.185 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9170c759] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:30.188 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:30.205 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:30.213 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:30.240 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:30.248 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.275 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.279 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 49f1bcde | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.299 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 595bceef | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.303 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.316 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.321 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.339 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.348 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b638f921] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.369 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [bf4305fb] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.373 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.389 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.394 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.413 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.408 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.426 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.432 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.447 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.456 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.462 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.484 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.492 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.511 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.522 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.540 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.548 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.564 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.570 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.592 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.600 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.616 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.620 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.643 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.650 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.667 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.675 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.697 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.702 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Token validation successful - Session 223, Access #170, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.730 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.745 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Token validation successful - Session 223, Access #170, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.753 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.784 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2991ecf6] Access count updated to 170 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.800 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.805 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.827 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d0c59971] Access count updated to 170 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.833 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.851 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.857 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.873 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.882 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.895 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.899 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.919 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.924 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.940 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.948 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.961 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.966 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:30.989 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:30.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b638f921] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.010 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.016 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b638f921] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.032 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [bf4305fb] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.038 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.056 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [bf4305fb] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.064 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 717.0336ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.065 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 816.9202ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:31.097 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.090 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.120 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 931.154ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:31.125 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 49f1bcde | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":846} {"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.135 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 766.445ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.135 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 863.4164ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:31.178 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":846.8341,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.184 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.192 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 987.1343ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:31.215 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 966.2943ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:31.215 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5506907b] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.221 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 595bceef | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":921} {"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.257 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"b638f921"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.260 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":921.62,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.274 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5506907b] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.277 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1001.7077ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMI:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:31.277 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9170c759] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.296 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1639.5172ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.308 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156512959937 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.308 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.310 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9170c759] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"bf4305fb"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.342 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.358 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b7234da4 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.367 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.370 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9170c759] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.394 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 008beb47 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1771} {"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.398 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.404 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156512959937 - 200 1769400 image/png 96.2492ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.429 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/TESTUSR1 | Data: {"DurationMs":1771.6062,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.434 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.456 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/TESTUSR1?refresh=true&id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233249600 - 200 null text/html; charset=utf-8 1849.7251ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.462 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.491 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b7234da4 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":133} {"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.499 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":133.0142,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.505 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 196.7669ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000065","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.513 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.534 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: db3f0cd5 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.541 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.552 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.564 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: db3f0cd5 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":29} {"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.571 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":29.6755,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.577 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 63.9574ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000067","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.581 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.602 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a342eb00 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.609 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.619 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.627 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.638 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a342eb00 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":35} {"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.644 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":35.9479,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.651 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 69.8889ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000069","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.653 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=f3wdYGi65lHXvUoimUnGdg - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.677 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9b787844 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=f3wdYGi65lHXvUoimUnGdg","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.687 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.697 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.707 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.720 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.733 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.746 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/TESTUSR1?refresh=true&id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233249600, [{"type":"server","prerenderId":"12e5e54c2b484db09eba3c8c1ef851a4","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbPYOvOXJPlGCT+4Mf4rCxa0p875x6NADj8MHy/bkex5lgZZOcFs4eV+QvoI/Y5d8SC7c0aDioq8qiwXmirQSaSwXzrL/famhlbmNtlnk+D0o9PI+ODQQPn4jNIwr76Y4fHEDNCjaL/O28HXlO7KGtFhXBXVLuSknDjFKlVitNFupm4DOcVlyXcQQWZyZTLtvH454tXalm0AsvEWirjCZCx7P0063EWAJRicI/Fi7yc0wBmwbrCrzr7HHBnHJS+ECCE5wgswVD1lGIfYiU6Zx//IQ/yGd2bSeHzntwrmqVyNGEn8XiB9GZ4Wp1+Pa1VStr3aQwS7clKrCHKc9sJ9AthxxUxUPGm+6S7ysjeVIAIWQl7P3JYXTQ20ttNm7ZLwLJjveVM5p1AgFGjKALjvdTH+lLq+EEEPW4jfknK28nQDIOSl5pwWniNsSAjG451Jfw0HE1jI3gdhNuscoJedXjhxk5cm+shGaAJyWJ4U1qa2xA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.765 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] SessionWaiting OnInitialized - SessionToken: TESTUSR1 {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.773 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] Loading session data for token: TESTUSR1 {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.781 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:31.796 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:31.811 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.811 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.815 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156518110291 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.837 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6f57a7b7 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.842 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.859 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.867 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.883 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.892 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156518110291 - 200 1769400 image/png 76.5475ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:31.903 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.939 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df8e1063] Session token validation request for token: TESTUSR1 from ::1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.948 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Starting token validation {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.958 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Token: TESTUSR1, IsHost: false {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.969 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Querying database for token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.979 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:31.997 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Total tokens in database: 47 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.007 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.022 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Active non-expired tokens: 22 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.032 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.047 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Tokens matching 'TESTUSR1': 1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.057 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.070 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.086 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Final query result: Found valid token {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.095 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Token validation successful - Session 223, Access #171, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.107 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.119 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.136 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e725c9f5] Access count updated to 171 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.146 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.163 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df8e1063] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.173 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df8e1063] Successful participant token validation: TESTUSR1 → Session 223 - 'Lowering Ones Gaze' {"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.185 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"90184808-fa38-4fc1-a624-6710c59f2c4b","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.203 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 264.6823ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.203 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 392.984ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:32.224 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.234 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 452.6829ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/validate","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/validate"]}
[2025-09-18 18:07:32.254 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6f57a7b7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":417} {"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.271 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/validate | Data: {"DurationMs":417.0019,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.277 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/validate - 200 null application/json; charset=utf-8 466.7779ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMH:00000002","RequestPath":"/api/participant/session/TESTUSR1/validate","ConnectionId":"0HNFMVTQ3IBMH"}
[2025-09-18 18:07:32.278 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] Session validation API response: "OK" {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.300 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.307 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e8e23803] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.307 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5f4f2263] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.311 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.313 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156523075551 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.321 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e8e23803] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.338 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5f4f2263] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.365 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.370 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:32.375 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:32.400 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156523075551 - 200 1769400 image/png 86.7368ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:32.407 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:32.414 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:32.449 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.456 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.473 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 63ed411f | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.479 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b329b461 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.489 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.492 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.506 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.510 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.534 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b7390285] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.541 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [83fd8203] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.554 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.558 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.570 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.575 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.587 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.591 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.605 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.609 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.625 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.631 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.647 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.652 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.676 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.684 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.702 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.706 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.731 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.754 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.759 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.794 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.810 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.816 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.838 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.844 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.871 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.881 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.898 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Token validation successful - Session 223, Access #172, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.903 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Token validation successful - Session 223, Access #172, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.922 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.927 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.947 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.953 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:32.982 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2a4f8680] Access count updated to 172 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:32.991 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [35681931] Access count updated to 172 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.010 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.016 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.028 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.034 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.050 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.055 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.081 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.089 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.103 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.107 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.120 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.125 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.151 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.158 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.173 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.179 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.194 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [b7390285] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.201 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [83fd8203] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.221 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [b7390285] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.226 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [83fd8203] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.242 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.247 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.272 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 738.2765ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.272 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 822.8616ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:33.279 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 738.3537ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.280 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 824.3088ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:33.314 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.315 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156533119983 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.317 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.324 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 954.6005ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:33.331 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.339 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 964.3841ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:33.406 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.407 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 63ed411f | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":933} {"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.421 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b329b461 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":942} {"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.446 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156533119983 - 200 1769400 image/png 130.1781ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000071","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.451 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":933.6489,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.455 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":942.3643,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.480 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1031.0864ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMI:00000002","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:07:33.481 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e8e23803] API response status: "OK" {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.484 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1028.5484ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:33.485 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [5f4f2263] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.513 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"b7390285"} {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.523 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5f4f2263] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"83fd8203"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.534 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e8e23803] Loaded 2 participants from API {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.538 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [5f4f2263] Loaded 2 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.552 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.554 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156535500575 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.570 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.590 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:33.606 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156535500575 - 200 1769400 image/png 52.1226ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000073","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:34.323 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:34.325 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156543223498 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:34.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:34.376 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156543223498 - 200 1769400 image/png 51.2112ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:35.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:35.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156553193744 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:35.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:35.375 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156553193744 - 200 1769400 image/png 53.0132ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:36.321 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:36.323 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156563202473 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:36.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:36.375 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156563202473 - 200 1769400 image/png 52.3454ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:37.319 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:37.321 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156573184945 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:37.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:37.375 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156573184945 - 200 1769400 image/png 53.6045ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000007B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:38.319 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:38.321 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156583183589 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:38.366 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:38.382 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156583183589 - 200 1769400 image/png 61.6145ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:39.318 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:39.320 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156593172650 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:39.358 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:39.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156593172650 - 200 1769400 image/png 52.1882ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000007F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:40.313 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:40.314 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156603116541 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:40.351 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:40.368 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156603116541 - 200 1769400 image/png 53.5697ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000081","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:41.310 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:41.312 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156613092624 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:41.358 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:41.373 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156613092624 - 200 1769400 image/png 60.4219ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000083","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:42.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:42.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156623193397 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:42.367 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:42.380 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156623193397 - 200 1769400 image/png 58.2892ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:43.318 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:43.319 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156633167499 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:43.357 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:43.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156633167499 - 200 1769400 image/png 52.6551ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000087","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.189 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [6e67fb6b] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.199 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [6e67fb6b] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.208 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:44.225 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:44.242 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.255 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e40786d0 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.262 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.274 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.290 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a5d2b838] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.300 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.309 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.314 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.316 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156643132938 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.319 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.358 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.366 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.380 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.386 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156643132938 - 200 1769400 image/png 69.3326ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000089","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.404 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.425 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.438 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.457 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.472 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.490 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.502 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.521 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.542 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.556 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Token validation successful - Session 223, Access #173, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.569 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.582 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.600 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [355631e4] Access count updated to 173 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.610 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.620 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.633 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.648 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.658 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.672 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.689 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.698 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.708 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a5d2b838] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.720 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a5d2b838] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.729 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.747 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 505.252ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:44.746 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 456.9118ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.769 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 561.1933ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000031","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:44.774 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.803 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e40786d0 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":547} {"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.809 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":547.9651,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.816 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 574.6106ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000005","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:44.817 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [6e67fb6b] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.837 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [6e67fb6b] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"a5d2b838"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:44.846 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [6e67fb6b] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.309 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.311 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156653086078 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.371 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.383 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156653086078 - 200 1769400 image/png 71.9914ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.790 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80e944f5] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.799 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80e944f5] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:45.806 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:45.822 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:45.839 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.854 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0f6bd9dd | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.862 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.871 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.887 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [573d4140] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.896 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.905 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.913 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.923 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.934 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.945 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.964 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.976 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:45.993 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.005 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.022 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.033 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.049 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.068 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.079 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Token validation successful - Session 223, Access #174, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.091 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.104 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.120 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14876ec4] Access count updated to 174 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.130 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.140 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.151 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.168 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.178 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.189 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.207 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.218 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.229 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [573d4140] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.239 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [573d4140] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.248 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.262 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 375.3833ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.262 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 424.2148ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:46.280 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.287 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 480.8782ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestId":"0HNFMVTQ3IBMB:0000003B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:07:46.305 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0f6bd9dd | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":451} {"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.321 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":451.2736,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.321 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156663189950 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.347 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 507.9562ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000006","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:07:46.347 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [80e944f5] API response status: "OK" {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.378 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [80e944f5] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"573d4140"} {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.381 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.392 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [80e944f5] Loaded 2 participants from API {"TransportConnectionId":"NYkBYyEtkQqsreMazXCX2w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:46.399 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156663189950 - 200 1769400 image/png 77.4249ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000008D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:47.318 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:47.327 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156673165462 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:47.373 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:47.399 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156673165462 - 200 1769400 image/png 71.5441ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000008F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:48.321 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:48.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156683200025 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:48.357 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:48.371 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156683200025 - 200 1769400 image/png 49.4454ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000091","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:49.310 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:49.312 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156693092797 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:49.349 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:49.362 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156693092797 - 200 1769400 image/png 49.6523ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000093","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:50.308 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:50.310 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156703074070 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:50.347 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:50.362 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156703074070 - 200 1769400 image/png 52.2749ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:51.311 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:51.313 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156713100844 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:51.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:51.375 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156713100844 - 200 1769400 image/png 61.9327ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:52.308 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:52.310 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156723074222 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:52.346 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:52.359 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156723074222 - 200 1769400 image/png 49.1215ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:53.321 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:53.323 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156733202967 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:53.359 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:53.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156733202967 - 200 1769400 image/png 51.5997ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:54.320 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 27,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:54.322 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156743190641 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:54.360 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:54.376 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156743190641 - 200 1769400 image/png 54.3437ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:55.309 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 28,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:55.310 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156753078866 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:55.352 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:55.369 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156753078866 - 200 1769400 image/png 59.1534ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:56.319 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 29,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:56.321 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156763182709 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:56.357 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:56.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156763182709 - 200 1769400 image/png 50.7636ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:57.317 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 30,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:57.319 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156773161696 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:57.358 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:57.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156773161696 - 200 1769400 image/png 55.4271ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:58.315 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 31,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:58.316 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156783140587 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:58.352 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:58.368 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156783140587 - 200 1769400 image/png 51.5388ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:59.310 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 32,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:59.312 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156793088188 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:59.348 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:07:59.363 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156793088188 - 200 1769400 image/png 51.0837ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.169 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [58bc15d2] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.180 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [58bc15d2] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.185 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a26e225e] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.196 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:00.202 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a26e225e] Making API call to: api/participant/session/TESTUSR1/participants {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.226 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:00.233 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:00.301 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:00.313 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 33,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.315 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156803100883 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.318 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.351 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.371 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4ba27133 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.376 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.395 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6166d76e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.404 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156803100883 - 200 1769400 image/png 89.724ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:00.408 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.413 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.443 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.448 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.470 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9d5c9315] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.477 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f91a4db] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.494 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.490 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.508 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.513 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.525 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.530 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.543 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.549 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.563 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.568 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.583 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.588 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.610 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.618 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.633 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.638 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.659 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.668 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.684 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.689 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.713 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.721 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.745 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.765 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.770 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.795 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.805 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.820 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Token validation successful - Session 223, Access #175, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.824 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Token validation successful - Session 223, Access #175, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.841 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.847 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.868 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.874 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.899 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bc3d9084] Access count updated to 175 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.908 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [57a8c12b] Access count updated to 175 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.924 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.929 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.942 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.947 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.963 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:00.968 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:00.993 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.002 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.017 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.022 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.037 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.043 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.069 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.077 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.091 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.096 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.113 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9f91a4db] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.119 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9d5c9315] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.134 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f91a4db] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.139 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9d5c9315] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.155 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.159 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.185 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 707.9709ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.185 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 833.8786ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:01.192 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 721.9497ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.192 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 874.1165ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:01.232 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.241 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 1008.1239ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000001","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:01.247 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.256 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 1060.4425ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestId":"0HNFMVTQ3IBMB:00000061","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:01.291 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6166d76e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":895} {"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.307 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4ba27133 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":936} {"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.323 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 34,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.324 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156813213069 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.329 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":895.6435,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.346 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":936.3079,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.379 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1061.1049ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000007","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:01.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1022.9543ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMI:00000003","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:01.374 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a26e225e] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.374 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.380 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [58bc15d2] API response status: "OK" {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.426 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a26e225e] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"9f91a4db"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.432 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156813213069 - 200 1769400 image/png 108.1095ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.438 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [58bc15d2] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"9d5c9315"} {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.463 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a26e225e] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:01.474 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [58bc15d2] Loaded 2 participants from API {"ActionId":"aaf55b3b-56bb-4529-8b7f-d3adf1e05e55","ActionName":"/_Host","RequestPath":"/session/waiting/TESTUSR1","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.306 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1d6fb410] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.316 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1d6fb410] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.321 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9182d935] Starting LoadParticipantsAsync with SessionToken: TESTUSR1 {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.323 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 35,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.324 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156823213677 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.326 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:02.363 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9182d935] Making API call to: api/participant/session/TESTUSR1/participants {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.387 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.388 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:02.414 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:02.419 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156823213677 - 200 1769400 image/png 95.2045ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:02.427 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.455 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TESTUSR1/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:02.469 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a6f97521 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.489 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.492 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.510 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fbbf9b86 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.515 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.529 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.537 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ae31988a] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.550 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.554 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.577 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.574 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e43608d8] Getting participants for session token: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.594 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Token received: 'TESTUSR1', Length: 8 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.590 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.612 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.608 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Validating token with TokenService... {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.626 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.631 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Starting token validation {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.648 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.652 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Token: TESTUSR1, IsHost: false {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.678 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Querying database for token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.673 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.693 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.700 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Total tokens in database: 47 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.730 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.745 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.750 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.774 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Active non-expired tokens: 22 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.782 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.797 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.801 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.823 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Tokens matching 'TESTUSR1': 1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.829 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.847 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.857 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.876 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.881 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Token validation successful - Session 223, Access #176, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.904 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Final query result: Found valid token {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.908 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.924 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Token validation successful - Session 223, Access #176, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.930 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.949 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.957 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [575ab5f6] Access count updated to 176 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:02.975 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:02.979 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.000 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dbb05702] Access count updated to 176 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.004 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.018 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Token validation successful - SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.023 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.040 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Querying SessionParticipants for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.049 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.063 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.067 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.086 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Found 0 active participants in SessionParticipants {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.091 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.107 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Querying Registrations for SessionId: 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.116 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.130 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.135 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.160 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Found 2 registered participants in Registrations {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.166 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ae31988a] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.182 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.188 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ae31988a] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.204 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e43608d8] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.209 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.232 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e43608d8] Found 2 participants for session 223 {"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.239 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 702.8671ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.240 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 813.536ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:03.264 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5660f4a4-9c0c-48b7-81db-9022e7676898","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.270 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.279 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 952.8851ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestId":"0HNFMVTQ3IBMB:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:03.310 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 736.7876ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.310 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 821.7603ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:03.316 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a6f97521 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":846} {"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.321 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 36,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.323 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156833205306 - null null {"EventId":{"Id":1},"RequestId":"0HNFMVTQ3IBMB:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.359 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.368 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 954.0713ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TESTUSR1/participants","TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB","Scope":["HTTP GET https://localhost:9091/api/participant/session/TESTUSR1/participants"]}
[2025-09-18 18:08:03.371 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":846.3991,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.396 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFMVTQ3IBMB:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.414 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fbbf9b86 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":903} {"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.431 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1004.5722ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMG:00000008","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMG"}
[2025-09-18 18:08:03.431 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [1d6fb410] API response status: "OK" {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.440 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938156833205306 - 200 1769400 image/png 116.9604ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMB:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.455 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":903.6222,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.473 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1d6fb410] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"ae31988a"} {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.491 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 1002.7477ms {"EventId":{"Id":2},"RequestId":"0HNFMVTQ3IBMI:00000004","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFMVTQ3IBMI"}
[2025-09-18 18:08:03.491 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [9182d935] API response status: "OK" {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.497 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [1d6fb410] Loaded 2 participants from API {"TransportConnectionId":"ZuMIKS_2Km_M3slw3M6ZUw","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.520 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9182d935] Participants API response: {"sessionId":223,"token":"TESTUSR1","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"e43608d8"} {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:03.532 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [9182d935] Loaded 2 participants from API {"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:08:12.116 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 37,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"hIJpFJF94OsHhkSPjQqL1w","RequestId":"0HNFMVTQ3IBMB:0000006B","RequestPath":"/_blazor","ConnectionId":"0HNFMVTQ3IBMB"}
[2025-09-18 18:11:09.299 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:11:10.816 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:11:10.824 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:11:10.824 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:11:10.878 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:11:10.980 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:11:10.980 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:11:11.088 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:11:11.216 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:11:11.270 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:11:11.270 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:11:11.270 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:11:11.271 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:11:11.271 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:11:11.635 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/ - null null {"EventId":{"Id":1},"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.689 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 644053e0 | Data: {"Method":"GET","Path":{"Value":"/","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.692 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.701 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.714 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.715 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.778 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [e0b2485d] HostLanding component initialized - Route: https://localhost:9091/, FriendlyToken: null {"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.779 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [e0b2485d] HostLanding OnInitialized - FriendlyToken: null {"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.779 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [e0b2485d] No friendly token provided, using default session info {"ActionId":"5e6508d8-4605-4fb3-9e6a-cbc9569a308e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.859 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 152.3983ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.861 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.866 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 644053e0 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":199} {"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.875 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/ | Data: {"DurationMs":199.0089,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:11:11.881 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/ - 200 null text/html; charset=utf-8 247.1724ms {"EventId":{"Id":2},"RequestId":"0HNFN013C72F6:00000001","RequestPath":"/","ConnectionId":"0HNFN013C72F6"}
[2025-09-18 18:12:36.953 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:12:38.104 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:12:38.112 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:12:38.112 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:12:38.164 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:12:38.244 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:12:38.244 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:12:38.340 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:12:38.457 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:12:38.511 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:12:38.512 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:12:38.512 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:12:38.512 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:12:38.512 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:12:39.004 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/ - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.054 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d01f1e2b | Data: {"Method":"GET","Path":{"Value":"/","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.057 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.064 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.075 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.076 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.130 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [5d93fed6] HostLanding component initialized - Route: https://localhost:9091/, FriendlyToken: null {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.131 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d93fed6] HostLanding OnInitialized - FriendlyToken: null {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.131 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d93fed6] No friendly token provided, using default session info {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.198 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 131.6726ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.200 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.206 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d01f1e2b | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":171} {"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.214 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/ | Data: {"DurationMs":171.749,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:39.221 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/ - 200 null text/html; charset=utf-8 217.311ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6A:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6A"}
[2025-09-18 18:12:41.648 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/ - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.651 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9d78b923 | Data: {"Method":"GET","Path":{"Value":"/","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.652 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.653 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.654 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.654 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.661 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [eb043d81] HostLanding component initialized - Route: https://localhost:9091/, FriendlyToken: null {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.661 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [eb043d81] HostLanding OnInitialized - FriendlyToken: null {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.661 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [eb043d81] No friendly token provided, using default session info {"ActionId":"b3ed46c3-9498-440e-bec9-bc39a80e590e","ActionName":"/_Host","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.674 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 20.672ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.678 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.680 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/css/bootstrap/bootstrap.min.css - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000003","RequestPath":"/css/bootstrap/bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.683 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/css/site.css - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000005","RequestPath":"/css/site.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.686 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9d78b923 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":35} {"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.687 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/ | Data: {"DurationMs":35.5193,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.688 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938159616619249 - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.689 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000007","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.690 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.691 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/ - 200 null text/html; charset=utf-8 42.7247ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000001","RequestPath":"/","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.692 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/js/noor-logging.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:0000000D","RequestPath":"/js/noor-logging.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.695 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/js/noor-annotations.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:0000000F","RequestPath":"/js/noor-annotations.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.698 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/NoorCanvas.styles.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\obj\Debug\net8.0\scopedcss\bundle\NoorCanvas.styles.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000007","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.698 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/css/site.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\css\site.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000005","RequestPath":"/css/site.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.701 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/css/site.css - 200 1061 text/css 18.4045ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000005","RequestPath":"/css/site.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.699 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 200 2658 text/css 9.957ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000007","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.700 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/js/noor-logging.js'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\js\noor-logging.js' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:0000000D","RequestPath":"/js/noor-logging.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.704 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/js/noor-logging.js - 200 5450 text/javascript 10.9937ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:0000000D","RequestPath":"/js/noor-logging.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.704 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/js/noor-annotations.js'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\js\noor-annotations.js' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:0000000F","RequestPath":"/js/noor-annotations.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.705 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/js/noor-annotations.js - 200 10345 text/javascript 10.6744ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:0000000F","RequestPath":"/js/noor-annotations.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.715 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d9b7ed11 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.717 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.718 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/css/open-iconic/font/css/open-iconic-bootstrap.min.css - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000011","RequestPath":"/css/open-iconic/font/css/open-iconic-bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.720 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/css/open-iconic/font/css/open-iconic-bootstrap.min.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\css\open-iconic\font\css\open-iconic-bootstrap.min.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000011","RequestPath":"/css/open-iconic/font/css/open-iconic-bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.720 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/css/open-iconic/font/css/open-iconic-bootstrap.min.css - 200 9395 text/css 2.1903ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000011","RequestPath":"/css/open-iconic/font/css/open-iconic-bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.728 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/css/bootstrap/bootstrap.min.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\css\bootstrap\bootstrap.min.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000003","RequestPath":"/css/bootstrap/bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.728 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/_framework/blazor.server.js'. Physical path: 'N/A' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.728 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.728 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/css/bootstrap/bootstrap.min.css - 200 155764 text/css 48.4309ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000003","RequestPath":"/css/bootstrap/bootstrap.min.css","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.729 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d9b7ed11 | Data: {"StatusCode":200,"ContentType":"text/javascript","ContentLength":151672,"DurationMs":13} {"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.730 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":13.3922,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.730 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 200 151672 text/javascript 40.1991ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:0000000B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.754 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.755 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938159616619249 - 200 1769400 image/png 66.5239ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.835 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.837 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 853e7a95 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.837 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.841 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.841 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 853e7a95 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":4} {"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.841 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":4.122,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.842 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 7.2307ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000013","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.887 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.889 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3af95993 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.889 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.896 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.896 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3af95993 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":7} {"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.897 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":7.7733,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.897 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 10.3027ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000015","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.920 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=Rr4UpuwIV2B5LIZpkoGMBA - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.921 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0f1fefcd | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=Rr4UpuwIV2B5LIZpkoGMBA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.926 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.927 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.935 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.949 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.952 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:41.967 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/, [{"type":"server","prerenderId":"be3434e715e247dfb827b0b5f967ce50","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOxOV5ecaR5tkx649jF2YGG4Lym29ZUBWewjWmLkjpFsm8XqpxGxaiIwfYmgdddEVei+iIY9AjpTtH47XppdTNMEqbtkDPY/L7nhZrCmLF3KVNkLdcjcoFBZR7fidzM8e14WnVeMU8zyCkOsQ5XrmO3c9yOWA0xct8XDs82QOrkQ66/I8aXrJdhCx4l8WK9Bvryx+y9Ks4QgBRExXSIblfR6qssDlLNc3VAZGLrmnpzZNaSKWWP78CMSycL7hDFhDfYlCg+jT8ot7c7LvxPNKAjn690MSKL0XxsdIeqvMFa9aMZIRC9LR59cvIm0g9trvYTB2AO8iDsQ/9B5wCtzNvqCtPos8j6wTwuvUnd9nPwyiph/jEw5JC1Lg0jr8IvBk9Qb6PFchv7h04gN0K7uSMa8Apqo6RZ+iXA2fouH0fOTbUJRKjTV2MuksfIuRhGNBEzWoy5gpeAT+oKxrcCt3PTEp8uB+BvvJaO2i92dBLOTQ==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.032 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [9b79023c] HostLanding component initialized - Route: https://localhost:9091/, FriendlyToken: null {"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.032 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [9b79023c] HostLanding OnInitialized - FriendlyToken: null {"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.033 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [9b79023c] No friendly token provided, using default session info {"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.038 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.049 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938159620334879 - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6B:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.051 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.076 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.089 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN01TDFR6B:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.090 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938159620334879 - 200 1769400 image/png 40.7983ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:42.680 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.681 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 93c464ea | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TESTUSR1/participants","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.7339.16 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.681 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.695 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.715 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0b4ac6da] Getting participants for session token: TESTUSR1 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.716 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Token received: 'TESTUSR1', Length: 8 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.716 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Validating token with TokenService... {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.723 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Starting token validation {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Token: TESTUSR1, IsHost: false {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Querying database for token {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.975 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:42.993 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Total tokens in database: 47 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.024 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.025 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Active non-expired tokens: 22 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.090 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.145 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Tokens matching 'TESTUSR1': 1 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.146 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Match found - ID: 48, SessionId: 223, Active: true, Expires: "2025-09-19T21:37:04.0600000", HostToken: TESTHST1, UserToken: TESTUSR1 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.205 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.269 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Final query result: Found valid token {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.269 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Token validation successful - Session 223, Access #177, Expires: "2025-09-19T21:37:04.0600000" {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.270 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.373 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.387 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f9b3ae] Access count updated to 177 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.388 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Token validation successful - SessionId: 223 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.388 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Querying SessionParticipants for SessionId: 223 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.414 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.415 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Found 0 active participants in SessionParticipants {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.415 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Querying Registrations for SessionId: 223 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.434 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.436 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Found 2 registered participants in Registrations {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.436 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.437 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [0b4ac6da] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.442 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0b4ac6da] Found 2 participants for session 223 {"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.447 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1c797516-1e4f-4cac-8a25-1e6b88d4f995","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.456 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 760.3732ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.456 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.457 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 93c464ea | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":776} {"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.457 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TESTUSR1/participants | Data: {"DurationMs":776.0461,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.462 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TESTUSR1/participants - 200 null application/json; charset=utf-8 782.2309ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6C:00000001","RequestPath":"/api/participant/session/TESTUSR1/participants","ConnectionId":"0HNFN01TDFR6C"}
[2025-09-18 18:12:43.652 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"-1CeqVLRwtMLy0mCz_yXqw","RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:43.654 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:43.655 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0f1fefcd | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":1733} {"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:43.658 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_CONNECT_/_blazor | Data: {"DurationMs":1733.5149,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:43.658 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=Rr4UpuwIV2B5LIZpkoGMBA - 200 null null 1737.9538ms {"EventId":{"Id":2},"RequestId":"0HNFN01TDFR6B:00000017","RequestPath":"/_blazor","ConnectionId":"0HNFN01TDFR6B"}
[2025-09-18 18:12:43.660 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFN01TDFR6B", Request id "0HNFN01TDFR6B:00000017": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-18 18:13:33.892 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:13:34.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:13:34.909 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:13:34.913 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:13:34.964 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:13:35.047 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:13:35.056 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:13:35.151 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:13:35.253 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:13:35.310 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:13:35.318 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:13:35.325 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:13:35.328 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:13:35.332 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:13:46.453 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.523 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9837f42e | Data: {"Method":"GET","Path":{"Value":"/user/landing/TXZ25W6K","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.537 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.557 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.584 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.599 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.673 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] UserLanding OnInitialized - SessionToken: TXZ25W6K {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.685 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Loading session info for token: TXZ25W6K {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.696 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Calling session validation API for token: TXZ25W6K {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:46.710 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:46.730 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:46.815 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.834 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9474a7d1 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.843 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.867 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.903 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6dba22e8] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.920 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Starting token validation {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.933 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Token: TXZ25W6K, IsHost: false {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:46.945 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Querying database for token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.213 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.251 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Total tokens in database: 47 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.297 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.319 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Active non-expired tokens: 22 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.400 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (13ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.485 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Tokens matching 'TXZ25W6K': 1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.500 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.579 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.677 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Final query result: Found valid token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.689 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Token validation successful - Session 10222, Access #103, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.702 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.823 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.854 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e4c87a63] Access count updated to 103 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:47.983 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.005 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6dba22e8] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.017 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6dba22e8] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.034 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.088 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 1200.528ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.091 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 1339.7213ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:48.114 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.125 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1415.4348ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:48.151 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9474a7d1 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":1314} {"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.175 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":1314.6349,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.189 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Session validation API response: "OK" {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.190 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 1374.0133ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IA:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:48.217 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":103,"lastAccessedAt":"2025-09-18T22:13:47.715371Z"},"requestId":"6dba22e8"} {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.250 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.261 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9fdf407b] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"ActionId":"2d5355ec-7a65-487c-b7b3-def5b5eea02e","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.337 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1763.853ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.343 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryEALr7m9LNTf5xZAv 359 {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.363 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.377 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: eb49727c | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundaryEALr7m9LNTf5xZAv","ContentLength":359} {"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.413 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9837f42e | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1913} {"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.391 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.390 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160282765325 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.451 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.464 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/user/landing/TXZ25W6K | Data: {"DurationMs":1913.2675,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.474 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fcd36a4e | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.521 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.534 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - 200 null text/html; charset=utf-8 2083.2224ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000001","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.540 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.560 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.589 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.600 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.604 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160282765325 - 200 1769400 image/png 214.4772ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.635 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: eb49727c | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":258} {"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.642 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.668 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":258.8048,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.671 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fcd36a4e | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":197} {"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.682 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 339.0293ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000003","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.685 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":197.6865,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.706 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 315.1073ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.722 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.737 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8fc14209 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.745 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.759 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.772 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8fc14209 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":34} {"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.783 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":34.876,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.790 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 67.9545ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.819 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.834 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3efb0edf | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.842 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.854 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.872 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.885 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3efb0edf | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":50} {"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.892 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":50.5862,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:48.900 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 80.9042ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.323 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=ESkkTFNe5Lp655GbxJHoig - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.342 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 597d4386 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=ESkkTFNe5Lp655GbxJHoig","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.352 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.362 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.378 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.395 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.409 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.433 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/TXZ25W6K, [{"type":"server","prerenderId":"a47f7115b22d455dbacc6f6b0e71f0a3","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbPiafiuj6vNowul3ivta+Yg+2u8/QKzh+k4WBQ30jR6TNeMqTC4kHc0tykpWTrmglTRDM8FhSJQDKv9QsEEzPUOlM8RCUvU+Is5UFjBtOogxlF+ekTqrG3qp1u+i+7ychxw72NXxYVtGBykm2TzZV1tXcWBuaAzzWT8pt42U7GBWkXc+flLUOhWfhz9obLNm1JqX8Iprlwwkjah89LHNSXxYbJ3vD/FTna3JtECG/B3iGAl3Uf8b4Md9beBDMcPwCHJ8WwFYMjqcKqHMyLFO+U/8EjDtZc9VbZO9DOE4Q+a9d/n4DaXl8cJHx7qv9ZApwPerE1s7jFC0sVzAmc1C+eildejdintkpEg1JDbxTi1Zf44kEg56PLFsU0hb3Z9q7Y0Gemt5j3cXj8uSvBQxZRrZmMCeyuriVWqsPSJq2PoDILPaz0HoBkSKbVNbABij3wVLPcFWHWv4IsMAVxBa0QXnnN2M9rYjlU5+EWt++dvnw==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.506 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] UserLanding OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.513 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Loading session info for token: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.522 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Calling session validation API for token: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.532 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:49.549 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:49.568 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.576 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.591 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160295693707 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.598 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8f96b2e0 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.606 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.631 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.654 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.656 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.657 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.682 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160295693707 - 200 1769400 image/png 91.5725ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:49.694 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df46dc28] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.721 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Starting token validation {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.732 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Token: TXZ25W6K, IsHost: false {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Querying database for token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.756 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.772 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Total tokens in database: 47 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.785 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.802 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Active non-expired tokens: 22 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.812 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.828 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Tokens matching 'TXZ25W6K': 1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.840 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.855 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.872 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Final query result: Found valid token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.882 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Token validation successful - Session 10222, Access #104, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.893 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.907 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.924 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cf627478] Access count updated to 104 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.937 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.954 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df46dc28] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.964 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [df46dc28] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:49.976 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.000 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 309.5591ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.001 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 435.8059ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:50.027 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.039 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 507.4541ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:50.065 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8f96b2e0 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":466} {"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.083 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":466.9885,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.091 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 523.1311ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IA:00000002","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:13:50.091 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Session validation API response: "OK" {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.112 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":104,"lastAccessedAt":"2025-09-18T22:13:49.9042565Z"},"requestId":"df46dc28"} {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.123 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.130 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [9ebd48fe] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.140 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.141 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160301389924 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.182 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.193 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160301389924 - 200 1769400 image/png 51.6988ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.873 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":987,"screenY":1111,"clientX":987,"clientY":988,"offsetX":272,"offsetY":24,"pageX":987,"pageY":988,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.897 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] HandleTokenValidation - Validating token: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.907 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:50.923 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:50.942 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:50.945 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.948 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160309402672 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:50.980 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 533ffe19 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.006 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.011 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.027 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.036 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160309402672 - 200 1769400 image/png 87.6038ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.069 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [84409339] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.084 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Starting token validation {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.094 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Token: TXZ25W6K, IsHost: false {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.105 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Querying database for token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.117 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.133 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Total tokens in database: 47 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.144 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.161 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Active non-expired tokens: 22 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.174 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.191 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Tokens matching 'TXZ25W6K': 1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.203 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.221 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.239 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Final query result: Found valid token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.251 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Token validation successful - Session 10222, Access #105, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.262 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.275 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.293 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a428dfa2] Access count updated to 105 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.305 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.323 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [84409339] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.340 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [84409339] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.351 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.370 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 304.8112ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.371 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 432.8782ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:51.390 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.399 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 491.6201ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:13:51.418 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 533ffe19 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":438} {"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.435 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":438.3656,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.443 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 501.4584ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IB:00000001","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.444 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Token validation API response: "OK" {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.468 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Token validation response: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":105,"lastAccessedAt":"2025-09-18T22:13:51.2744734Z"},"requestId":"84409339"} {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.476 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Token validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.486 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Updated session name to: Introduction to the sessions, description to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.495 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Successfully switched to registration panel {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.503 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [6d6f23ef] Loading countries dropdown after token validation... {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.516 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [b5e79a81] Loading countries from API... {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.520 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.521 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160315126421 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.532 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:13:51.571 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=TXZ25W6K {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:13:51.578 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.597 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.602 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160315126421 - 200 1769400 image/png 81.4124ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.624 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9f67af7b | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=TXZ25W6K","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.639 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.654 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"ff9600b7-a2c9-474a-9d5c-b0c29828e421","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.673 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: TXZ25W6K... {"ActionId":"ff9600b7-a2c9-474a-9d5c-b0c29828e421","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.711 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"ff9600b7-a2c9-474a-9d5c-b0c29828e421","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.733 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"ff9600b7-a2c9-474a-9d5c-b0c29828e421","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.745 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"ff9600b7-a2c9-474a-9d5c-b0c29828e421","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.763 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 166.5812ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:13:51.763 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 92.5625ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.792 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 260.3086ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=TXZ25W6K","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=TXZ25W6K"]}
[2025-09-18 18:13:51.800 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.832 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9f67af7b | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":207} {"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.840 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":207.6153,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.847 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=TXZ25W6K - 200 null application/json; charset=utf-8 249.9143ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IB:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:13:51.855 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [b5e79a81] Loaded 239 countries successfully {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.886 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160318739346 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.892 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.928 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160318759966 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.928 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.939 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.972 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160318739346 - 200 1769400 image/png 86.7159ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.981 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:51.982 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:52.018 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160318759966 - 200 1769400 image/png 89.7834ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.111 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.135 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.149 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160331334845 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.186 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.198 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160331334845 - 200 1769400 image/png 48.6574ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.782 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 3, , DispatchEventAsync, 1, [{"eventHandlerId":21,"eventName":"change","eventFieldInfo":{"componentId":11,"fieldValue":"Syed Asif Hussain"}},{"value":"Syed Asif Hussain"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.803 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 4, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"focus","eventFieldInfo":{"componentId":12,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.807 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338027118 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.832 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 5, , DispatchEventAsync, 1, [{"eventHandlerId":22,"eventName":"change","eventFieldInfo":{"componentId":12,"fieldValue":"ipalejwala@hotmail.com"}},{"value":"ipalejwala@hotmail.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.835 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338314695 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.840 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.866 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 6, , DispatchEventAsync, 1, [{"eventHandlerId":10,"eventName":"focus","eventFieldInfo":{"componentId":13,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.879 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338027118 - 499 1769400 image/png 71.6759ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.879 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338657362 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.880 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.912 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 7, , DispatchEventAsync, 1, [{"eventHandlerId":23,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"US"}},{"value":"US"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.917 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160339122478 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.927 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.933 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338314695 - 200 1769400 image/png 98.1723ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.966 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 8, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":"Syed Asif Hussain"}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.970 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160339660352 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.972 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:53.977 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160338657362 - 499 1769400 image/png 97.9443ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.017 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.019 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160340164987 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.023 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.027 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160339122478 - 499 1769400 image/png 110.3219ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.068 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.080 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160339660352 - 499 1769400 image/png 110.4345ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.088 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.112 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.123 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160340164987 - 200 1769400 image/png 104.0038ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.142 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.161 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:54.174 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:58.559 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 9, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":"Syed Asif Hussain"}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:58.637 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:58.643 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160386350704 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:58.707 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:58.724 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160386350704 - 200 1769400 image/png 80.4337ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:59.323 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 10, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":922,"screenY":1223,"clientX":922,"clientY":1100,"offsetX":37,"offsetY":15,"pageX":922,"pageY":1100,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:59.345 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:59.350 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160393437017 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:59.393 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:13:59.408 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160393437017 - 200 1769400 image/png 57.2023ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.851 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/TXZ25W6K, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.875 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] SessionWaiting OnInitialized - SessionToken: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.886 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160408508678 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.888 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] Loading session data for token: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.925 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.925 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:14:00.945 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160408508678 - 200 1769400 image/png 58.9016ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:00.954 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:14:00.991 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.000 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.017 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ff2037d9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.024 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.034 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160409996399 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.042 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.054 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.076 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.079 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.085 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.108 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160409996399 - 200 1769400 image/png 74.3401ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.117 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9fabfd28] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.147 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Starting token validation {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.156 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Token: TXZ25W6K, IsHost: false {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.166 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Querying database for token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.176 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.192 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Total tokens in database: 47 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.204 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.219 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Active non-expired tokens: 22 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.229 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.245 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Tokens matching 'TXZ25W6K': 1 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.256 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.270 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.290 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Final query result: Found valid token {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.301 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Token validation successful - Session 10222, Access #106, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.311 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.324 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.344 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8c5923e0] Access count updated to 106 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.362 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.401 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9fabfd28] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.412 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9fabfd28] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.424 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6348a051-eb45-46d8-827d-f3c25c11cae4","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.442 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 325.3637ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.442 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 451.4563ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:14:01.462 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.472 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 546.9977ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-18 18:14:01.493 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ff2037d9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":476} {"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.509 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":476.0055,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.517 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 526.1442ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IA:00000003","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFN02HGK5IA"}
[2025-09-18 18:14:01.518 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] Session validation API response: "OK" {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.548 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.563 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2e5d9484] Starting LoadParticipantsAsync with SessionToken: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.565 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.567 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160415605269 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.584 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2e5d9484] Making API call to: api/participant/session/TXZ25W6K/participants {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.606 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:01.607 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.627 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:01.633 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160415605269 - 200 1769400 image/png 66.1323ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:01.654 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.672 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c728ef44 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.679 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.692 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.710 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d0dded85] Getting participants for session token: TXZ25W6K {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.720 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Token received: 'TXZ25W6K', Length: 8 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.730 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Validating token with TokenService... {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.739 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Starting token validation {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Token: TXZ25W6K, IsHost: false {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.759 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Querying database for token {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.772 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.789 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Total tokens in database: 47 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.800 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.817 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Active non-expired tokens: 22 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.827 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.844 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Tokens matching 'TXZ25W6K': 1 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.855 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.870 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.887 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Final query result: Found valid token {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.897 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Token validation successful - Session 10222, Access #107, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.908 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.921 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.939 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c682ee8d] Access count updated to 107 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.950 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Token validation successful - SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.960 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Querying SessionParticipants for SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:01.988 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.007 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Found 0 active participants in SessionParticipants {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.018 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Querying Registrations for SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.041 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.059 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d0dded85] Found 0 registered participants in Registrations {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.073 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d0dded85] Found 0 participants for session 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.083 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.101 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 395.0698ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.101 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 448.3118ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:02.122 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.130 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 523.5638ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:02.150 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c728ef44 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":478} {"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.169 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/participants | Data: {"DurationMs":478.4605,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.176 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - 200 null application/json; charset=utf-8 522.3453ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IB:00000003","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:02.176 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2e5d9484] API response status: "OK" {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.199 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] Participants API response: {"sessionId":10222,"token":"TXZ25W6K","participantCount":0,"participants":[],"requestId":"d0dded85"} {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.210 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2e5d9484] Loaded 0 participants from API {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.221 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.223 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160422208535 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.242 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.258 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.275 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160422208535 - 200 1769400 image/png 51.9911ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.576 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.578 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160425753326 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.749 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:02.781 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160425753326 - 200 1769400 image/png 203.1809ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:03.573 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:03.575 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160435718037 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:03.610 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:03.625 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160435718037 - 200 1769400 image/png 49.7316ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:04.571 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:04.572 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160445698445 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:04.609 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:04.624 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160445698445 - 200 1769400 image/png 51.6273ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:05.569 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 27,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:05.571 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160455683852 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:05.608 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:05.624 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160455683852 - 200 1769400 image/png 53.5416ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:06.564 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 28,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:06.566 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160465635397 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:06.627 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:06.639 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160465635397 - 200 1769400 image/png 73.0297ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:07.575 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 29,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:07.577 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160475745267 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:07.612 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:07.625 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160475745267 - 200 1769400 image/png 47.8969ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:08.574 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 30,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:08.575 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160485730465 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:08.612 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:08.625 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160485730465 - 200 1769400 image/png 49.5445ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:09.568 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 31,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:09.569 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160495665781 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:09.606 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:09.621 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160495665781 - 200 1769400 image/png 51.326ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:10.566 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 32,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:10.568 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160505656335 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:10.602 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:10.616 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160505656335 - 200 1769400 image/png 48.0647ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:11.564 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 33,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:11.565 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160515627303 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:11.603 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:11.617 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160515627303 - 200 1769400 image/png 52.1261ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:12.565 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 34,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:12.567 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160525637299 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:12.602 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:12.617 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160525637299 - 200 1769400 image/png 49.7168ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:13.577 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 35,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:13.579 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160535766339 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:13.618 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:13.632 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160535766339 - 200 1769400 image/png 52.4964ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:14.573 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 36,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:14.574 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160545676913 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:14.629 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:14.653 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160545676913 - 200 1769400 image/png 78.3366ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:15.575 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 37,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:15.577 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160555745459 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:15.614 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:15.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160555745459 - 200 1769400 image/png 49.5439ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:16.572 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 38,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:16.574 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160565709592 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:16.607 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:16.620 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160565709592 - 200 1769400 image/png 45.8504ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:17.570 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 39,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:17.572 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160575685500 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:17.621 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:17.633 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160575685500 - 200 1769400 image/png 60.9726ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:18.569 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 40,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:18.570 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160585677504 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:18.609 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:18.623 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160585677504 - 200 1769400 image/png 52.7447ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:19.577 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 41,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:19.580 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160595759140 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:19.615 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:19.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160595759140 - 200 1769400 image/png 46.2617ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:20.573 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 42,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:20.574 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160605713304 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:20.613 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:20.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160605713304 - 200 1769400 image/png 52.7295ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:21.567 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 43,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:21.569 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160615659854 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:21.605 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:21.620 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160615659854 - 200 1769400 image/png 51.8861ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:22.570 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 44,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:22.572 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160625683032 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:22.620 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:22.631 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160625683032 - 200 1769400 image/png 58.6956ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:23.566 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 45,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:23.567 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160635649287 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:23.606 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:23.619 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160635649287 - 200 1769400 image/png 52.2734ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:24.563 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 46,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:24.565 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160645625635 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:24.599 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:24.613 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160645625635 - 200 1769400 image/png 47.8563ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:25.599 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 47,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:25.601 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160655763808 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:25.635 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:25.649 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160655763808 - 200 1769400 image/png 48.1059ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:26.573 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 48,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:26.574 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160665719751 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:26.608 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:26.623 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160665719751 - 200 1769400 image/png 48.8901ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:27.572 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 49,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:27.573 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160675710501 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:27.606 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:27.619 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160675710501 - 200 1769400 image/png 45.415ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:28.569 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 50,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:28.571 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160685675768 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:28.604 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:28.618 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160685675768 - 200 1769400 image/png 46.9247ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:00000069","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:29.565 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 51,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:29.567 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160695645114 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:29.600 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:29.615 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160695645114 - 200 1769400 image/png 47.5281ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:30.562 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 52,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:30.565 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160705614913 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:30.598 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:30.612 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160705614913 - 200 1769400 image/png 46.7449ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000006D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.574 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ccc4b134] Starting LoadParticipantsAsync with SessionToken: TXZ25W6K {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.574 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 53,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.576 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160715732048 - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5I9:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.596 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ccc4b134] Making API call to: api/participant/session/TXZ25W6K/participants {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.619 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN02HGK5I9:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.620 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:31.639 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938160715732048 - 200 1769400 image/png 63.2025ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5I9:0000006F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:31.647 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:31.680 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.697 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 49635d00 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.706 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.717 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.733 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1a90cd94] Getting participants for session token: TXZ25W6K {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.741 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Token received: 'TXZ25W6K', Length: 8 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.751 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Validating token with TokenService... {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.760 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Starting token validation {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.772 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Token: TXZ25W6K, IsHost: false {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.786 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Querying database for token {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.801 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.820 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Total tokens in database: 47 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.832 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.847 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Active non-expired tokens: 22 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.858 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.875 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Tokens matching 'TXZ25W6K': 1 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.886 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.904 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.923 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Final query result: Found valid token {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.935 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Token validation successful - Session 10222, Access #108, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.948 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.963 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.984 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [226f8394] Access count updated to 108 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:31.997 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Token validation successful - SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.006 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Querying SessionParticipants for SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.019 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.037 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Found 0 active participants in SessionParticipants {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.046 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Querying Registrations for SessionId: 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.061 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.077 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1a90cd94] Found 0 registered participants in Registrations {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.085 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1a90cd94] Found 0 participants for session 10222 {"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.094 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"722eb3fa-a660-41ed-9e32-c433f708f86c","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.108 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 375.828ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.108 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 428.7623ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:32.125 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.134 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 514.4129ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/participants","TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/participants"]}
[2025-09-18 18:14:32.152 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 49635d00 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":455} {"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.168 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/participants | Data: {"DurationMs":455.1092,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.174 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/participants - 200 null application/json; charset=utf-8 494.1683ms {"EventId":{"Id":2},"RequestId":"0HNFN02HGK5IB:00000004","RequestPath":"/api/participant/session/TXZ25W6K/participants","ConnectionId":"0HNFN02HGK5IB"}
[2025-09-18 18:14:32.175 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [ccc4b134] API response status: "OK" {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:32.196 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ccc4b134] Participants API response: {"sessionId":10222,"token":"TXZ25W6K","participantCount":0,"participants":[],"requestId":"1a90cd94"} {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:32.205 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [ccc4b134] Loaded 0 participants from API {"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:14:40.149 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 54,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"siZ5DcrShKSvUS21PxYLyg","RequestId":"0HNFN02HGK5I9:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFN02HGK5I9"}
[2025-09-18 18:17:17.717 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-18 18:17:18.897 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-18 18:17:18.915 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-18 18:17:18.919 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-18 18:17:18.972 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-18 18:17:19.065 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:17:19.073 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-18 18:17:19.182 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-18 18:17:19.307 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-18 18:17:19.373 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:17:19.380 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-18 18:17:19.386 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-18 18:17:19.391 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-18 18:17:19.394 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-18 18:17:24.397 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.467 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8fad2ab3 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.478 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.493 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.514 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.535 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8fad2ab3 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":87} {"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.550 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":87.4172,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.561 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 165.1591ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q83:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.566 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=ndzryJyISwpM7zy8YqPAYg - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.597 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 00847cb0 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=ndzryJyISwpM7zy8YqPAYg","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.608 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.622 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.640 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"TgV5E7sCzfeeGt7xxg0RVg","RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.661 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"TgV5E7sCzfeeGt7xxg0RVg","RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.676 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"TgV5E7sCzfeeGt7xxg0RVg","RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:24.703 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "ConnectCircuit", Arguments: [ CfDJ8DeH3DqcBblEm_Wh6jxNrbOasEjfq6b_unQVl_pE_VAz6yogYAC6EgAj9ybHWIx12C5Y-Cgd9aXY509q5Fn_i-HRoyl7WrqlWT0icwmcHoD4hFmMV6D-B4cr5YUDdYKibmOCDcQ_UU0EXYi5EcfPMz-br90_fkGFpSR3TQMsVwv2rJnp6clOGG2ioMwe2ewys37LLAPnkXCPfVmDxcpzEJc ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"TgV5E7sCzfeeGt7xxg0RVg","RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:17:40.090 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundarygTdw1TmxtqjypZgM 359 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.108 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 474d0ff3 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundarygTdw1TmxtqjypZgM","ContentLength":359} {"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.117 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.129 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.147 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.159 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 474d0ff3 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":50} {"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.165 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":50.2281,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.173 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 83.6363ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000001","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.611 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/215?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233860604 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.625 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: afe3e7b1 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/215","HasValue":true},"QueryString":"?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483\u0026vscodeBrowserReqId=1758233860604","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.634 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.657 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.681 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.697 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.767 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [cb6f0fad] SessionWaiting OnInitialized - SessionToken: 215 {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.782 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [cb6f0fad] Loading session data for token: 215 {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:40.799 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/215/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:40.819 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/215/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:40.900 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/215/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:40.913 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b8a21650 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/215/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:40.920 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:40.942 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:40.976 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d036fd3b] Session token validation request for token: 215 from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:40.987 -04:00 WRN] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d036fd3b] Invalid token format: 215 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.000 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType31`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.027 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 64.4621ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.030 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 188.19ms - 400 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/215/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.052 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.065 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 266.7002ms - 400 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/215/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.087 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b8a21650 | Data: {"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":173} {"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.106 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/215/validate | Data: {"DurationMs":173.8089,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.114 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/215/validate - 400 null application/json; charset=utf-8 213.5195ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q85:00000001","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.116 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [cb6f0fad] Session validation API response: "BadRequest" {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.135 -04:00 ERR] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [cb6f0fad] Session validation failed with status: "BadRequest" {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.194 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 521.4606ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.202 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.210 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.230 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e9b3d593 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.235 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: afe3e7b1 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":610} {"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.247 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.251 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/session/waiting/215 | Data: {"DurationMs":610.0722,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.271 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.277 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/215?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233860604 - 200 null text/html; charset=utf-8 666.2429ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000003","RequestPath":"/session/waiting/215","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.298 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.318 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e9b3d593 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":88} {"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.327 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":88.2604,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.335 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 132.6288ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.346 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.367 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f184d3e2 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.376 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.385 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.396 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f184d3e2 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":29} {"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.403 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":29.2356,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.410 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 63.4844ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.413 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.434 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ea125c5b | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.441 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.450 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.460 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.470 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ea125c5b | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":35} {"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.477 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":35.7458,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.483 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 69.9419ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.485 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=KVqrcYJV9diTx5V9AK30jA - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.510 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 091723d1 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=KVqrcYJV9diTx5V9AK30jA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.517 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.528 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.541 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.594 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.608 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.622 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/215?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233860604, [{"type":"server","prerenderId":"f43c53a0511e4238ae005809d4800187","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOJ4auB4aCPzqV7D5C4n+NMdnUW0lybYOZMe7EiecKULahSLq/quFaj5JnNPiukmYd14aARHVPpce7KVrPHE7hYnldoDmdP0EobTklsLRH+xab5vULubcoO2BYeUYU1sH8kkaZKbRFEmerBP+JT109eNMKt52Sv0yxVpZUqsyJ9QSlA52h2yvlpquUQlxWH82iCn0uAgwk+nBYKne+ai1HgmqKpFeLYY8eT8LVxsZj8TMWZJ8KeWMMaSLlwUiZygA4JnKE8jXNWPZ+4qJ/c6XEbyqOqGRjHINJYFh4Q9sF05514OF1mUJXiSWFuskncEyvrvwiQbt/9tNdzzPZKWFvxkT6vroze/ASZ1NLs+5CSiczjj5BQbzPc8wIDt379TKhSkB7RlUzE00uQ2ASMDzMI5Y29NhC9GHLMkRzSLrVYDOBNISTOL/zDRdwOsDS8qGtWfrPgIfVLEt7sdc3nKQ9Ovoywfec7Pgwel5qbjmi+NA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.695 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4ed722ed] SessionWaiting OnInitialized - SessionToken: 215 {"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.707 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4ed722ed] Loading session data for token: 215 {"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.720 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/215/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.741 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/215/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.761 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/215/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.769 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938162617629616 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.769 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.793 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 86117832 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/215/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.805 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.818 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.840 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.840 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.857 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.873 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [429de2fb] Session token validation request for token: 215 from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.884 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938162617629616 - 200 1769400 image/png 114.7678ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:41.889 -04:00 WRN] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [429de2fb] Invalid token format: 215 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.910 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType31`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.925 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 56.1055ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.925 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 165.3165ms - 400 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/215/validate","TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.944 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.951 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 231.0048ms - 400 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/215/validate","TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/215/validate"]}
[2025-09-18 18:17:41.968 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 86117832 | Data: {"StatusCode":400,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":175} {"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.984 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/215/validate | Data: {"DurationMs":175.3212,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.992 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/215/validate - 400 null application/json; charset=utf-8 231.0351ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q85:00000002","RequestPath":"/api/participant/session/215/validate","ConnectionId":"0HNFN04IF3Q85"}
[2025-09-18 18:17:41.993 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4ed722ed] Session validation API response: "BadRequest" {"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:42.014 -04:00 ERR] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4ed722ed] Session validation failed with status: "BadRequest" {"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:42.023 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:17:42.036 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.511 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"EqBgzqnfdfxG0FL6um15Qw","RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.515 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary9B54RL7PoeUcbxiB 359 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.533 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.538 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: de808742 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundary9B54RL7PoeUcbxiB","ContentLength":359} {"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.551 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 091723d1 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":103042} {"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.554 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.568 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":103042.1715,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.571 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.582 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=KVqrcYJV9diTx5V9AK30jA - 200 null null 103097.7252ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.589 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.609 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: de808742 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":71} {"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.616 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":71.2416,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:24.622 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 107.9075ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000000F","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.058 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/TEST223A?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233965052 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.072 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 22bf800e | Data: {"Method":"GET","Path":{"Value":"/session/waiting/TEST223A","HasValue":true},"QueryString":"?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483\u0026vscodeBrowserReqId=1758233965052","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.079 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.090 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.106 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.122 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.146 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [f37cbf98] SessionWaiting OnInitialized - SessionToken: TEST223A {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.155 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [f37cbf98] Loading session data for token: TEST223A {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:25.164 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TEST223A/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:25.179 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TEST223A/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:25.199 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TEST223A/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.215 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c4b1d441 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TEST223A/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.225 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.236 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.256 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [164d32af] Session token validation request for token: TEST223A from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.273 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Starting token validation {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.286 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Token: TEST223A, IsHost: false {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.296 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Querying database for token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.549 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.586 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Total tokens in database: 47 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.631 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.652 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Active non-expired tokens: 22 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.724 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (12ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Tokens matching 'TEST223A': 0 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.805 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.824 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Final query result: No valid token found {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.835 -04:00 WRN] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Token validation failed - USER token not found or expired: TEST223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.851 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 AND [s].[ExpiresAt] <= GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.876 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 AND [s].[IsActive] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.894 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8d048d] Failure analysis - Expired: 0, Inactive: 0 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.905 -04:00 WRN] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [164d32af] Token validation failed for participant token: TEST223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.916 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType32`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.932 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 679.1009ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.932 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 737.1847ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TEST223A/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:25.953 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:25.962 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 798.5175ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TEST223A/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:25.984 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c4b1d441 | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":769} {"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.001 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TEST223A/validate | Data: {"DurationMs":769.5406,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.009 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [f37cbf98] Session validation API response: "NotFound" {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.011 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TEST223A/validate - 404 null application/json; charset=utf-8 812.2332ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q86:00000001","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.028 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 923.0218ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163660268587 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.066 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.087 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 68812de0 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.107 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 22bf800e | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1035} {"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.116 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.118 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.134 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/TEST223A | Data: {"DurationMs":1035.5615,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.139 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.144 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163660268587 - 200 1769400 image/png 104.1597ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.170 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.170 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/TEST223A?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233965052 - 200 null text/html; charset=utf-8 1112.1421ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000011","RequestPath":"/session/waiting/TEST223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.195 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 68812de0 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":108} {"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.211 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":108.4925,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.218 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 178.4878ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000015","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.225 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.248 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f678bc54 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.257 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.267 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.279 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f678bc54 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":30} {"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.286 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":30.7616,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.293 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 68.2999ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000017","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.296 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.318 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 074ae702 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.326 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.336 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.345 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.356 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 074ae702 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":37} {"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.362 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":37.625,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.369 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 72.8616ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000019","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=evy4vcccA5fEvEdfLQueHw - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.394 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 75e11d27 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=evy4vcccA5fEvEdfLQueHw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.401 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.410 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.421 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.432 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.444 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.457 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/TEST223A?id=41b6e73f-839a-45d4-9ba4-45bdbcd2a483&vscodeBrowserReqId=1758233965052, [{"type":"server","prerenderId":"abe87a4a7f094981a0cfb213bd74e044","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbM/uBzl3PhfXyGKP5F3nU7TwQMxF/MSdTpoOfzZjtofjD4bJ7LfsPqDbB+VIoU8t7QoCuh0yYBpuezZp2I7xfywD8902xc5NYju1KggX4Aw6pRm+EXHPrmzHDvZtEFA15+YnRYnN+RbojHdPPQ2m3Yy4oguTHIXwdUEooUTHXryKRtY1tqdugmWRmBNSpiNvGXs/76FqACj1x03HmSaouaOsLfT7kN3rfP4pRLw51j1aLpL6cxq2KZ7lIZ+cj32T+XmXUinKuguLtN4jl8CiW1oB4NX7yX2rtgRa61I08MnRtXsc9tTd80hsxLv+O8zPa4J7x8QE0+kTs/bRV5qJb4GhXWlAnfRY5ftZiUtyGBqmpk0a8P376qzTi7YwBbswgExG+Hq9gt3EqOsjF2A+TfraSoZBihDNyriK3qfdEXwcdFFRD8rllUyQWLVvvuwNM7ayDBZSrn1SaVRRV9Qeatr4MxNbfhGKrQJ43yqAUKfPQ==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.475 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c0ebc21f] SessionWaiting OnInitialized - SessionToken: TEST223A {"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.482 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c0ebc21f] Loading session data for token: TEST223A {"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.490 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TEST223A/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:26.503 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TEST223A/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:26.518 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TEST223A/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.518 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.541 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 90dc16b0 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TEST223A/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.548 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.563 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.572 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.587 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.596 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163665179915 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.623 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0475618b] Session token validation request for token: TEST223A from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.641 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.641 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Starting token validation {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.657 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163665179915 - 200 1769400 image/png 61.1625ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:26.661 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Token: TEST223A, IsHost: false {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.684 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Querying database for token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.747 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.767 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Total tokens in database: 47 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.780 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.798 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Active non-expired tokens: 22 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.810 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.828 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Tokens matching 'TEST223A': 0 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.841 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.859 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Final query result: No valid token found {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.869 -04:00 WRN] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Token validation failed - USER token not found or expired: TEST223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.880 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 AND [s].[ExpiresAt] <= GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.897 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 AND [s].[IsActive] = CAST(0 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.915 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [ad288e9d] Failure analysis - Expired: 0, Inactive: 0 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.926 -04:00 WRN] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0475618b] Token validation failed for participant token: TEST223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.937 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType32`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.954 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 331.6572ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.954 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 437.3278ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TEST223A/validate","TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:26.979 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:26.989 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 499.6516ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TEST223A/validate","TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/TEST223A/validate"]}
[2025-09-18 18:19:27.013 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 90dc16b0 | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":471} {"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:27.031 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TEST223A/validate | Data: {"DurationMs":471.8844,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:27.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TEST223A/validate - 404 null application/json; charset=utf-8 522.0193ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q86:00000002","RequestPath":"/api/participant/session/TEST223A/validate","ConnectionId":"0HNFN04IF3Q86"}
[2025-09-18 18:19:27.040 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c0ebc21f] Session validation API response: "NotFound" {"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:27.069 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:27.071 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163670660425 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:27.104 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:27.113 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:27.134 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938163670660425 - 200 1769400 image/png 62.4112ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.506 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"EnRx9jZITdB4T8A_YEztzw","RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.514 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary95NAXfmnCRnIF35V 359 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.528 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.534 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 922fedf4 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundary95NAXfmnCRnIF35V","ContentLength":359} {"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.550 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 75e11d27 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":28156} {"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.554 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.567 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":28156.5387,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.573 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.584 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=evy4vcccA5fEvEdfLQueHw - 200 null null 28212.8864ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000001B","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.590 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.615 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 922fedf4 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":80} {"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.624 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":80.5227,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:19:54.632 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 118.3137ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000021","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.666 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/USER223A?id=96630228-961c-406b-be26-7b9675e83a87&vscodeBrowserReqId=1758234096660 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.681 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5d338b47 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/USER223A","HasValue":true},"QueryString":"?id=96630228-961c-406b-be26-7b9675e83a87\u0026vscodeBrowserReqId=1758234096660","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.693 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.706 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.723 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.737 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.759 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] SessionWaiting OnInitialized - SessionToken: USER223A {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.775 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] Loading session data for token: USER223A {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:36.785 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/USER223A/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:36.802 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/USER223A/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:36.829 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.843 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7f0abb29 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/USER223A/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.852 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.862 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.877 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [addbfd63] Session token validation request for token: USER223A from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.885 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Starting token validation {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.895 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Token: USER223A, IsHost: false {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.905 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Querying database for token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.920 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.937 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Total tokens in database: 48 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.950 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.967 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Active non-expired tokens: 23 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:36.981 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.050 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Tokens matching 'USER223A': 1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.061 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Match found - ID: 49, SessionId: 223, Active: true, Expires: "2025-09-19T01:21:16.0000000", HostToken: HOST223A, UserToken: USER223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.080 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.152 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Final query result: Found valid token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.164 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Token validation successful - Session 223, Access #1, Expires: "2025-09-19T01:21:16.0000000" {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.175 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.282 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.311 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c6713608] Access count updated to 1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.383 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.403 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [addbfd63] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.415 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [addbfd63] Successful participant token validation: USER223A → Session 223 - 'Lowering Ones Gaze' {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.426 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.454 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 577.5984ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.454 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 629.5264ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:37.477 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.487 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 701.5593ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/validate","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:37.508 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7f0abb29 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":664} {"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.525 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/USER223A/validate | Data: {"DurationMs":664.7134,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.534 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] Session validation API response: "OK" {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:37.534 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/validate - 200 null application/json; charset=utf-8 704.7782ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q87:00000001","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:37.561 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:37.575 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4780c9dc] Starting LoadParticipantsAsync with SessionToken: USER223A {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:37.585 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4780c9dc] Making API call to: api/participant/session/USER223A/participants {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:37.595 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/USER223A/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:37.612 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/USER223A/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:37.632 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.645 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 608c5f3f | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/USER223A/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.654 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.671 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.695 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8a0322d0] Getting participants for session token: USER223A {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.707 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Token received: 'USER223A', Length: 8 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.716 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Validating token with TokenService... {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Starting token validation {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.736 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Token: USER223A, IsHost: false {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Querying database for token {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.759 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.777 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Total tokens in database: 48 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.790 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.807 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Active non-expired tokens: 23 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.819 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.838 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Tokens matching 'USER223A': 1 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.851 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Match found - ID: 49, SessionId: 223, Active: true, Expires: "2025-09-19T01:21:16.0000000", HostToken: HOST223A, UserToken: USER223A {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.866 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.886 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Final query result: Found valid token {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.897 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Token validation successful - Session 223, Access #2, Expires: "2025-09-19T01:21:16.0000000" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.908 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.923 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.939 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5685718e] Access count updated to 2 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.948 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Token validation successful - SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.957 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Querying SessionParticipants for SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:37.985 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.001 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Found 0 active participants in SessionParticipants {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.010 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Querying Registrations for SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.030 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.048 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Found 2 registered participants in Registrations {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.056 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.067 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8a0322d0] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.081 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8a0322d0] Found 2 participants for session 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.089 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.106 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 416.4805ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.106 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 477.4185ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/participants","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:38.125 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.135 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 540.3562ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/participants","ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:38.155 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 608c5f3f | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":509} {"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.171 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/USER223A/participants | Data: {"DurationMs":509.787,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.178 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/participants - 200 null application/json; charset=utf-8 546.2177ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q88:00000001","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:38.179 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4780c9dc] API response status: "OK" {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.201 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] Participants API response: {"sessionId":223,"token":"USER223A","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"8a0322d0"} {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.215 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4780c9dc] Loaded 2 participants from API {"ActionId":"48cedbed-7b1d-4cce-9a16-c1c200e2cd2d","ActionName":"/_Host","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.226 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1504.5294ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.240 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.245 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164982259821 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.250 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.271 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5d338b47 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1589} {"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.288 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4d1a7f1e | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.289 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.308 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/USER223A | Data: {"DurationMs":1589.7023,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.312 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.319 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164982259821 - 200 1769400 image/png 74.2031ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.339 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/USER223A?id=96630228-961c-406b-be26-7b9675e83a87&vscodeBrowserReqId=1758234096660 - 200 null text/html; charset=utf-8 1672.4837ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000023","RequestPath":"/session/waiting/USER223A","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.344 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.374 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.384 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4d1a7f1e | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":96} {"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.390 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":96.3532,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.397 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 146.9033ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000027","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.409 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.425 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d3c81ede | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.435 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.443 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.453 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d3c81ede | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":28} {"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.461 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":28.2705,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.467 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 57.9803ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000029","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.473 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.490 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: aebb1492 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.498 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.507 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.516 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.525 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: aebb1492 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":34} {"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.532 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":34.9147,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.538 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 65.2761ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000002B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.541 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=0IDalIFL5CSw7WqpDbg5zA - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.564 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 38e58674 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=0IDalIFL5CSw7WqpDbg5zA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.571 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.583 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.593 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.606 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.621 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.639 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/USER223A?id=96630228-961c-406b-be26-7b9675e83a87&vscodeBrowserReqId=1758234096660, [{"type":"server","prerenderId":"d48f1ef9e7d74643ac09352a7638d331","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbPhm8N2djFqJEKnDO422W+THxlrORDuvc4sSFjd1OYmUalEJZLdT9OcwthrcGNVEwXmC6nvZnG9MhaFpBVp3QC9m0mrZgjcLd1ChtD3wbe7DpH5qVAdWqfgKhYkYT4+BSLqZx8n1kQc/CWIpP9PYh93aNJUvhUPKiY1jw62BMpOFG+CLX8tOuZw0zS6iEZOEU4Zg4D/U3dCWLdXr9K76FpBlUV5JqExg2WbCqqyxMiyYwt4/y8J0snRe6NK/cyi9MxFA6T/qyZQ9/bkInECX8I92i2Kl6I6y+Sg19ayNP0CbME+Z6BfNCMnBlqv4of4jjP4ad1h89Kta/3BxhJUul3DgOItXNSDn9hQ1hH80+SOkeRXbWK6PXW1y9S7gUeecsz8b9F6b2QfwAnXskTuxhaiB6lg8dzz0+W40qnrcA2bbGF+q4+gPxMw8HVyJHDAz22ObdwHNKG2lLQh63T0jGxPcqjP6aIGUY2nGHThk5fCig==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.659 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] SessionWaiting OnInitialized - SessionToken: USER223A {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.669 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] Loading session data for token: USER223A {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.681 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/USER223A/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:38.696 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/USER223A/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:38.713 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.714 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.721 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164987137125 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.734 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e154cbc1 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/USER223A/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.749 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.778 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.784 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.791 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.811 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.816 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164987137125 - 200 1769400 image/png 94.1851ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:38.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0d436eca] Session token validation request for token: USER223A from ::1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.864 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Starting token validation {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.873 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Token: USER223A, IsHost: false {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.884 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Querying database for token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.893 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.907 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Total tokens in database: 48 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.918 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.933 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Active non-expired tokens: 23 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.943 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.959 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Tokens matching 'USER223A': 1 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.970 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Match found - ID: 49, SessionId: 223, Active: true, Expires: "2025-09-19T01:21:16.0000000", HostToken: HOST223A, UserToken: USER223A {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:38.985 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.001 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Final query result: Found valid token {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.012 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Token validation successful - Session 223, Access #3, Expires: "2025-09-19T01:21:16.0000000" {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.024 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.036 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.053 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5658c01c] Access count updated to 3 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.076 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.092 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0d436eca] Updated session info from KSESSIONS: Title='Lowering Ones Gaze', Description='<--- Enter Description --->' for session 223 {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.102 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0d436eca] Successful participant token validation: USER223A → Session 223 - 'Lowering Ones Gaze' {"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.111 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"c115522d-a271-4e8c-a7d3-05fa0b5517ee","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.126 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 279.3796ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.127 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 413.8027ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/validate","TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:39.145 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.153 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 471.9277ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/validate","TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/validate"]}
[2025-09-18 18:21:39.172 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e154cbc1 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":437} {"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.189 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/USER223A/validate | Data: {"DurationMs":437.92,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.197 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/validate - 200 null application/json; charset=utf-8 483.419ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q87:00000002","RequestPath":"/api/participant/session/USER223A/validate","ConnectionId":"0HNFN04IF3Q87"}
[2025-09-18 18:21:39.197 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] Session validation API response: "OK" {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.222 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] Session validation successful - SessionID: 223, Title: Lowering Ones Gaze {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.232 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [52a45d92] Starting LoadParticipantsAsync with SessionToken: USER223A {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.238 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.239 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164992314224 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.242 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [52a45d92] Making API call to: api/participant/session/USER223A/participants {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.278 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/USER223A/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:39.287 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.308 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/USER223A/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:39.314 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164992314224 - 200 1769400 image/png 74.9601ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.335 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.355 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9c075dca | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/USER223A/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.362 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.371 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.385 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9e3b473f] Getting participants for session token: USER223A {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.393 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Token received: 'USER223A', Length: 8 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.402 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Validating token with TokenService... {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.410 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Starting token validation {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.421 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Token: USER223A, IsHost: false {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.431 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Querying database for token {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.444 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.460 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Total tokens in database: 48 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.471 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.487 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Active non-expired tokens: 23 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.498 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.516 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Tokens matching 'USER223A': 1 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.526 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Match found - ID: 49, SessionId: 223, Active: true, Expires: "2025-09-19T01:21:16.0000000", HostToken: HOST223A, UserToken: USER223A {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.539 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.557 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Final query result: Found valid token {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.568 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Token validation successful - Session 223, Access #4, Expires: "2025-09-19T01:21:16.0000000" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.578 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Session details - Title: 'Lowering Ones Gaze', Status: 'Created' {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.590 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.605 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [3c71bd37] Access count updated to 4 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.615 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Token validation successful - SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.623 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Querying SessionParticipants for SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.632 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.647 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Found 0 active participants in SessionParticipants {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.655 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Querying Registrations for SessionId: 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.665 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.682 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Found 2 registered participants in Registrations {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.690 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Registration - UserId: 4F316B90-0096-4737-AC81-A3D051BC6B97, Name: Syed Asif Hussain, Country: United States, JoinTime: "2025-09-18T21:37:14.5938522" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.699 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9e3b473f] Registration - UserId: 57FBBA99-24DD-487C-BA1D-A3188CB9607C, Name: Test User 2, Country: Canada, JoinTime: "2025-09-18T22:06:44.8997497" {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.708 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9e3b473f] Found 2 participants for session 223 {"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.718 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType37`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"227622e4-8c87-47d3-95f2-169f19b3e780","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.732 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 347.619ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.732 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 397.9149ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/participants","TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:39.752 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.760 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 482.0435ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/USER223A/participants","TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84","Scope":["HTTP GET https://localhost:9091/api/participant/session/USER223A/participants"]}
[2025-09-18 18:21:39.780 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9c075dca | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":425} {"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.796 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/USER223A/participants | Data: {"DurationMs":425.2399,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.803 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/USER223A/participants - 200 null application/json; charset=utf-8 467.7496ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q88:00000002","RequestPath":"/api/participant/session/USER223A/participants","ConnectionId":"0HNFN04IF3Q88"}
[2025-09-18 18:21:39.803 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [52a45d92] API response status: "OK" {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.822 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] Participants API response: {"sessionId":223,"token":"USER223A","participantCount":2,"participants":[{"userId":"4F316B90-0096-4737-AC81-A3D051BC6B97","displayName":"Syed Asif Hussain","joinedAt":"2025-09-18T21:37:14.5938522","role":"registered","country":"United States"},{"userId":"57FBBA99-24DD-487C-BA1D-A3188CB9607C","displayName":"Test User 2","joinedAt":"2025-09-18T22:06:44.8997497","role":"registered","country":"Canada"}],"requestId":"9e3b473f"} {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.832 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [52a45d92] Loaded 2 participants from API {"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.846 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.847 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164998433955 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.851 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164998436722 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.872 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.879 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.895 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.918 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164998433955 - 499 1769400 image/png 70.5035ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:39.924 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938164998436722 - 200 1769400 image/png 73.8054ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:40.234 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:40.235 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165002324532 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:40.269 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:40.284 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165002324532 - 200 1769400 image/png 48.7782ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:41.234 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:41.275 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165012323858 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:41.302 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:41.315 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165012323858 - 200 1769400 image/png 40.1547ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:42.234 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:42.235 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165022324915 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:42.274 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:42.286 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165022324915 - 200 1769400 image/png 50.614ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000003B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:43.245 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:43.246 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165032434746 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:43.281 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:43.294 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165032434746 - 200 1769400 image/png 48.3092ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:44.242 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:44.244 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165042409164 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:44.280 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:44.292 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165042409164 - 200 1769400 image/png 48.3938ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000003F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:45.239 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:45.241 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165052383959 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:45.278 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:45.291 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165052383959 - 200 1769400 image/png 49.7965ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000041","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:46.235 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:46.236 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165062337326 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:46.269 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:46.281 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165062337326 - 200 1769400 image/png 44.7351ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000043","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:47.244 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:47.246 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165072421539 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:47.282 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:47.296 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165072421539 - 200 1769400 image/png 50.5007ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000045","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:48.240 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:48.294 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165082394142 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:48.320 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:48.332 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165082394142 - 200 1769400 image/png 38.4387ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:49.239 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:49.244 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165092380571 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:49.281 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:49.293 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165092380571 - 200 1769400 image/png 49.1231ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:50.236 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:50.238 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165102352454 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:50.273 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:50.286 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165102352454 - 200 1769400 image/png 48.5183ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:51.234 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:51.236 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165112326752 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:51.271 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:51.287 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165112326752 - 200 1769400 image/png 51.8617ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:52.246 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:52.248 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165122450620 - null null {"EventId":{"Id":1},"RequestId":"0HNFN04IF3Q84:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:52.282 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFN04IF3Q84:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:52.296 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938165122450620 - 200 1769400 image/png 47.8454ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.182 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-18 18:21:53.187 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"98fuzmwcaujwY1uJkKy4Sg","RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.187 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"TgV5E7sCzfeeGt7xxg0RVg","RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:21:53.204 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.210 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:21:53.229 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 38e58674 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":14665} {"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.234 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 00847cb0 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":268639} {"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:21:53.243 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":14665.0069,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.247 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":268639.1616,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:21:53.257 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=0IDalIFL5CSw7WqpDbg5zA - 200 null null 14716.1931ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q84:0000002D","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q84"}
[2025-09-18 18:21:53.261 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=ndzryJyISwpM7zy8YqPAYg - 200 null null 268696.7247ms {"EventId":{"Id":2},"RequestId":"0HNFN04IF3Q83:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFN04IF3Q83"}
[2025-09-18 18:21:53.284 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFN04IF3Q84", Request id "0HNFN04IF3Q84:0000002D": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-18 18:21:53.290 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFN04IF3Q83", Request id "0HNFN04IF3Q83:00000003": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
