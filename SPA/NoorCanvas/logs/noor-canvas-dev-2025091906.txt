[2025-09-19 06:07:28.414 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:07:29.676 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:07:29.693 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:07:29.697 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:07:29.844 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:07:30.141 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:07:30.152 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:07:30.306 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:07:30.438 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:07:30.506 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:07:30.514 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:07:30.521 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:07:30.526 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:07:30.529 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:07:33.507 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:11:14.930 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:11:16.045 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:11:16.062 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:11:16.066 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:11:16.118 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:11:16.213 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:11:16.221 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:11:16.326 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:11:16.449 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:11:16.505 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:11:16.511 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:11:16.519 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:11:16.522 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:11:16.525 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:11:16.975 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.049 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8d6e2d1e | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.060 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.076 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.100 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.120 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8d6e2d1e | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":93} {"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.137 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":93.5242,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.148 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 173.656ms {"EventId":{"Id":2},"RequestId":"0HNFNCJFIE6K4:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.151 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=qzp6df6tJZXgKsbHHOyC4Q - null null {"EventId":{"Id":1},"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.184 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5749f274 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=qzp6df6tJZXgKsbHHOyC4Q","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.195 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.209 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.228 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"ve3PMHti2l9eKCNng9vpdQ","RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.256 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"ve3PMHti2l9eKCNng9vpdQ","RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.271 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"ve3PMHti2l9eKCNng9vpdQ","RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:17.297 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "ConnectCircuit", Arguments: [ CfDJ8DeH3DqcBblEm_Wh6jxNrbM1ZskmFekXJMe4V0_RaCOc4HtMn-_Inz7np3ZRUty9SgFwIwYWNGyUGc8ztVC25JX2Px4jmTQSvyTRBwWeZRviyWb4X7VTI9t4OyNsKohNOO4KBgr-6KdNHse0bAStOOZzb3RyLEucQsbOreFQIev2JMJbWdY6snJfBnyJ8-Cuj5izMCgVfadNsDpmNOgdZu0 ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"ve3PMHti2l9eKCNng9vpdQ","RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.837 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:11:39.853 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"ve3PMHti2l9eKCNng9vpdQ","RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.875 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.896 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5749f274 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":22712} {"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.909 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":22712.0052,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.919 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=qzp6df6tJZXgKsbHHOyC4Q - 200 null null 22767.9749ms {"EventId":{"Id":2},"RequestId":"0HNFNCJFIE6K4:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNCJFIE6K4"}
[2025-09-19 06:11:39.936 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNCJFIE6K4", Request id "0HNFNCJFIE6K4:00000003": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 06:13:13.670 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:13:14.719 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:13:14.736 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:13:14.739 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:13:14.793 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:13:14.879 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:13:14.888 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:13:14.987 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:13:15.093 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:13:15.149 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:13:15.156 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:13:15.163 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:13:15.167 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:13:15.172 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:13:17.788 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/AJ4CHLDX - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:17.865 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d2336480 | Data: {"Method":"GET","Path":{"Value":"/host/AJ4CHLDX","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:17.877 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:17.898 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:17.927 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:17.943 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.023 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [6c2b5529] HostLanding component initialized - Route: https://localhost:9091/host/AJ4CHLDX, FriendlyToken: AJ4CHLDX {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.033 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] HostLanding OnInitialized - FriendlyToken: AJ4CHLDX {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.043 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] Loading session info for friendly token: AJ4CHLDX {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.053 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] Calling session validation API for FriendlyToken: AJ4CHLDX {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.063 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] API URL: https://localhost:9091/api/host/token/AJ4CHLDX/validate {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.074 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/AJ4CHLDX/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:18.093 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/AJ4CHLDX/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:18.173 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/AJ4CHLDX/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.191 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 62bfe6b9 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/AJ4CHLDX/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.200 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.222 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.256 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [3e14dcc8] Validating friendly token: AJ4CHLDX {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.267 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [3e14dcc8] Looking up friendly token in database {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.625 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (28ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.658 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [3e14dcc8] No session found for friendly token: AJ4CHLDX {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.673 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.710 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 468.6551ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.713 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 600.4512ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/AJ4CHLDX/validate","ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:18.734 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.746 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 672.9736ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/AJ4CHLDX/validate","ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:18.773 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 62bfe6b9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":577} {"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.793 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/AJ4CHLDX/validate | Data: {"DurationMs":577.8254,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.806 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] Session validation API response: "OK" {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.806 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/AJ4CHLDX/validate - 200 null application/json; charset=utf-8 633.0393ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL9:00000001","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:18.829 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] Session validation response content: {"valid":false,"sessionId":0,"hostGuid":"AJ4CHLDX","session":null,"requestId":"3e14dcc8"} {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.852 -04:00 WRN] NoorCanvas.Pages.HostLanding NOOR-HOST: [6c2b5529] Session validation failed or returned invalid data {"ActionId":"ba337e3f-55d1-417b-b183-b6151eec17c5","ActionName":"/_Host","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.919 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1002.7609ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.939 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.966 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.966 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.966 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938591988642657 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:18.980 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d2336480 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1144} {"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.038 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6e280215 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.048 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/NoorCanvas.styles.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\obj\Debug\net8.0\scopedcss\bundle\NoorCanvas.styles.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCKJICUL8:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.061 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/AJ4CHLDX | Data: {"DurationMs":1144.6177,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.082 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCKJICUL8:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.086 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.092 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 200 2658 text/css 126.1871ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.105 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/AJ4CHLDX - 200 null text/html; charset=utf-8 1318.8036ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000001","RequestPath":"/host/AJ4CHLDX","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.121 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938591988642657 - 200 1769400 image/png 155.1514ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.143 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.202 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.218 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6e280215 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":180} {"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.230 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":180.572,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.239 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 273.1425ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.287 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.305 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e99868db | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.316 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.330 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.342 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e99868db | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":37} {"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.351 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":37.0235,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.359 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 72.1161ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.390 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c8fb9c1b | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.404 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.420 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.439 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.451 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c8fb9c1b | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":61} {"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.459 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":61.4801,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.466 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 92.8349ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.955 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=NM-b6z45eufNgSuanwV6ng - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.976 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d2facdc2 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=NM-b6z45eufNgSuanwV6ng","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.985 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:19.996 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.012 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.035 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.050 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.078 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/AJ4CHLDX, [{"type":"server","prerenderId":"245ceb4a247642dbb8447b480731ed12","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbMiux+7fGFGbCsp5/qOWs0jhSkrpxNMEI9fTfh6XQgYIVL59oSupZHO+6F/Qyioljy6u1mXwoMPDfcZ9x9a8CE3IVJqO4I/Aj+NchbcFrgSGZ4I0vfNDYY58o1ju/PHVUoyQdohi9sMxY9sXhugN6Km3qUmOnr8GcYQF+SFnhwMR6z5YH8A8v3B1TOlIkHQTREK7+RRMohYsEWcdmf8MHlY/jkPT1G03TB842hCz5a7fWSXzP+ISs7K2tH37uToHoxpN2lY8cGl5EEWszsOrqo53kRcsENAYg0MZkPgCpC9ndGUV3t/g1sb6ZOdmZ4gMVcon7yC7YQedUih3Yiz8Dt2Dxwc/jjYkR+/7AIq/T9r+kaWmP0UrKVdQU1BQRQPlbazRDv2OUzqp5GwZyOpXlW7IMWt9js7GrLyxyPlqdBWhrpUVfJ7cSOWdDMgs9E3KFzfCWW8V27vU8Sx3Q8SvVIJwL9rSFBUakYi03wOm60rQA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.186 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [5d559ccb] HostLanding component initialized - Route: https://localhost:9091/host/AJ4CHLDX, FriendlyToken: AJ4CHLDX {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.196 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] HostLanding OnInitialized - FriendlyToken: AJ4CHLDX {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.204 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] Loading session info for friendly token: AJ4CHLDX {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.216 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] Calling session validation API for FriendlyToken: AJ4CHLDX {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.223 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] API URL: https://localhost:9091/api/host/token/AJ4CHLDX/validate {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.233 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/AJ4CHLDX/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:20.248 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/AJ4CHLDX/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:20.267 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/AJ4CHLDX/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.277 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.284 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938592002680619 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.294 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 88570f18 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/AJ4CHLDX/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.313 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.332 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.349 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCKJICUL8:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.351 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.370 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.379 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938592002680619 - 200 1769400 image/png 95.3041ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.402 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0aa1c5ca] Validating friendly token: AJ4CHLDX {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.429 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0aa1c5ca] Looking up friendly token in database {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.494 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.511 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0aa1c5ca] No session found for friendly token: AJ4CHLDX {"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.523 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"d763e994-b760-43c3-a5f1-771832b15967","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.541 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 143.7381ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.542 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 276.0846ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/AJ4CHLDX/validate","TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:20.566 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.577 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 343.9382ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/AJ4CHLDX/validate","TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8","Scope":["HTTP GET https://localhost:9091/api/host/token/AJ4CHLDX/validate"]}
[2025-09-19 06:13:20.600 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 88570f18 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":305} {"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.618 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/AJ4CHLDX/validate | Data: {"DurationMs":305.8299,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/AJ4CHLDX/validate - 200 null application/json; charset=utf-8 359.5723ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL9:00000002","RequestPath":"/api/host/token/AJ4CHLDX/validate","ConnectionId":"0HNFNCKJICUL9"}
[2025-09-19 06:13:20.627 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] Session validation API response: "OK" {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.654 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] Session validation response content: {"valid":false,"sessionId":0,"hostGuid":"AJ4CHLDX","session":null,"requestId":"0aa1c5ca"} {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.663 -04:00 WRN] NoorCanvas.Pages.HostLanding NOOR-HOST: [5d559ccb] Session validation failed or returned invalid data {"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.674 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.677 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938592006714154 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCKJICUL8:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.722 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCKJICUL8:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:13:20.736 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938592006714154 - 200 1769400 image/png 58.5772ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:09.981 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:14:09.994 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"lpf_PVT-pSIGbd7BKx9Ohw","RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:10.009 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:10.024 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d2facdc2 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":50048} {"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:10.032 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":50048.3762,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:10.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=NM-b6z45eufNgSuanwV6ng - 200 null null 50084.8426ms {"EventId":{"Id":2},"RequestId":"0HNFNCKJICUL8:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCKJICUL8"}
[2025-09-19 06:14:10.054 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNCKJICUL8", Request id "0HNFNCKJICUL8:0000000D": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 06:15:05.894 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:15:07.046 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:15:07.067 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:15:07.074 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:15:07.142 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:15:07.255 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:15:07.266 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:15:07.427 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:15:07.564 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:15:07.628 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:15:07.634 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:15:07.642 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:15:07.644 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:15:07.648 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:16:20.242 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:16:21.409 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:16:21.431 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:16:21.436 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:16:21.491 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:16:21.596 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:16:21.605 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:16:21.719 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:16:21.844 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:16:21.906 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:16:21.914 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:16:21.923 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:16:21.927 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:16:21.931 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:17:15.562 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:17:39.736 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:17:40.873 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:17:40.890 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:17:40.893 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:17:40.944 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:17:41.034 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:17:41.043 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:17:41.148 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:17:41.275 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:17:41.334 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:17:41.340 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:17:41.347 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:17:41.351 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:17:41.354 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:17:58.262 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/GGIJS9SG - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.376 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b0b9e188 | Data: {"Method":"GET","Path":{"Value":"/host/GGIJS9SG","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.393 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.425 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.458 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.477 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.555 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [cbdb0610] HostLanding component initialized - Route: https://localhost:9091/host/GGIJS9SG, FriendlyToken: GGIJS9SG {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.567 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] HostLanding OnInitialized - FriendlyToken: GGIJS9SG {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.578 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Loading session info for friendly token: GGIJS9SG {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.594 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Calling session validation API for FriendlyToken: GGIJS9SG {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.607 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] API URL: https://localhost:9091/api/host/token/GGIJS9SG/validate {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:58.628 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/GGIJS9SG/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:17:58.658 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/GGIJS9SG/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:17:58.754 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/GGIJS9SG/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:58.775 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 851fb89a | Data: {"Method":"GET","Path":{"Value":"/api/host/token/GGIJS9SG/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:58.786 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:58.809 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:58.845 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [4c2030b9] Validating friendly token: GGIJS9SG {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:58.855 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [4c2030b9] Looking up friendly token in database {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.247 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (30ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.510 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.532 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [4c2030b9] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.546 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [4c2030b9] Found session 228 with title: Character of the prophet {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.560 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.600 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 771.8838ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.605 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 919.5956ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/GGIJS9SG/validate","ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:17:59.625 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.637 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 1010.6868ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/GGIJS9SG/validate","ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:17:59.668 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 851fb89a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":885} {"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.686 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/GGIJS9SG/validate | Data: {"DurationMs":885.3482,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.700 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Session validation API response: "OK" {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.700 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/GGIJS9SG/validate - 200 null application/json; charset=utf-8 945.3951ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCM:00000001","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:17:59.720 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Session validation response content: {"valid":true,"sessionId":228,"hostGuid":"GGIJS9SG","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"requestId":"4c2030b9"} {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.742 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Session validation successful - SessionID: 228, Title: Character of the prophet {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.754 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [cbdb0610] Updated Model.SessionName to: Character of the prophet {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.818 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1369.7451ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.837 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.854 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b0b9e188 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1525} {"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.864 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594797648140 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.866 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.904 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/GGIJS9SG | Data: {"DurationMs":1525.0833,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.921 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 132963ba | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.956 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.956 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/GGIJS9SG - 200 null text/html; charset=utf-8 1696.7259ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000001","RequestPath":"/host/GGIJS9SG","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.957 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:17:59.987 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594797648140 - 200 1769400 image/png 122.9547ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.005 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.079 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.094 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 132963ba | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":172} {"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.109 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":172.8369,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.123 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 256.5378ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000005","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.189 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.203 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9e800a80 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.211 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.223 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.238 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9e800a80 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":34} {"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.246 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":34.8712,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.255 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 65.9408ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000007","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.274 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.291 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4ff258d5 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.305 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.320 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.338 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.353 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4ff258d5 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":62} {"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.361 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":62.0783,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.370 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 95.4366ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000009","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.833 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=tRz-Mcyt9OOGyikt95NiUw - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.859 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d65cec49 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=tRz-Mcyt9OOGyikt95NiUw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.875 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.887 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.904 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.923 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.938 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:00.964 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/GGIJS9SG, [{"type":"server","prerenderId":"e40b853046f74eaca9a2bebbbd2bff18","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOh10V+S8eCceu9Kh20yscNUaEPA0goHa+ZTpzr40LNmqwFjgHSFWJOIQt/uka9MLZr/M2grSQ4Y3aRCmpqVkcMFbysBMNmAxBnVes76o2P+d/E48Mh0A4OwKcOxSoy1HAA+AslTQQHtqHZ3k9rLfimRlmiwVlGnIQWse+34hiaER98ljBfLxH1xBvoMJ9GDtXirpLsOyg5Eu9O8nXTXsb6+4yPVvgbOYgA28nksrcYGbIAKR/gdEkCwJ5S+OV8t53bbsd8xBvpje4aDCVULAhhakOuWD3TozLJyHQmTTaRjMev/2mJHf5smAiDKj5bvz23BQA3tgGCkqhXOCPwP8PVZnWxxi/8v1QlX1dFqElIIrLYeISy27K9UYi2tS5mgOYkD/2zyJEyPIjdB6zwC6iSpYsCp63CmKKFDSLbPik3BvDNuZlUmy3FiPXk7VJ8cnqfb+vnS62oqJNT9+Hx1vsMf9767Wqh9Dw4qZDbv09uCA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.064 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [33ad4c70] HostLanding component initialized - Route: https://localhost:9091/host/GGIJS9SG, FriendlyToken: GGIJS9SG {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.073 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] HostLanding OnInitialized - FriendlyToken: GGIJS9SG {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.083 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Loading session info for friendly token: GGIJS9SG {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.090 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Calling session validation API for FriendlyToken: GGIJS9SG {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.098 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] API URL: https://localhost:9091/api/host/token/GGIJS9SG/validate {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.105 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/GGIJS9SG/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:18:01.120 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/GGIJS9SG/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:18:01.136 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/GGIJS9SG/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.143 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.150 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594811372139 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.161 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 58078fc7 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/GGIJS9SG/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.174 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.198 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.204 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.222 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.228 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.240 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594811372139 - 200 1769400 image/png 89.694ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.274 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [61018096] Validating friendly token: GGIJS9SG {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.286 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [61018096] Looking up friendly token in database {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.300 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.322 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.338 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [61018096] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.348 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [61018096] Found session 228 with title: Character of the prophet {"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.357 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6fb6ca83-0081-46d2-be2c-b244f7c17208","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.372 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 102.238ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.372 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 237.8081ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/GGIJS9SG/validate","TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:18:01.391 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.400 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 294.8681ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/GGIJS9SG/validate","TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/host/token/GGIJS9SG/validate"]}
[2025-09-19 06:18:01.418 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 58078fc7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":257} {"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.434 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/GGIJS9SG/validate | Data: {"DurationMs":257.3462,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.441 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/GGIJS9SG/validate - 200 null application/json; charset=utf-8 304.6319ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCM:00000002","RequestPath":"/api/host/token/GGIJS9SG/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:01.441 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Session validation API response: "OK" {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.461 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Session validation response content: {"valid":true,"sessionId":228,"hostGuid":"GGIJS9SG","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"requestId":"61018096"} {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.469 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Session validation successful - SessionID: 228, Title: Character of the prophet {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.476 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [33ad4c70] Updated Model.SessionName to: Character of the prophet {"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.488 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.520 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594814847670 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.564 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:01.583 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594814847670 - 200 1769400 image/png 62.6494ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.898 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.912 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ca85f7ba | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.920 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.932 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.944 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.956 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ca85f7ba | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":43} {"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.964 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":43.9896,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.973 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 75.3347ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:10.976 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=0aTul7LR6CuaiQ2YXS6bQg - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.002 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: aa0550fa | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=0aTul7LR6CuaiQ2YXS6bQg","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.010 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.022 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.033 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"jHwtAoSgz1Y-ck8-HsHF1w","RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.047 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"jHwtAoSgz1Y-ck8-HsHF1w","RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.060 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"jHwtAoSgz1Y-ck8-HsHF1w","RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:11.075 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "ConnectCircuit", Arguments: [ CfDJ8DeH3DqcBblEm_Wh6jxNrbMTq2kmt6MsQmt8xC7wVWniIsy2hjsQc5GAAAcZLoOeeUg1mMOlqwe0FIIIqGP6mZOkjbyxGj5kx4KVW_4D_TFeQ7Q7eWDLEWbleRLQU2fgX7r8PhHOT6sex2w9IKXp4W6CSTX_8Gf9JDN1Bh2Tk4B8g6ypUGigcLGzMOPrb3V3bUISXIy8uYYGZkElDfRR5hc ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"jHwtAoSgz1Y-ck8-HsHF1w","RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.054 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/8RR5SJ9N - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.076 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 9a188e1c | Data: {"Method":"GET","Path":{"Value":"/user/landing/8RR5SJ9N","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.088 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.099 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.115 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.135 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.168 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] UserLanding OnInitialized - SessionToken: 8RR5SJ9N {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.176 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Loading session info for token: 8RR5SJ9N {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.186 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Calling session validation API for token: 8RR5SJ9N {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.195 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:17.209 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:17.227 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.240 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0d7f18bb | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/8RR5SJ9N/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.248 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.262 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.284 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [3f28a232] Session token validation request for token: 8RR5SJ9N from ::1 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.297 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Starting token validation {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.307 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Token: 8RR5SJ9N, IsHost: false {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.318 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Querying database for token {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.354 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.371 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Total tokens in database: 68 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.385 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.404 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Active non-expired tokens: 37 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.423 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.441 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Tokens matching '8RR5SJ9N': 1 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.452 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Match found - ID: 74, SessionId: 228, Active: true, Expires: "2025-09-20T10:17:23.2045256", HostToken: SMAPD7I9, UserToken: 8RR5SJ9N {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.477 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.496 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Final query result: Found valid token {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.507 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Token validation successful - Session 228, Access #1, Expires: "2025-09-20T10:17:23.2045256" {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.517 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Session details - Title: 'Character of the prophet', Status: 'Created' {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.643 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.671 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [61a0cce2] Access count updated to 1 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.684 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.701 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [3f28a232] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.713 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [3f28a232] Successful participant token validation: 8RR5SJ9N → Session 228 - 'Character of the prophet' {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.724 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.749 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 473.4397ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.750 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 523.5848ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/8RR5SJ9N/validate","ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:17.771 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.782 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 587.1071ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/8RR5SJ9N/validate","ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:17.803 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0d7f18bb | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":562} {"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.822 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/8RR5SJ9N/validate | Data: {"DurationMs":562.8911,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.830 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate - 200 null application/json; charset=utf-8 603.2054ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCM:00000003","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:17.831 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Session validation API response: "OK" {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.852 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Session validation response content: {"valid":true,"sessionId":228,"token":"8RR5SJ9N","expiresAt":"2025-09-20T10:17:23.2045256","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"participant":{"joinUrl":"/session/8RR5SJ9N","accessCount":1,"lastAccessedAt":"2025-09-19T10:18:17.5281111Z"},"requestId":"3f28a232"} {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.867 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Session validation successful - SessionID: 228, Title: Character of the prophet {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.876 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [97e7b3c3] Updated Model.SessionName to: Character of the prophet, SessionDescription to: we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs. {"ActionId":"2325bd43-3069-450d-960e-790655f6c57b","ActionName":"/_Host","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.888 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 774.7761ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.897 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary4aSmIxHfzHCLRvYM 359 {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.908 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"21Ux7-awppsuOpbL9oRYMw","RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.916 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.931 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594978872422 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.931 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.935 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d7a8cfbe | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundary4aSmIxHfzHCLRvYM","ContentLength":359} {"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.952 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:17.981 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 9a188e1c | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":905} {"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.008 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 598086a4 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.016 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.032 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.043 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d65cec49 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":17184} {"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.101 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/user/landing/8RR5SJ9N | Data: {"DurationMs":905.0441,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.108 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.117 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.123 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594978872422 - 200 1769400 image/png 191.6968ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.132 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":17184.4367,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.154 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/8RR5SJ9N - 200 null text/html; charset=utf-8 1100.0331ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000015","RequestPath":"/user/landing/8RR5SJ9N","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.164 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.178 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.186 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=tRz-Mcyt9OOGyikt95NiUw - 200 null null 17352.8272ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000000B","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.215 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.219 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d7a8cfbe | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":285} {"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.239 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 598086a4 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":231} {"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.243 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":285.0034,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.253 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":231.6026,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.256 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 358.8109ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000017","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.269 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 337.8347ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000001B","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.307 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.321 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5a04e7a1 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.329 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.339 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.352 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5a04e7a1 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":30} {"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.364 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":30.7574,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 67.2617ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000001D","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.419 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.440 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 29741bac | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.450 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.463 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.474 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.488 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 29741bac | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":47} {"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.498 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":47.2521,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.506 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 86.9223ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:0000001F","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.685 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=J1tk3r5jyKg2GuC0mwqufA - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.721 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 32594b23 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=J1tk3r5jyKg2GuC0mwqufA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.732 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.744 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.754 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.766 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.779 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.792 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/8RR5SJ9N, [{"type":"server","prerenderId":"3134b7cbb39b455b9eeace87a7e8635d","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOgwLzqCYiEZcc36fwE4TiAFsXvrWbxU4d1NOgYWEKASI8D4R66AvEhyiesJyTSYBw6FhSnyosW7cmHPVafg582d2vIRIwiN4vC35hQ8EPaM4wwKNOJam2vFJjBg+CVY2GDQp6Je+T7q4JBFcf3xLDCQ5jInSX5Z8OYudJTFeIb4Og9b/r01onPp6y0AOyJIV7M74SkxN3e3W7z9uT2jBABMoEouxSY7nwa38APMx6mrV2N4k8RsG44TdPhMIB9k1aMiLlokXpeZbLDu22iLHIIZKhhIn/2SepRMWb7g9B4V+TzIpAlqJTErgLOguzVYlE+U6AWKPJJLxrP9wsOPu5CrAuxp3evag5qcge6iX2wjkbFhctL+scVH4aIAXmaGny1AgDhDRa+2aG4AjW6Tsb2ssZ05+Vd0pDB30jd1Aj/7dqbZ9FikuH6LVrUU4ryQi8I+Ivf4SdM59uRXAQ51qZkUdQh+W2BHHNOVrwdD9HKIA==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.814 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] UserLanding OnInitialized - SessionToken: 8RR5SJ9N {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.821 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Loading session info for token: 8RR5SJ9N {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.829 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Calling session validation API for token: 8RR5SJ9N {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.837 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:18.851 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:18.865 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:18.865 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.870 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594988650035 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.891 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1c1df9b2 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/8RR5SJ9N/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:18.897 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.919 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.924 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:18.941 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.950 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594988650035 - 200 1769400 image/png 79.5595ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:18.960 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:18.996 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4a2c37bb] Session token validation request for token: 8RR5SJ9N from ::1 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.006 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Starting token validation {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.015 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Token: 8RR5SJ9N, IsHost: false {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.025 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Querying database for token {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.036 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.052 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Total tokens in database: 68 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.062 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.077 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Active non-expired tokens: 37 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.088 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.104 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Tokens matching '8RR5SJ9N': 1 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.115 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Match found - ID: 74, SessionId: 228, Active: true, Expires: "2025-09-20T10:17:23.2045256", HostToken: SMAPD7I9, UserToken: 8RR5SJ9N {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.128 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.146 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Final query result: Found valid token {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.156 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Token validation successful - Session 228, Access #2, Expires: "2025-09-20T10:17:23.2045256" {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.167 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Session details - Title: 'Character of the prophet', Status: 'Created' {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.182 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.198 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a54a2b84] Access count updated to 2 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.208 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.224 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4a2c37bb] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.234 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4a2c37bb] Successful participant token validation: 8RR5SJ9N → Session 228 - 'Character of the prophet' {"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.243 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType33`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType34`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType35`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6524a700-7e54-4ac9-be74-3108fd9b8c07","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.260 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 265.1653ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.261 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 396.4816ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/8RR5SJ9N/validate","TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:19.279 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.287 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 450.6028ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/8RR5SJ9N/validate","TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL","Scope":["HTTP GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate"]}
[2025-09-19 06:18:19.304 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1c1df9b2 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":413} {"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.319 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/8RR5SJ9N/validate | Data: {"DurationMs":413.2765,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.325 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/8RR5SJ9N/validate - 200 null application/json; charset=utf-8 460.8975ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCM:00000004","RequestPath":"/api/participant/session/8RR5SJ9N/validate","ConnectionId":"0HNFNCN74UJCM"}
[2025-09-19 06:18:19.326 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Session validation API response: "OK" {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.347 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Session validation response content: {"valid":true,"sessionId":228,"token":"8RR5SJ9N","expiresAt":"2025-09-20T10:17:23.2045256","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"participant":{"joinUrl":"/session/8RR5SJ9N","accessCount":2,"lastAccessedAt":"2025-09-19T10:18:19.1780919Z"},"requestId":"4a2c37bb"} {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.354 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Session validation successful - SessionID: 228, Title: Character of the prophet {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.362 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [d49c321a] Updated Model.SessionName to: Character of the prophet, SessionDescription to: we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs. {"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.372 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594993712104 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCN74UJCL:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.411 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCN74UJCL:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:19.424 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938594993712104 - 200 1769400 image/png 49.927ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.226 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:18:31.231 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"jHwtAoSgz1Y-ck8-HsHF1w","RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.231 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"FDW7wwQdlxaYfVjZh0iI2Q","RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.252 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.257 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.279 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: aa0550fa | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":20277} {"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.285 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 32594b23 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":12563} {"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.297 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":20277.0898,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.301 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":12563.7077,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.313 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=0aTul7LR6CuaiQ2YXS6bQg - 200 null null 20337.4429ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.316 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=J1tk3r5jyKg2GuC0mwqufA - 200 null null 12631.7801ms {"EventId":{"Id":2},"RequestId":"0HNFNCN74UJCL:00000021","RequestPath":"/_blazor","ConnectionId":"0HNFNCN74UJCL"}
[2025-09-19 06:18:31.340 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNCN74UJCL", Request id "0HNFNCN74UJCL:00000013": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 06:18:31.348 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNCN74UJCL", Request id "0HNFNCN74UJCL:00000021": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 06:19:04.054 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:19:05.134 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:19:05.152 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:19:05.155 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:19:05.210 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:19:05.304 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:19:05.311 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:19:05.413 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:19:05.514 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:19:05.579 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:19:05.586 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:19:05.592 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:19:05.596 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:19:05.600 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:19:08.438 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/BRD2ZVKB - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.558 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a6ad3918 | Data: {"Method":"GET","Path":{"Value":"/host/BRD2ZVKB","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.570 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.590 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.618 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.636 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.704 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [07f09706] HostLanding component initialized - Route: https://localhost:9091/host/BRD2ZVKB, FriendlyToken: BRD2ZVKB {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.713 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] HostLanding OnInitialized - FriendlyToken: BRD2ZVKB {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.722 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Loading session info for friendly token: BRD2ZVKB {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.733 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Calling session validation API for FriendlyToken: BRD2ZVKB {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.744 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] API URL: https://localhost:9091/api/host/token/BRD2ZVKB/validate {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:08.758 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:08.780 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:08.861 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:08.878 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 33c89a64 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BRD2ZVKB/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:08.886 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:08.908 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:08.941 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [bf16d421] Validating friendly token: BRD2ZVKB {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:08.951 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [bf16d421] Looking up friendly token in database {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.298 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (30ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.559 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.581 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [bf16d421] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.595 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [bf16d421] Found session 228 with title: Character of the prophet {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.610 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.651 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 724.5778ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.653 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 853.9695ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:09.674 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.686 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 929.005ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:09.713 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 33c89a64 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":830} {"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.732 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BRD2ZVKB/validate | Data: {"DurationMs":830.8579,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.747 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Session validation API response: "OK" {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.747 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - 200 null application/json; charset=utf-8 886.0864ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1B:00000001","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:09.768 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Session validation response content: {"valid":true,"sessionId":228,"hostGuid":"BRD2ZVKB","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"requestId":"bf16d421"} {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.790 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Session validation successful - SessionID: 228, Title: Character of the prophet {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.802 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [07f09706] Updated Model.SessionName to: Character of the prophet {"ActionId":"c7715deb-88a8-47d7-8d02-8d1409ae5ab7","ActionName":"/_Host","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.865 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1259.1791ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.882 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.910 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.911 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595498127614 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.911 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.916 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a6ad3918 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1384} {"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.964 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /NoorCanvas.styles.css was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNCNS15C1A:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.979 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c6e187a7 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.998 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/BRD2ZVKB | Data: {"DurationMs":1384.6462,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:09.998 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.021 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 304 null text/css 110.751ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000003","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.025 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.034 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/BRD2ZVKB - 200 null text/html; charset=utf-8 1597.1419ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000001","RequestPath":"/host/BRD2ZVKB","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.037 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595498127614 - 200 1769400 image/png 126.1202ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.088 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.130 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.156 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c6e187a7 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":176} {"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.178 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":176.2475,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.188 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 277.1769ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.222 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.237 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8841a2ca | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.246 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.256 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.268 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8841a2ca | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":31} {"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.278 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":31.3867,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.289 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 67.5248ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.602 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.620 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5b2d1c9a | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.632 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.645 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.671 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.685 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5b2d1c9a | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":65} {"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.692 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":65.3504,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.700 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 98.0172ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.860 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=7nCeqdWtHlvnxNd5hZ87SQ - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.878 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a3b47f04 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=7nCeqdWtHlvnxNd5hZ87SQ","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.886 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.899 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.915 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.934 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.948 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:10.970 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/BRD2ZVKB, [{"type":"server","prerenderId":"78627d6775cc438c98b6f9dce8adc6ad","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOgWuZmLzISlW4BKQNtVbFFI/7tjnPQQbIzIM4P6GQhd+S6c3+PhcS2vPh2UZ8+2J/uZ3dCesI7ISV2gAxcObK+cCkTDm2gSIvphh8VnFi6wEX3MXaZejMikj43meOvjmRL2Iuu3Q73mk7eFhfLtb0ALPxaDrzL/jNi7MEd/pP6ucDrqP8nVCUhAp8SKxvT5UnuINak4xLoOPW1+88dWB6O+rIwXreiNJ0dRTpgopf3rgK0CtuzWM4p69BPXGvhEdEi1mcyNW4LnQEqnC92fMD+H3Dm1m106HCsK0FC180nE1RpCDZiaVafw2fLmaTagmzaGSB2xCkqB3vzne/mNIqRC3CQlivzfZH91tj83jgQVvtGLKS47HpQJGsSWt/EREoWrC0JCUG6fPAxjP2I2O/HKmrCfG645J1nvEGqsOyGcpv3DoKTvbFrnLzOYyFpxxAu54+7aQoXtIbuLxXzGJ2txB68E/mcdJvdTsanTZfWrw==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.064 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST-ROUTE: [225d512a] HostLanding component initialized - Route: https://localhost:9091/host/BRD2ZVKB, FriendlyToken: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.072 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] HostLanding OnInitialized - FriendlyToken: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.080 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Loading session info for friendly token: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.087 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Calling session validation API for FriendlyToken: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.095 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] API URL: https://localhost:9091/api/host/token/BRD2ZVKB/validate {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.102 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:11.117 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:11.132 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.138 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.145 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595511328338 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.157 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: cb1a587e | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BRD2ZVKB/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.170 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.190 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.198 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.212 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.216 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.221 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595511328338 - 200 1769400 image/png 76.1792ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.261 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [77d7d731] Validating friendly token: BRD2ZVKB {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.273 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [77d7d731] Looking up friendly token in database {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.286 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.306 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.322 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [77d7d731] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.334 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [77d7d731] Found session 228 with title: Character of the prophet {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.344 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.357 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 99.9896ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.358 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 227.0589ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:11.378 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.387 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 284.7371ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:11.405 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: cb1a587e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":248} {"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.421 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BRD2ZVKB/validate | Data: {"DurationMs":248.2288,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.428 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - 200 null application/json; charset=utf-8 296.4094ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1B:00000002","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:11.428 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Session validation API response: "OK" {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.448 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Session validation response content: {"valid":true,"sessionId":228,"hostGuid":"BRD2ZVKB","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"requestId":"77d7d731"} {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.456 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Session validation successful - SessionID: 228, Title: Character of the prophet {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.464 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [225d512a] Updated Model.SessionName to: Character of the prophet {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.474 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.475 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595514723042 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.517 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:11.528 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595514723042 - 200 1769400 image/png 52.7748ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.302 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":965,"screenY":1111,"clientX":965,"clientY":988,"offsetX":110,"offsetY":1,"pageX":965,"pageY":988,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.330 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Host authentication attempt with FriendlyToken: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.346 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.350 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595533421454 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.371 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Loading session info before authentication for better UX {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.391 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Calling session validation API for FriendlyToken: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.406 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.407 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] API URL: https://localhost:9091/api/host/token/BRD2ZVKB/validate {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.424 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595533421454 - 200 1769400 image/png 73.2926ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.429 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:13.466 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:13.484 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.484 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.507 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 291f8ca5 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BRD2ZVKB/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.515 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.525 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.544 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [c7c675b1] Validating friendly token: BRD2ZVKB {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.553 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [c7c675b1] Looking up friendly token in database {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.565 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.584 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.601 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [c7c675b1] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.610 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [c7c675b1] Found session 228 with title: Character of the prophet {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.620 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.636 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 95.3743ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.636 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 153.3112ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:13.655 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.664 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 235.0659ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:13.683 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 291f8ca5 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":175} {"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.698 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BRD2ZVKB/validate | Data: {"DurationMs":175.3835,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.705 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - 200 null application/json; charset=utf-8 221.002ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1B:00000003","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:13.705 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Session validation API response: "OK" {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.724 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Session validation response content: {"valid":true,"sessionId":228,"hostGuid":"BRD2ZVKB","session":{"sessionId":228,"title":"Character of the prophet","description":"we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.","status":"Created","participantCount":0,"maxParticipants":null,"startedAt":null,"createdAt":"2025-09-14T10:15:17.6718106"},"requestId":"c7c675b1"} {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.733 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Session validation successful - SessionID: 228, Title: Character of the prophet {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.740 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Updated Model.SessionName to: Character of the prophet {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.751 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.752 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595537496551 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.791 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:13.802 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595537496551 - 200 1769400 image/png 49.9952ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.258 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Using token validation for friendly token authentication {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.267 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:14.284 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BRD2ZVKB/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:14.301 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.315 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c91f3d33 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BRD2ZVKB/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.324 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.334 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.353 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [05aaedb9] Validating friendly token: BRD2ZVKB {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.363 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [05aaedb9] Looking up friendly token in database {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.377 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.400 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.417 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [05aaedb9] Updated session info from KSESSIONS: Title='Character of the prophet', Description='we understand how the exemplary character of our prophet (Salallahu alayhi wa aalihee wa sallam) was a miracle for non-Arabs.' for session 228 {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.427 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [05aaedb9] Found session 228 with title: Character of the prophet {"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.436 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"103c4c8e-e96f-43fe-9746-b92f995514c9","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.450 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 97.8464ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.450 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 149.6841ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:14.470 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.479 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 212.3392ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BRD2ZVKB/validate","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/token/BRD2ZVKB/validate"]}
[2025-09-19 06:19:14.499 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c91f3d33 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":184} {"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.515 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BRD2ZVKB/validate | Data: {"DurationMs":184.051,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.521 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BRD2ZVKB/validate - 200 null application/json; charset=utf-8 219.9535ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1B:00000004","RequestPath":"/api/host/token/BRD2ZVKB/validate","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:14.521 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Token validation API response: "OK" {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.549 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Token validation response parsed - Valid: true, SessionId: 228 {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.558 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Token validation successful {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.565 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Updated session info from validation response - Name: Character of the prophet {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.574 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.575 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595545724440 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.612 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:14.624 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595545724440 - 200 1769400 image/png 48.9136ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.079 -04:00 INF] NoorCanvas.Pages.HostLanding NOOR-HOST: [0426d73a] Redirecting to session opener with SessionId: 228 and Token: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.097 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/host/session-opener/BRD2ZVKB, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.116 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595560960574 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.118 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Initializing Host-SessionOpener component with Token: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.160 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Host friendly token set: BRD2ZVKB {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.165 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.180 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB"]}
[2025-09-19 06:19:16.184 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595560960574 - 200 1769400 image/png 68.2716ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.212 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB"]}
[2025-09-19 06:19:16.234 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.240 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 5, True, [5,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.247 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 31864779 | Data: {"Method":"GET","Path":{"Value":"/api/host/albums","HasValue":true},"QueryString":"?guid=BRD2ZVKB","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.248 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595562378322 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.276 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.280 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.306 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.315 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.332 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAlbums", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"b9c6ef37-06ee-4633-901b-99217c952e26","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.336 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595562378322 - 200 1769400 image/png 87.5987ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.372 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading albums from KSESSIONS database for host token: BRD2ZVKB... {"ActionId":"b9c6ef37-06ee-4633-901b-99217c952e26","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.422 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.GetAllGroups {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"b9c6ef37-06ee-4633-901b-99217c952e26","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.440 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 16 albums from KSESSIONS database {"ActionId":"b9c6ef37-06ee-4633-901b-99217c952e26","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.450 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.AlbumData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"b9c6ef37-06ee-4633-901b-99217c952e26","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.466 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas) in 99.042ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.466 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 232.7211ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=BRD2ZVKB","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB"]}
[2025-09-19 06:19:16.484 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.492 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 311.6904ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=BRD2ZVKB","TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB"]}
[2025-09-19 06:19:16.510 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 31864779 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":263} {"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.525 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/albums | Data: {"DurationMs":263.2982,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.532 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=BRD2ZVKB - 200 null application/json; charset=utf-8 297.834ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1B:00000005","RequestPath":"/api/host/albums","ConnectionId":"0HNFNCNS15C1B"}
[2025-09-19 06:19:16.535 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 16 albums {"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.556 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.557 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565530559 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.565 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565542001 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.565 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565544503 - null null {"EventId":{"Id":1},"RequestId":"0HNFNCNS15C1A:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.592 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.599 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.604 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.620 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNCNS15C1A:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.635 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.646 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565530559 - 499 1769400 image/png 89.3119ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.651 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565542001 - 499 1769400 image/png 86.4141ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:19:16.662 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938595565544503 - 200 1769400 image/png 97.5078ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.707 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 06:39:56.719 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"YKhJ_peMJ6B03zOC1yhb5g","RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.735 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.749 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a3b47f04 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":1245880} {"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.757 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":1245880.6084,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.766 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=7nCeqdWtHlvnxNd5hZ87SQ - 200 null null 1245915.214ms {"EventId":{"Id":2},"RequestId":"0HNFNCNS15C1A:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNCNS15C1A"}
[2025-09-19 06:39:56.783 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNCNS15C1A", Request id "0HNFNCNS15C1A:0000000D": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 06:54:00.606 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:54:01.816 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:54:01.834 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:54:01.839 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:54:01.896 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:54:02.000 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:54:02.007 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:54:02.110 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:54:02.236 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:54:02.297 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:54:02.305 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 06:54:02.312 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 06:54:02.315 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 06:54:02.319 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 06:54:02.476 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.591 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5e9f8b05 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.609 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.640 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.673 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.698 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5e9f8b05 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":137} {"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.720 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":137.8548,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.733 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 259.6861ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000001","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.740 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=PHtecERxUmSDoNh-p-UV-A - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.773 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: be7f29c3 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=PHtecERxUmSDoNh-p-UV-A","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.783 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.794 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.809 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"cbL2U4Ij-lHjjSE9aCNi_g","RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.828 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"cbL2U4Ij-lHjjSE9aCNi_g","RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.842 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"cbL2U4Ij-lHjjSE9aCNi_g","RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:02.866 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "ConnectCircuit", Arguments: [ CfDJ8DeH3DqcBblEm_Wh6jxNrbNaYvuJyIEwb6-bsjeoeeyzYviJj63Ffrfdsoue6mt2o--pruR7VB_VKafdkM8zP_Phj0DCAgk2Y6lmABYKyQx-EXliO0wSnjTFKJ0UrYabXZdvsHUcm1bGvoWxkRw1AYg90Omk1wSVbbQQnwQYHiT8RFC0ANESj3OlCsFaPGSqai_8dNVTWeIdg3o8tdBnICg ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"cbL2U4Ij-lHjjSE9aCNi_g","RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.433 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/session-opener/Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.453 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fbad22e6 | Data: {"Method":"GET","Path":{"Value":"/host/session-opener/Y57ZZEHE","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.464 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.484 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.525 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.546 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.623 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Initializing Host-SessionOpener component with Token: Y57ZZEHE {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.634 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Host friendly token set: Y57ZZEHE {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:11.650 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:11.671 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:11.754 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:11.766 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c6e5f43e | Data: {"Method":"GET","Path":{"Value":"/api/host/albums","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:11.776 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:11.798 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAlbums", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:11.832 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading albums from KSESSIONS database for host token: Y57ZZEHE... {"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.114 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.GetAllGroups {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.154 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 16 albums from KSESSIONS database {"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.170 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.AlbumData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.201 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas) in 382.5304ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.206 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 514.8659ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:12.225 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.236 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 587.0022ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:12.258 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c6e5f43e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":492} {"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.277 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/albums | Data: {"DurationMs":492.1241,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.292 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 538.3258ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000001","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.300 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 16 albums {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:12.326 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Starting session tracing and auto-population... {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:12.337 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Checking for existing session with KSessionsId for host token: Y57ZZEHE {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:12.348 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/Y57ZZEHE/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:12.366 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/Y57ZZEHE/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:12.385 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/Y57ZZEHE/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.404 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 695beb73 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/Y57ZZEHE/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.413 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.431 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.459 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [9ee2c2ed] Validating friendly token: Y57ZZEHE {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.471 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [9ee2c2ed] Looking up friendly token in database {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.704 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (14ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.849 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.869 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [9ee2c2ed] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.880 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [9ee2c2ed] Found session 10226 with title: The Story Of Adam (ZAHIR) {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.893 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.920 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 469.5876ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.920 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 537.0809ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/Y57ZZEHE/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:12.941 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.950 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 601.6254ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/Y57ZZEHE/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:12.971 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 695beb73 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":567} {"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.987 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/Y57ZZEHE/validate | Data: {"DurationMs":567.2836,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:12.995 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/Y57ZZEHE/validate - 200 null application/json; charset=utf-8 609.4555ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000002","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.001 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Found existing session with KSessionsId: 1281 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:13.018 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Tracing session details for KSessionsId: 1281 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:13.029 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:13.045 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:13.061 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.074 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 63ed62f7 | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/1281","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.082 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.096 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.117 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 1281 {"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.137 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.154 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Found session details - SessionId: 1281, GroupId: 18, CategoryId: 55 {"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.166 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType28`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.183 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 69.3798ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.183 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 122.0154ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:13.204 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.212 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 183.6843ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:13.232 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 63ed62f7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":158} {"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.249 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/1281 | Data: {"DurationMs":158.0964,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.256 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 195.0753ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000003","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:13.259 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Found session details - GroupId: 18, CategoryId: 55, SessionId: 1281 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:13.282 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 1: Setting Album to GroupId 18 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:14.304 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:14.322 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:14.341 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.360 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 60d69b0e | Data: {"Method":"GET","Path":{"Value":"/api/host/categories/18","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.371 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.391 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCategories", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.409 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading categories from KSESSIONS database for album: 18 {"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.443 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.GetCategoriesForGroup @p0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.459 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 7 categories from KSESSIONS database for album 18 {"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.470 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CategoryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.486 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas) in 78.4228ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.486 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 145.2654ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:14.509 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.518 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 214.3229ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:14.540 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 60d69b0e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":180} {"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.557 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/categories/18 | Data: {"DurationMs":180.0427,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.564 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 222.9257ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000004","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:14.566 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 7 categories for album 18 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:15.601 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 2: Setting Category to CategoryId 55 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:16.628 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:16.646 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:16.665 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.680 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 10bee30f | Data: {"Method":"GET","Path":{"Value":"/api/host/sessions/55","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.691 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.707 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessions", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessions(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.730 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading sessions from KSESSIONS database for category: 55 {"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.758 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionID], [s].[SessionName], COALESCE([s].[Description], N'') AS [Description], [s].[CategoryID], COALESCE([s].[IsActive], CAST(0 AS bit)) AS [IsActive]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[CategoryID] = @__categoryId_0 AND [s].[IsActive] = CAST(1 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.776 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 3 sessions from KSESSIONS database for category 55 {"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.787 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.SessionData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.803 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas) in 76.0458ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.803 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 139.4032ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:16.822 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.831 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 202.7265ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:16.849 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 10bee30f | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":169} {"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.865 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/sessions/55 | Data: {"DurationMs":169.8679,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.873 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 208.3736ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000005","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:16.876 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 3 sessions for category 55 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.072 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 3: Setting Session to SessionId 1281 {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.083 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Cascading auto-population completed successfully {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.148 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 6639.1914ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.158 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary2oNuGwRBgqVVpKZN 359 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.170 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"cbL2U4Ij-lHjjSE9aCNi_g","RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.169 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.214 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616580941111 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.216 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 880e919c | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundary2oNuGwRBgqVVpKZN","ContentLength":359} {"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000000B","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.216 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.276 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.280 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fbad22e6 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":6827} {"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.319 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ef803dc9 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.320 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/NoorCanvas.styles.css'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\obj\Debug\net8.0\scopedcss\bundle\NoorCanvas.styles.css' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000000B","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.331 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.293 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.370 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: be7f29c3 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":15597} {"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.348 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_GET_/host/session-opener/Y57ZZEHE | Data: {"DurationMs":6827.1105,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.383 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.389 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.396 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 200 2658 text/css 179.3187ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000000B","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.403 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616580941111 - 200 1769400 image/png 188.4859ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.465 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":15597.0353,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.474 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/session-opener/Y57ZZEHE - 200 null text/html; charset=utf-8 7041.2386ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000005","RequestPath":"/host/session-opener/Y57ZZEHE","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.485 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.487 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.532 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=PHtecERxUmSDoNh-p-UV-A - 200 null null 15792.896ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.550 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.556 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 880e919c | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":339} {"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.612 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ef803dc9 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":293} {"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.616 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":339.94,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.632 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":293.8627,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.636 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 477.9947ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000007","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.655 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 438.1977ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000000D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.701 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.721 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 953b6e2d | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.732 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.749 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.766 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 953b6e2d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":45} {"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.777 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":45.3928,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.793 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 91.0304ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000000F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.820 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.843 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d1103761 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.857 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.871 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.885 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.899 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d1103761 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":55} {"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.909 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":55.8391,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:18.918 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 98.0887ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000011","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.523 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=H8bPcOGjVguiTvKo5DcHVw - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.545 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b9d661b8 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=H8bPcOGjVguiTvKo5DcHVw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.560 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.583 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.598 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.614 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.629 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.653 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/session-opener/Y57ZZEHE, [{"type":"server","prerenderId":"8906c6ca67cb48c5b8d9a7127729f081","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbNf5s5NPhFxYlGKSZdsBpksaO57uWerqm+EhQNG+zbd9ScFpyu344nXHC5y6HdRVi5yZDuautjokfw9kjxV6spP5YYo0Zhh9A/rqoZlA99kVN67ALwuJ4vqjBRgeenWs+7Zl4aU4s5h9sT93ixMrE+vLpznLQ6YbOo2j18a5ElBg39Rh91+PMfgWLD5qqBAwwxjzrGarn0sJOCAlaOaZufWljK5x7bK6LIiynZcknCaOy5/Uwr+ZLaCzjp0rUHR5vzjmMa7mg4gn5bmMOC4byS1KQ9hd9SrwIKd+gWbioBHXDB6qesPHbJgm+XvRa5Wg7f7gUknr35ABiiubwdh9DqzM0K3CpNLn5k4Tn+eW5LbqexKWjW+uCKLCMjkokAxDRuuGBTSgabvd/369W3b+bN7exL7hBE0f6TDbKv7sFtIYZ1ByM7PZl2CN26q1jrIqjA2ISQb62cH527BQU4PrRvCFj3ycNwMKzwJ9LIbBoQvEw==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.740 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Initializing Host-SessionOpener component with Token: Y57ZZEHE {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.754 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Host friendly token set: Y57ZZEHE {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.775 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:19.806 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:19.823 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:19.830 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.839 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616598233181 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.847 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ed1a8cb7 | Data: {"Method":"GET","Path":{"Value":"/api/host/albums","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:19.864 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.890 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:19.913 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetAlbums", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAlbums(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:19.897 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.922 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.936 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616598233181 - 200 1769400 image/png 96.901ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:19.946 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading albums from KSESSIONS database for host token: Y57ZZEHE... {"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:19.991 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.GetAllGroups {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.010 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 16 albums from KSESSIONS database {"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.024 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.AlbumData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"591a3002-90aa-4c9c-89ba-07b32c0a0825","ActionName":"NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.042 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas) in 96.6976ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.042 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 219.4436ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.066 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetAlbums (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.076 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 300.401ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/albums?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.096 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ed1a8cb7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":249} {"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.113 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/albums | Data: {"DurationMs":249.1133,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.121 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/albums?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 297.8764ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000006","RequestPath":"/api/host/albums","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.121 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 16 albums {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.146 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Starting session tracing and auto-population... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.149 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616601448158 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.148 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.158 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Checking for existing session with KSessionsId for host token: Y57ZZEHE {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.197 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/Y57ZZEHE/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:20.204 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.220 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/Y57ZZEHE/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:20.225 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616601448158 - 200 1769400 image/png 75.6417ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.252 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/Y57ZZEHE/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.276 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d90dc0ec | Data: {"Method":"GET","Path":{"Value":"/api/host/token/Y57ZZEHE/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.283 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.293 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.312 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [7403dbc4] Validating friendly token: Y57ZZEHE {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.322 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [7403dbc4] Looking up friendly token in database {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.336 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.360 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.379 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [7403dbc4] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.390 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [7403dbc4] Found session 10226 with title: The Story Of Adam (ZAHIR) {"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.399 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"61d7cffc-1a39-4701-9324-52ebf15ac04e","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.415 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 104.4253ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.415 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 163.6287ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/Y57ZZEHE/validate","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:20.437 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.446 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 248.3494ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/Y57ZZEHE/validate","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/token/Y57ZZEHE/validate"]}
[2025-09-19 06:54:20.463 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d90dc0ec | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":187} {"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.478 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/Y57ZZEHE/validate | Data: {"DurationMs":187.5932,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.484 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/Y57ZZEHE/validate - 200 null application/json; charset=utf-8 232.0612ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000007","RequestPath":"/api/host/token/Y57ZZEHE/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.485 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Found existing session with KSessionsId: 1281 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.505 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Tracing session details for KSessionsId: 1281 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.515 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.529 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.544 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.556 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3280fbd7 | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/1281","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.563 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.574 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.589 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 1281 {"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.600 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.616 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Found session details - SessionId: 1281, GroupId: 18, CategoryId: 55 {"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.626 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType28`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"5268d1b3-f3e2-40ff-b031-dfba2ba5b496","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.642 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 52.9924ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.642 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 98.8579ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.662 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.672 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 156.553ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE"]}
[2025-09-19 06:54:20.691 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3280fbd7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":135} {"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.707 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/1281 | Data: {"DurationMs":135.2979,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.713 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/1281?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 169.7962ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000008","RequestPath":"/api/host/session-details/1281","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:20.714 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Found session details - GroupId: 18, CategoryId: 55, SessionId: 1281 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.736 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 1: Setting Album to GroupId 18 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.762 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.764 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616607600918 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.808 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:20.821 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616607600918 - 200 1769400 image/png 57.5959ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:21.769 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:21.771 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:21.773 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616617690549 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:21.799 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:21.830 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:21.835 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.856 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616617690549 - 200 1769400 image/png 83.3982ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000001B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:21.865 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c6f9d676 | Data: {"Method":"GET","Path":{"Value":"/api/host/categories/18","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.887 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.897 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCategories", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.912 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading categories from KSESSIONS database for album: 18 {"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.924 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
EXEC dbo.GetCategoriesForGroup @p0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.940 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 7 categories from KSESSIONS database for album 18 {"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.949 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CategoryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"f47d8700-9408-4ddb-93f4-5898c6bb9028","ActionName":"NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.964 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas) in 52.7117ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.964 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 130.1114ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:21.983 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCategories (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:21.991 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 222.0397ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE"]}
[2025-09-19 06:54:22.009 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c6f9d676 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":144} {"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:22.024 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/categories/18 | Data: {"DurationMs":144.0071,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:22.030 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/categories/18?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 195.1715ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000009","RequestPath":"/api/host/categories/18","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:22.030 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 7 categories for album 18 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.056 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.057 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616620534261 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.066 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616620540507 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.082 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.096 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.127 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616620534261 - 499 1769400 image/png 69.8641ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000001D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.130 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:22.153 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616620540507 - 200 1769400 image/png 86.4005ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000001F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:23.063 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 2: Setting Category to CategoryId 55 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:23.075 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:23.077 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616630737196 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:23.114 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:23.129 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616630737196 - 200 1769400 image/png 52.4364ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000021","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.075 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:24.078 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616640750603 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.077 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.093 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:24.133 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.140 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.163 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616640750603 - 200 1769400 image/png 84.3951ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000023","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.171 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d43caa55 | Data: {"Method":"GET","Path":{"Value":"/api/host/sessions/55","HasValue":true},"QueryString":"?guid=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.200 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.210 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessions", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessions(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.226 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading sessions from KSESSIONS database for category: 55 {"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.239 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__categoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SessionID], [s].[SessionName], COALESCE([s].[Description], N'') AS [Description], [s].[CategoryID], COALESCE([s].[IsActive], CAST(0 AS bit)) AS [IsActive]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[CategoryID] = @__categoryId_0 AND [s].[IsActive] = CAST(1 AS bit) {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.257 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 3 sessions from KSESSIONS database for category 55 {"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.266 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.SessionData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"b8802b4b-3d90-415c-b47e-0cfc49b00e27","ActionName":"NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.281 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas) in 56.2838ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.282 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 141.9846ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:24.301 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessions (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.310 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 234.659ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE"]}
[2025-09-19 06:54:24.328 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d43caa55 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":157} {"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.343 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/sessions/55 | Data: {"DurationMs":157.0738,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.349 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/sessions/55?guid=Y57ZZEHE - 200 null application/json; charset=utf-8 209.0237ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000A","RequestPath":"/api/host/sessions/55","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:24.349 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Loaded 3 sessions for category 55 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.372 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.373 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616643706189 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.377 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616643708789 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.400 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.408 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.425 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.451 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616643706189 - 499 1769400 image/png 77.433ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000025","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:24.465 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616643708789 - 200 1769400 image/png 88.1611ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000027","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.382 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Step 3: Setting Session to SessionId 1281 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.392 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [AUTO-LOAD] Cascading auto-population completed successfully {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.394 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.396 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616653926064 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.424 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616654200345 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.429 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.438 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.490 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.491 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.496 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616653926064 - 499 1769400 image/png 99.9386ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000029","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.522 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:25.527 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616654200345 - 200 1769400 image/png 102.4254ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000002B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.247 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":999,"screenY":1097,"clientX":999,"clientY":974,"offsetX":95,"offsetY":19,"pageX":999,"pageY":974,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.279 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: *** ENTERING OpenSession Method *** {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.289 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Initial state - ShowSessionUrlPanel: false, SessionUrl: https://localhost:9091/session/waiting/demo-session {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.297 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Host Token: Y57ZZEHE {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.307 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Form validation state - IsFormValid: true {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.318 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Selected values - Album: 18, Category: 55, Session: 1281 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.330 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Opening session - Album: 18, Category: 55, Session: 1281, Date: "2025-09-19T00:00:00.0000000-04:00", Time: 6:00 AM, Duration: 60 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.346 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] About to call CreateSessionAndGenerateTokens... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.357 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: *** ENTERING CreateSessionAndGenerateTokens *** {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.365 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Creating session and generating tokens... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.375 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Creating HTTP client... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.383 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: HttpClient BaseAddress set to: "https://localhost:9091/" {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.392 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Preparing session data payload... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.409 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Session data prepared: {"HostFriendlyToken":"Y57ZZEHE","SelectedSession":"1281","SelectedCategory":"55","SelectedAlbum":"18","SessionDate":"2025-09-19","SessionTime":"6:00 AM","SessionDuration":60} {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.418 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Individual values - HostToken: Y57ZZEHE, Session: 1281, Category: 55, Album: 18, Date: 2025-09-19, Time: 6:00 AM, Duration: 60 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.430 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Pre-API validation - SelectedAlbum null/empty: false, SelectedCategory null/empty: false, SelectedSession null/empty: false {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.440 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Calling session creation API at api/host/create-session?token=Y57ZZEHE... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.449 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Full API URL: "https://localhost:9091/"api/host/create-session?token=Y57ZZEHE {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.460 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE"]}
[2025-09-19 06:54:27.475 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE"]}
[2025-09-19 06:54:27.495 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE - application/json; charset=utf-8 null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.497 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.498 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616674959221 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.521 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 02f24a9c | Data: {"Method":"POST","Path":{"Value":"/api/host/create-session","HasValue":true},"QueryString":"?token=Y57ZZEHE","UserAgent":"","RemoteIP":"::1","ContentType":"application/json; charset=utf-8","ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.544 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.546 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.564 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "CreateSessionWithTokens", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateSessionWithTokens(System.String, System.Text.Json.JsonElement) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.566 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616674959221 - 200 1769400 image/png 67.5104ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000002D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:27.601 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Creating session for host token: Y57ZZEHE {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.616 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Starting token validation {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.626 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Token: Y57ZZEHE, IsHost: true {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.636 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Querying database for token {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.682 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.698 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Total tokens in database: 71 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.713 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.728 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Active non-expired tokens: 40 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.744 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[HostToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.760 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Tokens matching 'Y57ZZEHE': 1 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.770 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Match found - ID: 77, SessionId: 10226, Active: true, Expires: "2025-09-20T10:42:33.6248830", HostToken: Y57ZZEHE, UserToken: 3KYI8AVN {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.794 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[HostToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.810 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Final query result: Found valid token {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.820 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Token validation successful - Session 10226, Access #1, Expires: "2025-09-20T10:42:33.6248830" {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.830 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Created' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.934 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.961 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c18198f1] Access count updated to 1 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.973 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Attempting to parse session data from payload {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.984 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Raw sessionData type: JsonElement, Kind: "Object" {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:27.994 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Raw sessionData value: {"hostFriendlyToken":"Y57ZZEHE","selectedSession":"1281","selectedCategory":"55","selectedAlbum":"18","sessionDate":"2025-09-19","sessionTime":"6:00 AM","sessionDuration":60} {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.006 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: sessionData ValueKind: "Object", extracting properties... {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.017 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted selectedSession: '1281' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.027 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted selectedCategory: '55' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.038 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted selectedAlbum: '18' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.048 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted sessionDate: '2025-09-19' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.059 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted sessionTime: '6:00 AM' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.071 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Successfully extracted sessionDuration: 60 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.081 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Available properties in JsonElement: {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.090 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'hostFriendlyToken' = 'Y57ZZEHE' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.101 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'selectedSession' = '1281' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.112 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'selectedCategory' = '55' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.123 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'selectedAlbum' = '18' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.135 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'sessionDate' = '2025-09-19' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.147 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'sessionTime' = '6:00 AM' (ValueKind: "String") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.158 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Property 'sessionDuration' = '60' (ValueKind: "Number") {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.170 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Parsed session data - Album: 18, Category: 55, Session: 1281, Date: 2025-09-19, Time: 6:00 AM, Duration: 60 (Issue-112: Country field removed) {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.183 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Validating required fields - Session: '1281', Category: '55', Album: '18' {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.203 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__ksessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__ksessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.221 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Found session name 'The Story Of Adam (ZAHIR)' for SessionID 1281 {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.239 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Int64), @p0='?' (Size = 1000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[Sessions] SET [Description] = @p0, [ModifiedAt] = @p1, [StartedAt] = @p2, [Status] = @p3
OUTPUT 1
WHERE [SessionId] = @p4; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.275 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [canvas].[SecureTokens] AS [s]
        WHERE [s].[HostToken] = @__token_0 OR [s].[UserToken] = @__token_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.293 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [canvas].[SecureTokens] AS [s]
        WHERE [s].[HostToken] = @__token_0 OR [s].[UserToken] = @__token_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.345 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 45), @p3='?' (DbType = DateTime2), @p4='?' (Size = 8) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int64), @p8='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [canvas].[SecureTokens] ([AccessCount], [CreatedAt], [CreatedByIp], [ExpiresAt], [HostToken], [IsActive], [LastAccessedAt], [SessionId], [UserToken])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.372 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY: Generated token pair for Session 10226: Host=YX399C92, User=WYLA6CWV {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.385 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-OPENER: Session configured successfully - SessionId: 10226, UserToken: WYLA6CWV {"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.396 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType20`5[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"45a718e4-6637-4c69-9658-48730e64d4bb","ActionName":"NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.413 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas) in 824.4594ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.414 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 921.462ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/host/create-session?token=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE"]}
[2025-09-19 06:54:28.434 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.CreateSessionWithTokens (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.442 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 982.5117ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/host/create-session?token=Y57ZZEHE","TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE"]}
[2025-09-19 06:54:28.460 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 02f24a9c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":939} {"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.475 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/api/host/create-session | Data: {"DurationMs":939.1673,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.481 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:9091/api/host/create-session?token=Y57ZZEHE - 200 null application/json; charset=utf-8 986.1189ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000B","RequestPath":"/api/host/create-session","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:28.481 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] API call completed with status: "OK" (200) {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.503 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Response headers: Date: Fri, 19 Sep 2025 10:54:27 GMT
Server: Kestrel
Transfer-Encoding: chunked
X-Debug-CorrelationId: 02f24a9c
 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.512 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Raw API response content length: 136 {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.520 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Raw API response content: {"success":true,"sessionId":10226,"userToken":"WYLA6CWV","hostToken":"YX399C92","message":"Session created and configured successfully"} {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.527 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Parsing successful API response... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.540 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: API response parsed: {"Success":true,"UserToken":"WYLA6CWV","HostToken":"YX399C92","SessionId":10226,"Message":"Session created and configured successfully"} {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.549 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-104-FIX] Session created successfully - User Token: WYLA6CWV {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.557 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-104-FIX] Session URL updated to proper format: https://localhost:9091/user/landing/WYLA6CWV {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.565 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-104-DEBUG] URL format changed from '/session/{token}' to '/user/landing/{token}' for proper authentication flow {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.574 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: *** EXITING CreateSessionAndGenerateTokens SUCCESSFULLY *** {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.582 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] CreateSessionAndGenerateTokens completed successfully, calling SaveSessionToLocalStorage... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.591 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Saving session data to localStorage... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.605 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.617 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Session data saved to localStorage successfully {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.626 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] SaveSessionToLocalStorage completed, showing URL panel... {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.633 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-FIX] About to set ShowSessionUrlPanel = true (was: false) {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.643 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-FIX] ShowSessionUrlPanel set to: true {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.650 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-DEBUG] Current SessionUrl: https://localhost:9091/user/landing/WYLA6CWV {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.659 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-FIX] StateHasChanged() called - UI should now show session URL panel {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.663 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616686592044 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.676 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: [ISSUE-106-SUCCESS] Session opened successfully - URL Panel visibility: true, URL: https://localhost:9091/user/landing/WYLA6CWV {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.694 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.694 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.699 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616686944295 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.721 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616686592044 - 200 1769400 image/png 57.492ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000002F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.752 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.759 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:28.791 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616686944295 - 200 1769400 image/png 92.3241ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000031","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.838 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":99,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":979,"screenY":1138,"clientX":979,"clientY":1015,"offsetX":60,"offsetY":-1,"pageX":979,"pageY":1015,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.858 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.868 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616708564889 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.877 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 5, True, [5,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.923 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.940 -04:00 INF] NoorCanvas.Pages.Host_SessionOpener NOOR-HOST-OPENER: Session URL copied to clipboard: https://localhost:9091/user/landing/WYLA6CWV {"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.948 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616709401794 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.958 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616708564889 - 200 1769400 image/png 89.9932ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000033","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.969 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:30.995 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:31.021 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616709401794 - 200 1769400 image/png 72.9942ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000035","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:32.983 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:32.985 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616729819803 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:32.987 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616729822402 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:33.013 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"l53KKT1ItorhY5OYYRFK7w","RequestId":"0HNFNDBC4SOVO:00000013","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:33.022 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:33.042 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:33.128 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616729819803 - 499 1769400 image/png 142.21ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000037","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:33.144 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616729822402 - 200 1769400 image/png 156.3682ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000039","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.795 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.811 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1183172d | Data: {"Method":"GET","Path":{"Value":"/user/landing/WYLA6CWV","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.822 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.835 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.854 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.872 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.933 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] UserLanding OnInitialized - SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.943 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Loading session info for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.954 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Calling session validation API for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:40.962 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:40.978 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:40.994 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.008 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d74ab2ee | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.015 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.028 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.047 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5a1aa9c9] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.057 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.068 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.079 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.089 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.105 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.117 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.133 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.149 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.165 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.176 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.198 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.215 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.225 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Token validation successful - Session 10226, Access #1, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.236 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.248 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.265 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb50e02a] Access count updated to 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.276 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.292 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5a1aa9c9] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.306 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5a1aa9c9] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.319 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.345 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 301.2131ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.345 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 350.9529ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:41.364 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.374 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 411.4135ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:41.393 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d74ab2ee | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":384} {"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.408 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":384.9707,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.415 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 420.3431ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:41.415 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Session validation API response: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.437 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":1,"lastAccessedAt":"2025-09-19T10:54:41.2472428Z"},"requestId":"5a1aa9c9"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.450 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.459 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [8b703002] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.470 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 617.6569ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.486 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.499 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1183172d | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":687} {"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.514 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/user/landing/WYLA6CWV | Data: {"DurationMs":687.9896,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.522 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616814689983 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.525 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.529 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - 200 null text/html; charset=utf-8 734.2453ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000003B","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.593 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0626bdb1 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.620 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.625 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.646 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616814689983 - 200 1769400 image/png 123.5184ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000003D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.681 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.742 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.823 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0626bdb1 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":229} {"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.841 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":229.7124,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.854 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 329.0434ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000003F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.902 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.931 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 97f24e72 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.945 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.959 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.977 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 97f24e72 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":46} {"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.988 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":46.1121,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:41.998 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 96.3351ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000041","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.326 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.343 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 20d38044 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.352 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.365 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.379 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.394 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 20d38044 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":51} {"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.404 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":51.0017,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.411 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 85.7545ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000043","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.569 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=-FD3wOsGMuf6A3QPnaRaBw - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.587 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 22fedc14 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=-FD3wOsGMuf6A3QPnaRaBw","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.597 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.611 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.624 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.639 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.651 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.666 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/WYLA6CWV, [{"type":"server","prerenderId":"27048526f5e74013a15cb2933a5857ab","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOiBRoYanTD7YkASJrr+xfF6F/LpqmpUyOsnHI/4Wqlvmj02s1F6uaZ2AjNwSvHXga7I67mGVV7g4TqE+UAGzX9+BBkDqmhwdV1ym9nOGRmPnm7FVUhzR0tObQ8sG+Gz8fcST8AxhrXyNJEifbkbZQzLiseYH0q3brKLV28jhwEa+urSjwAOuOm4xlC2hBDmupTW0Zmv+xQbatuUrs4EhbLDY/xn1wv8tyyNZp4rXF9x4ylpvgesJr4/MGqBUQJwMfiZH2IlnM9A4KPKx48rsVvem+PrxONFQjZ5vDjZ3VYkFzzuMw3X/Yq90jd000EEJuGnE1V8YZSEwDuJYoss9kM8OPtaUlS/DBUVqhEwwIlGKjbbiA9JXymS6F8qAPpIYwqGDsP3Q8GbruxxBVn/eaPUr28cCCKU+IWfgrYYKh36sqmKQY021WxH9WH1R+YJxTCidhlJeHKkg2EMSL7IqR6lB/369tduTFQUQ/EUHY6rw==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.684 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] UserLanding OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.692 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Loading session info for token: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.699 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Calling session validation API for token: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.708 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:42.723 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:42.737 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.738 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.745 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616827378241 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.761 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b692735c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.774 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.795 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.797 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.806 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.828 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616827378241 - 200 1769400 image/png 82.4642ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000047","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:42.833 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.871 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f769341c] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.880 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.890 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.900 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.911 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.927 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.938 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.954 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.965 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.981 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:42.993 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.007 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.024 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.034 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Token validation successful - Session 10226, Access #2, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.047 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.060 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.077 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc788678] Access count updated to 2 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.088 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.109 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f769341c] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.120 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f769341c] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.129 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.150 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 278.6336ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.150 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 412.8298ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:43.170 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.178 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 470.1772ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:43.196 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b692735c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":434} {"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.211 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":434.857,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.218 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 481.0636ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:54:43.219 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Session validation API response: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.239 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":2,"lastAccessedAt":"2025-09-19T10:54:43.0582726Z"},"requestId":"f769341c"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.247 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.254 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [816331c2] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.264 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.265 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616832626415 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.296 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:43.310 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616832626415 - 200 1769400 image/png 45.0264ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000049","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.123 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":974,"screenY":1079,"clientX":974,"clientY":956,"offsetX":43,"offsetY":7,"pageX":974,"pageY":956,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.143 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] HandleTokenValidation - Validating token: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.155 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:44.176 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:44.199 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.200 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.202 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616841965804 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.242 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 50a0427c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.264 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.268 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.285 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616841965804 - 200 1769400 image/png 82.9478ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000004B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.291 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.328 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5d1e37c5] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.339 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.348 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.359 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.372 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.387 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.397 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.412 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.423 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.438 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.448 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.462 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.478 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.488 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Token validation successful - Session 10226, Access #3, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.498 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.511 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.527 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [8be15e26] Access count updated to 3 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.539 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.555 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5d1e37c5] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.564 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [5d1e37c5] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.575 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.593 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 265.4811ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.593 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 398.6266ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:44.614 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.623 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 468.1266ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:54:44.642 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 50a0427c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":399} {"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.658 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":399.5038,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.665 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 464.4948ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.665 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Token validation API response: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.687 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Token validation response: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":3,"lastAccessedAt":"2025-09-19T10:54:44.5100742Z"},"requestId":"5d1e37c5"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.695 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Token validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.704 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Updated session name to: The Story Of Adam (ZAHIR), description to: Paraphrased Version of the original story {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.712 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Successfully switched to registration panel {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.719 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [63c61328] Loading countries dropdown after token validation... {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.729 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [e368a3a5] Loading countries from API... {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.739 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:54:44.735 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616847280947 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.735 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.779 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:54:44.796 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.813 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.819 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616847280947 - 200 1769400 image/png 84.2632ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000004D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:44.839 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: eac10755 | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=WYLA6CWV","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.854 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.869 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.885 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: WYLA6CWV... {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.904 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.920 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.929 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.945 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 60.6814ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.945 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 131.5179ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:54:44.963 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:44.972 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 232.3841ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:54:44.990 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: eac10755 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":151} {"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:45.006 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":151.2095,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:45.012 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - 200 null application/json; charset=utf-8 198.6807ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000002","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:45.014 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [e368a3a5] Loaded 239 countries successfully {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.044 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616850329355 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.051 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.077 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.080 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.087 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616850344147 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.107 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.112 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616850329355 - 200 1769400 image/png 67.5958ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000004F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.131 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.160 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616850344147 - 200 1769400 image/png 72.946ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000051","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.669 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.693 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.695 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616856908871 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.735 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:45.749 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616856908871 - 200 1769400 image/png 53.7725ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000053","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.348 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 3, , DispatchEventAsync, 1, [{"eventHandlerId":21,"eventName":"change","eventFieldInfo":{"componentId":11,"fieldValue":"Asif"}},{"value":"Asif"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.369 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 4, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"focus","eventFieldInfo":{"componentId":12,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.374 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616873686945 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.396 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.400 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616873964374 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.408 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.441 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.469 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616873686945 - 499 1769400 image/png 95.2758ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000055","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.469 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:47.511 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616873964374 - 200 1769400 image/png 111.1709ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000057","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.376 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 5, , DispatchEventAsync, 1, [{"eventHandlerId":28,"eventName":"change","eventFieldInfo":{"componentId":12,"fieldValue":"a@b.com"}},{"value":"a@b.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.394 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 6, , DispatchEventAsync, 1, [{"eventHandlerId":10,"eventName":"focus","eventFieldInfo":{"componentId":13,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.431 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.470 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616944127701 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.473 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.554 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:54.572 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616944127701 - 200 1769400 image/png 101.2765ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000059","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:58.127 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 7, , DispatchEventAsync, 1, [{"eventHandlerId":35,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"US"}},{"value":"US"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:58.146 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:58.150 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616981449563 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:58.196 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:58.212 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616981449563 - 200 1769400 image/png 62.1766ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000005B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.798 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 8, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":978,"screenY":1195,"clientX":978,"clientY":1072,"offsetX":93,"offsetY":14,"pageX":978,"pageY":1072,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.817 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [bf26568d] Starting participant registration for Asif {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.827 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [bf26568d] Sending registration to API - Name: Asif, Country: US {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.837 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:54:59.862 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:54:59.881 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - application/json; charset=utf-8 null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:59.884 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.887 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616998810946 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.915 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fb801a9a | Data: {"Method":"POST","Path":{"Value":"/api/participant/register-with-token","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":"application/json; charset=utf-8","ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:59.939 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:59.940 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:54:59.965 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "RegisterParticipantWithToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterParticipantWithToken(NoorCanvas.Controllers.TokenBasedRegistrationRequest) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:54:59.969 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938616998810946 - 200 1769400 image/png 82.8022ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000005D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.002 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [835cfa2b] Token-based registration for Asif {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.013 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Starting token validation {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.024 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Token: WYLA6CWV, IsHost: false {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.036 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Querying database for token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.047 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.064 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Total tokens in database: 72 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.077 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.093 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Active non-expired tokens: 41 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.104 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.120 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Tokens matching 'WYLA6CWV': 1 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.130 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.147 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.166 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Final query result: Found valid token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.177 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Token validation successful - Session 10226, Access #4, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.189 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.205 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.222 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9ef020aa] Access count updated to 4 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.312 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [canvas].[Users] ([UserId], [Country], [CreatedAt], [FirstJoinedAt], [IsActive], [LastJoinedAt], [LastSeenAt], [ModifiedAt], [Name], [UserGuid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [canvas].[Registrations] ([JoinTime], [SessionId], [UserId])
OUTPUT INSERTED.[RegistrationId]
VALUES (@p10, @p11, @p12); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.342 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [835cfa2b] Registration successful - Name: Asif, UserId: "e63de7c7-8f5e-4d1d-874a-aecdd9063a34", SessionId: 10226 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.353 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.368 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas) in 374.0149ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.368 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 488.8308ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:00.392 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.403 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 565.9096ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:00.424 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fb801a9a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":508} {"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.441 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/api/participant/register-with-token | Data: {"DurationMs":508.7206,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.449 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - 200 null application/json; charset=utf-8 567.8845ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000003","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:00.449 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [bf26568d] Registration successful - proceeding to waiting room {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.481 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/WYLA6CWV, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.505 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] SessionWaiting OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.507 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617004798796 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.527 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] Loading session data for token: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.548 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:00.650 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.727 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:00.760 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.773 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:00.806 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617007597984 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.810 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617004798796 - 200 1769400 image/png 302.3835ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000005F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.851 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.858 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: af53cc5e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:00.878 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.909 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.913 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:00.920 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617007597984 - 200 1769400 image/png 113.3719ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000061","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.947 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:00.953 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:00.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [dfb6323b] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.007 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.023 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.037 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.053 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.074 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.087 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.109 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.123 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.143 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.155 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.171 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.191 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.202 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Token validation successful - Session 10226, Access #5, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.213 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.225 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.242 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [66f87bb4] Access count updated to 5 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.255 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.273 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [dfb6323b] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.284 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [dfb6323b] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.297 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.324 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 329.769ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.324 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 570.0855ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:01.348 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.359 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 810.6435ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:01.384 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: af53cc5e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":526} {"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.405 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":526.484,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.418 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 644.9502ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:01.418 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] Session validation API response: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.461 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.477 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [97ddb845] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.479 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.482 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617014735641 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.495 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [97ddb845] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.527 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:01.538 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.562 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:01.568 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617014735641 - 200 1769400 image/png 86.1412ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000063","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:01.587 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.647 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ab04b334 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.655 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.670 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.698 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ddab0c68] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.725 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.741 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.761 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.779 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.793 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.808 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.829 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.847 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.875 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.912 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.926 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.941 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.959 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.971 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Token validation successful - Session 10226, Access #6, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.981 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:01.994 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.013 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e341a9a5] Access count updated to 6 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.023 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.031 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.048 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.068 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.079 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.099 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.116 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.126 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ddab0c68] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.141 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ddab0c68] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.151 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.171 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 482.4127ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.172 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 585.5936ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:02.193 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.202 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 674.2866ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:02.224 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ab04b334 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":576} {"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.241 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":576.6948,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.248 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 661.4247ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:02.249 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [97ddb845] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.272 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"ddab0c68"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.289 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [97ddb845] Loaded 1 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.299 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.302 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617022970190 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.305 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617022973705 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.324 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.329 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.370 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.372 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617022970190 - 499 1769400 image/png 70.5689ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000065","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:02.402 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617022973705 - 200 1769400 image/png 97.0626ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000067","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.820 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/session/waiting/WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.837 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: bef577c1 | Data: {"Method":"GET","Path":{"Value":"/session/waiting/WYLA6CWV","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.848 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.863 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.883 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.902 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.940 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] SessionWaiting OnInitialized - SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.958 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] Loading session data for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:07.970 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:07.987 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:08.003 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.014 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 82345e64 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.022 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.031 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.046 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [96d391ca] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.055 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.065 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.076 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.087 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.103 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.113 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.129 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.139 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.154 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.164 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.178 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.194 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.204 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Token validation successful - Session 10226, Access #7, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.215 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.227 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.245 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4075ae83] Access count updated to 7 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.258 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.274 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [96d391ca] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.286 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [96d391ca] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.296 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.318 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 271.6614ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.318 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 315.0315ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:08.339 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.348 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 377.7368ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:08.371 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 82345e64 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":356} {"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.388 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":356.3862,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.394 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 391.342ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:08.395 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] Session validation API response: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.418 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.427 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bfc51f2a] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.436 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bfc51f2a] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.445 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:08.462 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:08.479 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.493 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d5889b2b | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.501 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.512 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.530 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d844372b] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.542 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.553 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.562 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.573 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.585 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.595 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.613 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.627 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.645 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.657 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.673 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.684 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.697 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.713 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.724 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Token validation successful - Session 10226, Access #8, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.736 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.747 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.765 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [19b5af22] Access count updated to 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.776 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.786 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.795 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.812 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.821 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.830 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.858 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d844372b] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.869 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d844372b] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.878 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.894 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 364.3436ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.894 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 415.8387ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:08.914 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.924 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 478.8708ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:08.943 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d5889b2b | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":450} {"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.959 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":450.0964,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.967 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 487.8937ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:08.967 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bfc51f2a] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.990 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"d844372b"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:08.999 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bfc51f2a] Loaded 1 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.009 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1128.1676ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.031 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.047 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: bef577c1 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1210} {"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.064 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/session/waiting/WYLA6CWV | Data: {"DurationMs":1210.1223,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.077 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617090092054 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.094 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/session/waiting/WYLA6CWV - 200 null text/html; charset=utf-8 1274.1047ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.104 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.127 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.162 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e01b1489 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.168 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617090092054 - 200 1769400 image/png 90.6223ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000006B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.187 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.206 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.219 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.237 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e01b1489 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":74} {"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.253 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":74.8888,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.264 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 160.3393ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000006D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.319 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.336 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0f592610 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.345 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.360 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.373 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0f592610 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":37} {"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.382 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":37.5807,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.391 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 71.2654ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000006F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.464 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.477 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 93c9af0e | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.487 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.497 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.509 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.522 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 93c9af0e | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":45} {"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.530 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":45.029,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.538 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 74.4533ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000071","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.882 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=9Vlu3tGCxlGXb7Vp3u5DrA - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.900 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6c351aaa | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=9Vlu3tGCxlGXb7Vp3u5DrA","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.913 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.928 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.945 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.961 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.973 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:09.992 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/session/waiting/WYLA6CWV, [{"type":"server","prerenderId":"2056e219d1314a45a37c41819cb1d265","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbMqVVEt4j1WHaWstzW0DCXbym1AJc4T2Pt9V6mI+ae4w71OclTjIN7SYctI1oJ9tVWeJ0HaBQZjxsI+D4ohlTvQYHEu6dZvOm7ZX3QQbaPhbbYyZwtxyBqLCLX1Rw3QduhHwGDe9UgA74p3IxM6wiomtXhkNwbFYGnxy5msrgKawHVponw02T6MX06ihKvfmbMQzGzpt4UuCbJcW+9NXe3QCybpK4XwEZGIvpRmDcPDPpJwbJgHHA2/ZdLSL9XiDMOeWCSvIH79g1+QpohYiG82ZZHxP2YxX+MBbcRuGBMpmfa/s+menb7ZUekBc70sOS0A+EgpaZ0MJLb72Yhg6gn+0c1cEU80l2GRd4Mta5ikrLynlYMLGRr7Q+gq7eYDGeIxCpkgEur52ewzUlEXmQEA2Io22k/TxGuAFSsedrrGxwnP0OLq7QZ/QSbCfWexOEbeSndEbilIcofbJ0mVIjz1mXIylnlnQbWttdM2c23Igg==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.011 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] SessionWaiting OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.019 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] Loading session data for token: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.028 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:10.045 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:10.063 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.063 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.069 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617100631330 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.093 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e0eff982 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.098 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.120 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.125 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.149 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617100631330 - 200 1769400 image/png 79.7388ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000075","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.141 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.164 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.199 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a1f7348] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.208 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.218 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.227 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.239 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.254 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.264 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.279 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.290 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.306 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.316 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.329 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.347 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.358 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Token validation successful - Session 10226, Access #9, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.369 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.379 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.396 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [863c98d4] Access count updated to 9 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.408 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.429 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a1f7348] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.441 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9a1f7348] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.450 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.468 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 269.7227ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.469 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 406.1662ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:10.487 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.495 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 467.0084ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:10.513 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e0eff982 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":420} {"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.529 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":420.7751,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.544 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 481.3839ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000010","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:10.544 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] Session validation API response: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.567 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.575 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [48dee07f] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.580 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.581 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617105753514 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.583 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [48dee07f] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.620 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:10.623 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.642 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:10.647 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617105753514 - 200 1769400 image/png 65.5358ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000077","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:10.671 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.689 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d784a7f9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.696 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.707 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.723 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [49530e01] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.732 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.741 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.749 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.760 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.770 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.781 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.796 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.808 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.824 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.834 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.849 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.860 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.873 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.889 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.900 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Token validation successful - Session 10226, Access #10, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:10.919 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.089 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.137 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [b2c21865] Access count updated to 10 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.146 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.154 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.163 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.178 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.188 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.197 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.215 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.226 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [49530e01] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.239 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [49530e01] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.249 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.267 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 544.3581ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.267 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 595.8857ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:11.287 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.296 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 675.6927ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:11.314 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d784a7f9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":625} {"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.330 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":625.2996,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.338 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 667.0337ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:11.338 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [48dee07f] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.361 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"49530e01"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.369 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [48dee07f] Loaded 1 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.379 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.384 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617113780849 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.407 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.425 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:11.450 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617113780849 - 200 1769400 image/png 65.7265ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000079","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.204 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.223 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 24d51fa2 | Data: {"Method":"GET","Path":{"Value":"/user/landing/TXZ25W6K","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.233 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.243 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.260 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.277 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.295 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] UserLanding OnInitialized - SessionToken: TXZ25W6K {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.307 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Loading session info for token: TXZ25W6K {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.320 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Calling session validation API for token: TXZ25W6K {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.328 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-19 06:55:19.343 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/TXZ25W6K/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-19 06:55:19.358 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.370 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1e609381 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/TXZ25W6K/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.376 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.386 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.400 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [858759a8] Session token validation request for token: TXZ25W6K from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.410 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.421 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Token: TXZ25W6K, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.431 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.443 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.461 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.473 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.489 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.499 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.516 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Tokens matching 'TXZ25W6K': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.526 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Match found - ID: 33, SessionId: 10222, Active: true, Expires: "2025-09-19T13:23:00.3411318", HostToken: F8KRMTYA, UserToken: TXZ25W6K {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.540 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.559 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.571 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Token validation successful - Session 10222, Access #139, Expires: "2025-09-19T13:23:00.3411318" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.581 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.594 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.614 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [80479367] Access count updated to 139 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.626 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.643 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [858759a8] Updated session info from KSESSIONS: Title='Introduction to the sessions', Description='I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?' for session 10222 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.653 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [858759a8] Successful participant token validation: TXZ25W6K → Session 10222 - 'Introduction to the sessions' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.663 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.681 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 280.5647ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.681 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 323.4697ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-19 06:55:19.701 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.711 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 382.3585ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/TXZ25W6K/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/TXZ25W6K/validate"]}
[2025-09-19 06:55:19.731 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1e609381 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":361} {"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.747 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/TXZ25W6K/validate | Data: {"DurationMs":361.4049,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.756 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/TXZ25W6K/validate - 200 null application/json; charset=utf-8 398.5241ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000011","RequestPath":"/api/participant/session/TXZ25W6K/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:19.756 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Session validation API response: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.779 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Session validation response content: {"valid":true,"sessionId":10222,"token":"TXZ25W6K","expiresAt":"2025-09-19T13:23:00.3411318","session":{"sessionId":10222,"title":"Introduction to the sessions","description":"I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech?","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T10:00:00","createdAt":"2025-09-15T18:28:10.7035907"},"participant":{"joinUrl":"/session/TXZ25W6K","accessCount":139,"lastAccessedAt":"2025-09-19T10:55:19.5932019Z"},"requestId":"858759a8"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.791 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Session validation successful - SessionID: 10222, Title: Introduction to the sessions {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.800 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [4ea0c0c7] Updated Model.SessionName to: Introduction to the sessions, SessionDescription to: I attempt to establish that the Quran cannot possibly be a scripted or premeditated speech because of the circumstances and the environment in which it was being revealed. Therefore, the only reasonable question about the Quran is if it is human speech or divine speech? {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.811 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 550.9666ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.827 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.828 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617198104976 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.828 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.855 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 24d51fa2 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":632} {"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.875 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1a0ec242 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.875 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.892 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/user/landing/TXZ25W6K | Data: {"DurationMs":632.2584,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.896 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.902 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617198104976 - 200 1769400 image/png 74.1112ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000007D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.924 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/TXZ25W6K - 200 null text/html; charset=utf-8 720.0628ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000007B","RequestPath":"/user/landing/TXZ25W6K","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.929 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.962 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.974 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1a0ec242 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":99} {"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.980 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":99.2726,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:19.987 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 159.1588ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000007F","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.015 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.027 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 00ab5205 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.034 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.045 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.058 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 00ab5205 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":31} {"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.066 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":31.5317,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.074 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 59.5419ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000081","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.091 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.106 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0265c43a | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.114 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.124 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.134 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.145 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0265c43a | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":39} {"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.153 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":39.3355,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:20.160 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 68.8608ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000083","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:31.489 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [023934db] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:31.497 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [023934db] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:31.506 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:31.523 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:31.539 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.555 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ce5dec6b | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.565 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.577 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.596 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [871a7654] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.605 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.613 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.623 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.633 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.643 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.653 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.668 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.678 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.695 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.706 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.731 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.744 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.762 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Token validation successful - Session 10226, Access #11, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.784 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.813 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.829 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c35b0154] Access count updated to 11 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.856 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.872 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.881 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.890 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.906 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.914 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [871a7654] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.924 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [871a7654] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.933 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.948 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 351.9345ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.948 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 408.9527ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:31.967 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:31.976 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 469.7254ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:31.995 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ce5dec6b | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":440} {"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:32.012 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":440.0433,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:32.021 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 481.2182ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:32.021 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [023934db] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.043 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [023934db] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"871a7654"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.051 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [023934db] Loaded 1 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.061 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.063 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617320601551 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.096 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:32.109 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617320601551 - 200 1769400 image/png 46.366ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000085","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.444 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.463 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 734ef72b | Data: {"Method":"GET","Path":{"Value":"/user/landing/WYLA6CWV","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.472 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.483 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.498 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.515 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.533 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] UserLanding OnInitialized - SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.544 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Loading session info for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.553 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Calling session validation API for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:35.561 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:35.576 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:35.593 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.605 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a56142fa | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.612 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.621 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.636 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0e33f5eb] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.645 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.655 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.665 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.675 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.691 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.702 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.717 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.727 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.746 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.759 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.773 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.791 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.802 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Token validation successful - Session 10226, Access #12, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.816 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.829 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.846 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [f6e89972] Access count updated to 12 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.857 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.872 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0e33f5eb] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.882 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0e33f5eb] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.892 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.910 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 273.8646ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.910 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 317.4193ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:35.928 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.937 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 376.3241ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:35.956 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a56142fa | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":351} {"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.971 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":351.0302,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.978 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 385.4183ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000012","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:35.978 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Session validation API response: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.000 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":12,"lastAccessedAt":"2025-09-19T10:55:35.828946Z"},"requestId":"0e33f5eb"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.009 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.019 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [bf83ee39] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.028 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 530.0919ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.035 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryBOnoVRA0tqhVg8lo 359 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.040 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.053 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.070 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 911f0f53 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundaryBOnoVRA0tqhVg8lo","ContentLength":359} {"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.079 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617360275085 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.085 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.097 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.117 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 734ef72b | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":653} {"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.145 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.172 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7f442ee9 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.174 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.179 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6c351aaa | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":26279} {"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.193 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/user/landing/WYLA6CWV | Data: {"DurationMs":653.8209,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.248 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617360275085 - 200 1769400 image/png 168.8648ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000008B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.226 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.241 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - 200 null text/html; charset=utf-8 796.9226ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000087","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.273 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.305 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.314 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":26279.1216,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.324 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 911f0f53 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":253} {"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.333 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.340 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=9Vlu3tGCxlGXb7Vp3u5DrA - 200 null null 26458.2176ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.348 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":253.7745,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.360 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.379 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 344.0184ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000089","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.384 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7f442ee9 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":212} {"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.405 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":212.6822,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.411 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 325.7748ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000008D","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.455 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.469 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fff6109c | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.477 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.488 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.501 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fff6109c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":31} {"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.509 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":31.8724,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.519 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 63.9794ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000008F","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.566 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.579 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b32b88df | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.589 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.603 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.612 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.624 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b32b88df | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":44} {"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.631 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":44.8893,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.639 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 72.708ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000091","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.870 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=TGqqbSHU4rIGvbwei3V87g - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.893 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 09f8280b | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=TGqqbSHU4rIGvbwei3V87g","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.905 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.919 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.931 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.943 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.956 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.970 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/WYLA6CWV, [{"type":"server","prerenderId":"49658424b958484995cd9647d584fcfb","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbOVusbDKTna34qWP7tzMH6STnP1RW9y2hkI36d1RakUa/s+ne29qn6ZKcvasLr1sVZLqmPHd/FSLTdfnui40F0GdDjcMhCJOYYnN0RAWw8gx9yH2Xsv/h0/PL/EPA6mHY/Phuyu7EElR/xoCvOkVrEzyNbMpcp99E0M0wmzFTY0hlm2DnvOHLLfQXxnFtcjVVGKDEVDdItiEre+AKe6dRSEFshSCjk0KJXu8+/9Af1rflUvs7Ps1fTkx48ISwEuAv4ZOPzXSZXkZq8PqSv561emwjFsSuN1EZe5ehOBNZ1VsEvE2mAZcQPpHn3Bsk9NkESOdjmytA6MblVgZ8sJIqugR7Kvn+M2ptBc8ah/HRd7DaI4F0WnZq+PX239KC07Hv7/aSZBty/6AaR91hGbch3tIzxfQXARveI18xR/y2wSnOJ38N9O40R1SZ/p9rikpiB2tPoDuGRVVewQwgwbk9R8XiwYh6InuAnLRCaUsOw2WQ==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.987 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] UserLanding OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:36.994 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Loading session info for token: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.002 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Calling session validation API for token: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.009 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.025 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.040 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.045 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617370399629 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.075 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 374ed909 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.082 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.102 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.115 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.130 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.140 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617370399629 - 200 1769400 image/png 95.0712ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000095","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.154 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.195 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c8a749d2] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.205 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.214 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.225 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.236 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.251 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.261 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.276 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.285 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.301 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.310 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.323 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.340 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.349 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Token validation successful - Session 10226, Access #13, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.360 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.372 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.390 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [e1e69701] Access count updated to 13 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.403 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.421 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c8a749d2] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.431 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c8a749d2] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.442 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.461 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 266.4855ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.461 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 421.8014ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.481 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.489 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 479.6242ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.509 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 374ed909 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":434} {"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.527 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":434.0655,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.534 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 494.1902ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000013","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:37.534 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Session validation API response: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.554 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":13,"lastAccessedAt":"2025-09-19T10:55:37.3711716Z"},"requestId":"c8a749d2"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.562 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.570 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [cd90a20b] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.578 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.580 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617375777201 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.616 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617375777201 - 200 1769400 image/png 47.2448ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000097","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.938 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":937,"screenY":1076,"clientX":937,"clientY":953,"offsetX":6,"offsetY":4,"pageX":937,"pageY":953,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.954 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] HandleTokenValidation - Validating token: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.964 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.981 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:37.995 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:37.997 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:37.998 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617379953920 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.088 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e7771ed2 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.236 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.245 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.276 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617379953920 - 200 1769400 image/png 277.6274ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:00000099","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.259 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.344 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d23edcb4] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.360 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.379 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.394 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.408 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.427 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.429 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c51ac1d7] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.446 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.453 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c51ac1d7] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.477 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.483 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:38.514 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:38.506 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.546 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.555 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.577 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 79184e3d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.583 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.600 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.607 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.625 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.635 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.657 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [533b16a1] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.661 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Token validation successful - Session 10226, Access #14, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.676 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.683 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.696 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.704 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.720 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.727 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5ebee693] Access count updated to 14 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.741 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.747 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.764 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.777 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d23edcb4] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.782 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.798 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d23edcb4] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.806 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.821 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.826 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.852 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 508.4155ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.852 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 857.6847ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:38.859 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.884 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.892 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 927.7708ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:38.899 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.924 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e7771ed2 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":836} {"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.940 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.952 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":836.6176,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.957 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:38.971 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 976.4064ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000008","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:38.972 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Token validation API response: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:38.978 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.005 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Token validation response: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":14,"lastAccessedAt":"2025-09-19T10:55:38.7032515Z"},"requestId":"d23edcb4"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.013 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.026 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Token validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.032 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Token validation successful - Session 10226, Access #15, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.044 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Updated session name to: The Story Of Adam (ZAHIR), description to: Paraphrased Version of the original story {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.050 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.063 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Successfully switched to registration panel {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.070 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.085 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [7adcb0cd] Loading countries dropdown after token validation... {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.093 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [045d79f9] Access count updated to 15 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.107 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [4f9e4815] Loading countries from API... {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.111 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.112 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617391067255 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.112 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.156 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.138 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:55:39.160 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.180 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.187 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:55:39.192 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617391067255 - 200 1769400 image/png 80.5462ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000009B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.226 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.234 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.255 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.260 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 13aef840 | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=WYLA6CWV","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.273 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.276 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.296 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.302 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.318 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [533b16a1] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.325 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: WYLA6CWV... {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.341 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [533b16a1] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.350 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.363 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.371 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.391 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 734.5518ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.391 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 848.1969ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:39.396 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.423 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.432 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 948.9287ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:39.438 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 204.7499ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:55:39.439 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 114.0619ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.470 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 79184e3d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":893} {"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.487 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 349.1366ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:55:39.493 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.514 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":893.6041,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.525 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 13aef840 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":264} {"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.538 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 991.7439ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVS:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVS"}
[2025-09-19 06:55:39.538 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c51ac1d7] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.557 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":264.9781,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.569 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c51ac1d7] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"533b16a1"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.581 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - 200 null application/json; charset=utf-8 347.202ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:00000009","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:39.583 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [4f9e4815] Loaded 239 countries successfully {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.587 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c51ac1d7] Loaded 1 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.628 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617396169661 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.635 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.661 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.668 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.673 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617396176402 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.687 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.699 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617396169661 - 200 1769400 image/png 71.0795ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000009D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.722 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:39.747 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617396176402 - 200 1769400 image/png 74.2512ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:0000009F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.243 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.265 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.268 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617402638448 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.309 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.321 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617402638448 - 200 1769400 image/png 52.3384ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000A1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.575 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2c2f6ee5] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.585 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2c2f6ee5] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:40.594 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:40.611 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:40.627 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.642 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fe553977 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.651 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.660 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.677 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4c07eeb0] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.689 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.699 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.710 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.721 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.732 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.744 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.760 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.771 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.787 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.797 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.825 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.839 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.856 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.868 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Token validation successful - Session 10226, Access #16, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.880 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.893 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.910 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b73081e] Access count updated to 16 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.921 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.929 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.940 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.957 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.965 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.975 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:40.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Found 1 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.004 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [4c07eeb0] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.015 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [4c07eeb0] Found 1 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.024 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.039 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 362.601ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.040 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 412.6225ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:41.059 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.068 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 473.5654ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:41.087 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fe553977 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":444} {"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.103 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":444.4282,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.110 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 482.5055ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:41.110 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [2c2f6ee5] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.130 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2c2f6ee5] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":1,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"}],"requestId":"4c07eeb0"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.139 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [2c2f6ee5] Loaded 1 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.835 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 3, , DispatchEventAsync, 1, [{"eventHandlerId":21,"eventName":"change","eventFieldInfo":{"componentId":11,"fieldValue":"Ishrat"}},{"value":"Ishrat"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.853 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 4, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"focus","eventFieldInfo":{"componentId":12,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.857 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617418536450 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.879 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.884 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617418789870 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.892 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.920 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.948 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617418536450 - 499 1769400 image/png 91.5488ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000A3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:41.951 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:42.002 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617418789870 - 200 1769400 image/png 117.1818ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000A5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.061 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 5, , DispatchEventAsync, 1, [{"eventHandlerId":28,"eventName":"change","eventFieldInfo":{"componentId":12,"fieldValue":"i@b.com"}},{"value":"i@b.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.078 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 6, , DispatchEventAsync, 1, [{"eventHandlerId":10,"eventName":"focus","eventFieldInfo":{"componentId":13,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.081 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617470776902 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.104 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.108 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617471040677 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.115 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.146 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.163 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617470776902 - 499 1769400 image/png 82.125ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000A7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.170 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:47.214 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617471040677 - 200 1769400 image/png 105.4852ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000A9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:51.968 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 7, , DispatchEventAsync, 1, [{"eventHandlerId":35,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"GB"}},{"value":"GB"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:51.987 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:51.990 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617519859785 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:52.039 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:52.057 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617519859785 - 200 1769400 image/png 67.5175ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000AB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.269 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 8, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":993,"screenY":1204,"clientX":993,"clientY":1081,"offsetX":108,"offsetY":23,"pageX":993,"pageY":1081,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.284 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [7489c410] Starting participant registration for Ishrat {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.292 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [7489c410] Sending registration to API - Name: Ishrat, Country: GB {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.302 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:53.319 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:53.340 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - application/json; charset=utf-8 null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.342 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.344 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617533402659 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.377 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b79c5949 | Data: {"Method":"POST","Path":{"Value":"/api/participant/register-with-token","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":"application/json; charset=utf-8","ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.403 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.403 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.422 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "RegisterParticipantWithToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterParticipantWithToken(NoorCanvas.Controllers.TokenBasedRegistrationRequest) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.428 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617533402659 - 200 1769400 image/png 83.8485ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000AD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.466 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [3462c410] Token-based registration for Ishrat {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.483 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Starting token validation {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.493 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Token: WYLA6CWV, IsHost: false {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.504 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Querying database for token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.516 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.533 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Total tokens in database: 72 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.543 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.559 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Active non-expired tokens: 41 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.570 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.587 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Tokens matching 'WYLA6CWV': 1 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.597 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.611 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.629 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Final query result: Found valid token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.639 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Token validation successful - Session 10226, Access #17, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.651 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.662 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.679 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7f1f3514] Access count updated to 17 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.692 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [canvas].[Users] ([UserId], [Country], [CreatedAt], [FirstJoinedAt], [IsActive], [LastJoinedAt], [LastSeenAt], [ModifiedAt], [Name], [UserGuid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [canvas].[Registrations] ([JoinTime], [SessionId], [UserId])
OUTPUT INSERTED.[RegistrationId]
VALUES (@p10, @p11, @p12); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.711 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [3462c410] Registration successful - Name: Ishrat, UserId: "c03bee1f-6c10-4b66-9aeb-7d127cabd756", SessionId: 10226 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.721 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.736 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas) in 271.2149ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.737 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 397.4326ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:53.756 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.765 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 463.625ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:55:53.784 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b79c5949 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":406} {"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.800 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/api/participant/register-with-token | Data: {"DurationMs":406.8316,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.807 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - 200 null application/json; charset=utf-8 467.6014ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:0000000B","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:53.808 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [7489c410] Registration successful - proceeding to waiting room {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.831 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/WYLA6CWV, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.849 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] SessionWaiting OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.858 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] Loading session data for token: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.860 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617538296523 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.878 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:53.901 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.908 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:53.928 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617538296523 - 200 1769400 image/png 68.2688ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000AF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.938 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:53.938 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.950 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617539385233 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000B1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:53.993 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: ceed56a0 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:53.999 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.018 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000B1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.026 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.039 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.050 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617539385233 - 200 1769400 image/png 100.3278ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000B1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.062 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.076 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.114 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f012757] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.124 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.134 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.143 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.154 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.168 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.178 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.194 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.205 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.220 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.230 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.243 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.260 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.271 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Token validation successful - Session 10226, Access #18, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.283 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.295 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.313 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [79c511b5] Access count updated to 18 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.325 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.342 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f012757] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.353 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9f012757] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.365 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.384 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 269.9546ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.384 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 446.3287ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:54.404 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.411 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 532.9318ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:55:54.431 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: ceed56a0 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":437} {"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.447 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":437.6318,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.455 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 517.2777ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVQ:00000014","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVQ"}
[2025-09-19 06:55:54.456 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] Session validation API response: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.477 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.486 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0ec1ba09] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.490 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.492 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617544865887 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000B3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.494 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0ec1ba09] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.529 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:54.542 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000B3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.550 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:54.567 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617544865887 - 200 1769400 image/png 75.6652ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000B3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:54.575 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.602 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: da506823 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.612 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.623 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.639 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [792c097b] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.647 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.656 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.664 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.675 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.686 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.695 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.711 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.722 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.737 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.747 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.762 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.787 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.803 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Token validation successful - Session 10226, Access #19, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.824 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.837 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.854 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4b482781] Access count updated to 19 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.863 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.872 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.897 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.916 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.924 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.934 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.949 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Found 2 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.957 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.967 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [792c097b] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.977 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [792c097b] Found 2 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:54.986 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.001 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 362.5072ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.001 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 426.4651ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:55.019 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.026 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 497.199ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:55:55.044 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: da506823 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":441} {"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.059 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":441.8499,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.067 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 491.674ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVR:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVR"}
[2025-09-19 06:55:55.067 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0ec1ba09] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.086 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":2,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"}],"requestId":"792c097b"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.094 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0ec1ba09] Loaded 2 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.105 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.108 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617551025871 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000B5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.110 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617551027043 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000B7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.132 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.139 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000B5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.157 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000B7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.178 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617551025871 - 499 1769400 image/png 70.0775ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000B5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:55:55.185 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617551027043 - 200 1769400 image/png 74.3576ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000B7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:01.488 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a5f6efd8] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:01.497 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a5f6efd8] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:01.507 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:01.524 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:01.541 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.559 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6508701e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.569 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.583 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d6e5d16e] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.610 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.619 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.627 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.636 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.646 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.658 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.673 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.684 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.700 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.711 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.727 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.738 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.754 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.771 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.781 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Token validation successful - Session 10226, Access #20, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.793 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.807 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.822 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a5f04fb3] Access count updated to 20 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.831 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.851 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.866 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.875 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.887 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.903 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Found 2 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.911 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.921 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6e5d16e] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.931 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d6e5d16e] Found 2 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.940 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.955 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 354.4816ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.955 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 417.4405ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:01.974 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:01.982 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 475.7204ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:02.000 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6508701e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":441} {"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:02.015 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":441.7024,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:02.022 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 480.3939ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:02.022 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a5f6efd8] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.041 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a5f6efd8] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":2,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"}],"requestId":"d6e5d16e"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.049 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a5f6efd8] Loaded 2 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.059 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.061 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617620576434 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000B9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.095 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000B9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:02.109 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617620576434 - 200 1769400 image/png 47.2819ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000B9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:08.427 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e7d5150e] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:08.442 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e7d5150e] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:08.457 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:08.482 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:08.505 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.524 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 6526249e | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.535 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.549 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.569 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e3bd8f8e] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.578 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.589 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.599 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.611 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.623 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.634 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.650 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.664 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.690 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.703 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.736 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.752 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.770 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.782 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Token validation successful - Session 10226, Access #21, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.793 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.804 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.820 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [87ba30c1] Access count updated to 21 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.830 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.847 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.862 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.872 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.881 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.900 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Found 2 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.909 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.919 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e3bd8f8e] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.928 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e3bd8f8e] Found 2 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.938 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.953 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 383.9986ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.953 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 448.186ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:08.972 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:08.981 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 523.3805ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:08.999 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 6526249e | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":475} {"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:09.015 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":475.0976,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:09.022 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 516.2299ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:09.022 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e7d5150e] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:09.043 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e7d5150e] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":2,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"}],"requestId":"e3bd8f8e"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:09.052 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e7d5150e] Loaded 2 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:10.577 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a001564e] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:10.587 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a001564e] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:10.595 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:10.612 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:10.632 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.647 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: db0fdff7 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.656 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.668 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.682 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [fb9de365] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.690 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.700 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.707 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.717 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.727 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.737 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.752 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.762 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.777 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.788 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.804 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.817 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.831 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.847 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.857 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Token validation successful - Session 10226, Access #22, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.867 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.878 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.899 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c03ebf31] Access count updated to 22 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.911 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.919 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.928 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.943 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.952 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.960 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.976 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Found 2 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.985 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:10.995 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [fb9de365] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.006 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [fb9de365] Found 2 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.015 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.030 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 348.045ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.030 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 398.6473ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:11.049 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.057 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 462.5102ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:11.076 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: db0fdff7 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":428} {"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.092 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":428.6971,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.103 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 470.6464ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:11.103 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a001564e] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:11.118 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a001564e] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":2,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"}],"requestId":"fb9de365"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:11.133 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a001564e] Loaded 2 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.547 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.565 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f7274347 | Data: {"Method":"GET","Path":{"Value":"/user/landing/WYLA6CWV","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.574 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.586 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.603 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.618 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.639 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] UserLanding OnInitialized - SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.651 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Loading session info for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.664 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Calling session validation API for token: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:14.675 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:14.690 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:14.708 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.721 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c96793e8 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.728 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.738 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.754 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4c9b15f] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.762 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.794 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.810 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.821 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.837 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.847 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.863 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.874 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.887 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.903 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.914 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Token validation successful - Session 10226, Access #23, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.925 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.937 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.954 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [dac78928] Access count updated to 23 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.966 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.983 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4c9b15f] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:14.993 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f4c9b15f] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.004 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.022 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 268.3467ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.022 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 316.9434ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:15.041 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.050 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 374.9906ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:15.070 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c96793e8 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":349} {"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.087 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":349.0243,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.094 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 385.7241ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVU:00000001","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:15.094 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Session validation API response: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.117 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":23,"lastAccessedAt":"2025-09-19T10:56:14.9367947Z"},"requestId":"f4c9b15f"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.126 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.138 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [1245c892] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.147 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 544.2349ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.165 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.182 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f7274347 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":616} {"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.194 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/user/landing/WYLA6CWV | Data: {"DurationMs":616.8844,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.221 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617751468559 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000BD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.223 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.224 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/user/landing/WYLA6CWV - 200 null text/html; charset=utf-8 676.2377ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000BB","RequestPath":"/user/landing/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.261 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: b0f65a79 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.286 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000BD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.320 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.326 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617751468559 - 200 1769400 image/png 105.6498ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000BD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.351 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.383 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.408 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: b0f65a79 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":147} {"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.425 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":147.0593,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.438 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 214.4414ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000BF","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.482 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.498 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 696a11e8 | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.508 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.519 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.534 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 696a11e8 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":36} {"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.542 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":36.019,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.550 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 68.7322ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000C1","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.588 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.602 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1eb7df56 | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.609 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.623 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.635 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.650 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1eb7df56 | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":48} {"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.658 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":48.2022,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:15.666 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 78.6425ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000C3","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.105 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=0nKJzG5YYjOrNNHc3kFQiQ - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.119 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e3995e92 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=0nKJzG5YYjOrNNHc3kFQiQ","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.126 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.137 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.147 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.159 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.176 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.193 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/user/landing/WYLA6CWV, [{"type":"server","prerenderId":"a8397afe601043e1bb62d566bc46181e","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbO3w9slNJjr5wcNWBj+g+ng0Z1mkrHMaBwUGMaRCe4cFyr50e0PcHwnmua7h59NGuj2wFdMPcu6Y0LZ4WaKlIyHUA64pIP9UnbWQfYBqCv8Ois62mBxT7KzK53vGJzA+QxFgaFmtuEIAHrW14+S91Gw2oGdKtOGb5dfSH/jcaygF8lz5rVph1taDFsOVXmzoTaD5x0DbZOMOJ1aHpJobJUfatr0356jlZtzUTh6G/os8DTF9m2sCIzNgLm7B3/8wteBKZvt+1Ep4u+94EqwqG4wuiAydDfY3UAWqetyG9jiyrsKuBKYEyJSDJ34QDln3s4UryufAZM8bMoVFtED+K9QcHemBalXXe8pxTf5+vCMDRM+QAfY9rwfX1XBbfSgW8Fc0UXjj13Dn4E/E4nU3PjJQOKm9QfPzGDpW59f/Xm4luFBv9IUgrQyqcBxnv3EO8jIrkuhuQd5uScuhBmQtwnBmXyuuZbAguRFFvbAFz4ycQ==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.211 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] UserLanding OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.223 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Loading session info for token: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.235 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Calling session validation API for token: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.244 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:16.259 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:16.274 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.274 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.283 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617762746736 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000C7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.302 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 2244847d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.309 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.335 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000C7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.345 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.349 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.371 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617762746736 - 200 1769400 image/png 88.6579ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000C7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.385 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.415 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [34238113] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.423 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.434 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.444 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.454 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.469 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.479 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.494 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.505 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.521 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.531 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.544 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.560 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.571 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Token validation successful - Session 10226, Access #24, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.583 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.594 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.610 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d99c14f1] Access count updated to 24 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.624 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.641 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [34238113] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.651 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [34238113] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.660 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.678 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 263.303ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.678 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 403.9022ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:16.700 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.708 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 464.448ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:16.727 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 2244847d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":425} {"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.742 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":425.2684,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.750 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 475.8293ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVU:00000002","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:16.750 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Session validation API response: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.770 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Session validation response content: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":24,"lastAccessedAt":"2025-09-19T10:56:16.5935371Z"},"requestId":"34238113"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.777 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.785 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [f77bad69] Updated Model.SessionName to: The Story Of Adam (ZAHIR), SessionDescription to: Paraphrased Version of the original story {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.794 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.796 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617767930766 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000C9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.827 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000C9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:16.840 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617767930766 - 200 1769400 image/png 44.7186ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000C9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.015 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 1, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":994,"screenY":1082,"clientX":994,"clientY":959,"offsetX":279,"offsetY":22,"pageX":994,"pageY":959,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.032 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] HandleTokenValidation - Validating token: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.042 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:17.061 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:17.077 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.080 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.082 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617770773803 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000CB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.106 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c281f718 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.133 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.135 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000CB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.153 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617770773803 - 200 1769400 image/png 71.9377ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000CB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.159 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.200 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0a2704b3] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.210 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.220 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.231 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.241 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.257 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.268 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.283 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.293 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.311 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.324 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.336 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.352 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.363 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Token validation successful - Session 10226, Access #25, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.374 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.420 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (35ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.437 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [6d7919d3] Access count updated to 25 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.450 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.643 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0a2704b3] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.689 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0a2704b3] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.703 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.723 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 523.8961ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.724 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 647.024ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:17.745 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.756 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 713.7114ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:17.776 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c281f718 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":669} {"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.793 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":669.4914,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.801 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 724.477ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000004","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.802 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Token validation API response: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.822 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Token validation response: {"valid":true,"sessionId":10226,"token":"WYLA6CWV","expiresAt":"2025-09-20T10:54:28.3102417","session":{"sessionId":10226,"title":"The Story Of Adam (ZAHIR)","description":"Paraphrased Version of the original story","status":"Configured","participantCount":0,"maxParticipants":null,"startedAt":"2025-09-19T06:00:00","createdAt":"2025-09-19T10:42:30.3242538"},"participant":{"joinUrl":"/session/WYLA6CWV","accessCount":25,"lastAccessedAt":"2025-09-19T10:56:17.3852014Z"},"requestId":"0a2704b3"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.830 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Token validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.838 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Updated session name to: The Story Of Adam (ZAHIR), description to: Paraphrased Version of the original story {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.846 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Successfully switched to registration panel {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.853 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-DEBUG: [48a6f757] Loading countries dropdown after token validation... {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.860 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [80709237] Loading countries from API... {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.865 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.866 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617778602097 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000CD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.869 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:56:17.914 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/countries?guid=WYLA6CWV {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:56:17.922 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000CD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.936 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.941 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617778602097 - 200 1769400 image/png 74.8331ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000CD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:17.961 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 57e066df | Data: {"Method":"GET","Path":{"Value":"/api/host/countries","HasValue":true},"QueryString":"?guid=WYLA6CWV","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.977 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:17.988 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetCountries", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.003 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Loading countries from KSESSIONS database for host token: WYLA6CWV... {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.015 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CountryID, CountryName, ISO2, ISO3, CAST(ISNULL(IsActive, 0) AS BIT) AS IsActive FROM dbo.Countries ORDER BY CountryName {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.032 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-SUCCESS: Loaded 239 countries from KSESSIONS database {"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.041 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[NoorCanvas.Controllers.CountryData, NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"3747a211-3793-4ac4-865d-1b80ff260503","ActionName":"NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.055 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas) in 52.4529ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.055 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 119.1938ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:56:18.074 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetCountries (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.082 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 212.5983ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/countries?guid=WYLA6CWV","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/host/countries?guid=WYLA6CWV"]}
[2025-09-19 06:56:18.100 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 57e066df | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":139} {"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.116 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/countries | Data: {"DurationMs":139.1432,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.122 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/countries?guid=WYLA6CWV - 200 null application/json; charset=utf-8 185.7202ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000005","RequestPath":"/api/host/countries","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:18.122 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [80709237] Loaded 239 countries successfully {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.153 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617781423593 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000CF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.161 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.179 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000CF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.195 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.200 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617781428094 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000D1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.205 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617781423593 - 200 1769400 image/png 51.9714ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000CF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.232 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 8,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.250 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000D1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.272 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617781428094 - 200 1769400 image/png 71.9333ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000D1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.772 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 2, , DispatchEventAsync, 1, [{"eventHandlerId":6,"eventName":"focus","eventFieldInfo":{"componentId":11,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.792 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 9,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.794 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617787897868 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000D3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.836 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000D3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:18.857 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617787897868 - 200 1769400 image/png 63.3341ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000D3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.292 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 3, , DispatchEventAsync, 1, [{"eventHandlerId":21,"eventName":"change","eventFieldInfo":{"componentId":11,"fieldValue":"Ayaz"}},{"value":"Ayaz"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.312 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 4, , DispatchEventAsync, 1, [{"eventHandlerId":8,"eventName":"focus","eventFieldInfo":{"componentId":12,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.316 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617803125070 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000D5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.339 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 10,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.343 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617803386585 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000D7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.354 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000D5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.386 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 11,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.410 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000D7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.412 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617803125070 - 499 1769400 image/png 96.2341ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000D5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:20.446 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617803386585 - 200 1769400 image/png 102.941ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000D7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:24.492 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10a3439e] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:24.501 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10a3439e] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:24.509 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:24.525 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:24.543 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.560 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7373a9eb | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.571 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.584 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [af8f2dac] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.609 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.618 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.625 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.635 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.644 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.670 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.681 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.695 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.706 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.721 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.732 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.745 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.763 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Token validation successful - Session 10226, Access #26, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.787 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.799 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.817 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [92860e48] Access count updated to 26 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.827 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.835 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.844 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.861 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.870 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.881 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.898 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Found 2 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.908 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.921 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [af8f2dac] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.932 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [af8f2dac] Found 2 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.941 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.957 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 356.4925ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.957 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 414.9344ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:24.978 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:24.986 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 477.3591ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:25.007 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7373a9eb | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":447} {"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:25.022 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":447.1033,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:25.029 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 485.8288ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:25.029 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10a3439e] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.049 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [10a3439e] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":2,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"}],"requestId":"af8f2dac"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.057 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [10a3439e] Loaded 2 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.065 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.067 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617850648262 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000D9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.097 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000D9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.109 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617850648262 - 200 1769400 image/png 41.7234ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000D9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.259 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 5, , DispatchEventAsync, 1, [{"eventHandlerId":28,"eventName":"change","eventFieldInfo":{"componentId":12,"fieldValue":"b@c.com"}},{"value":"b@c.com"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.278 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 6, , DispatchEventAsync, 1, [{"eventHandlerId":10,"eventName":"focus","eventFieldInfo":{"componentId":13,"fieldValue":""}},{"type":"focus"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.282 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617852780596 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000DB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.302 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 12,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.315 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000DB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.308 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617853025696 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000DD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.329 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 13,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.354 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617852780596 - 499 1769400 image/png 72.0162ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000DB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.374 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000DD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:25.398 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617853025696 - 200 1769400 image/png 90.0005ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000DD","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.757 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 7, , DispatchEventAsync, 1, [{"eventHandlerId":35,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"AF"}},{"value":"AF"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.774 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 14,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.776 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617867732417 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000DF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.809 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000DF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.823 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617867732417 - 200 1769400 image/png 47.3327ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000DF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.875 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 8, , DispatchEventAsync, 1, [{"eventHandlerId":36,"eventName":"change","eventFieldInfo":{"componentId":13,"fieldValue":"AU"}},{"value":"AU"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.889 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 15,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.890 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617868882636 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000E1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.923 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000E1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:26.934 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617868882636 - 200 1769400 image/png 44.0342ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000E1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:28.932 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "BeginInvokeDotNetFromJS", Arguments: [ 9, , DispatchEventAsync, 1, [{"eventHandlerId":1,"eventName":"click","eventFieldInfo":null},{"detail":1,"screenX":1046,"screenY":1201,"clientX":1046,"clientY":1078,"offsetX":331,"offsetY":32,"pageX":1046,"pageY":1078,"movementX":0,"movementY":0,"button":0,"buttons":0,"ctrlKey":false,"shiftKey":false,"altKey":false,"metaKey":false,"type":"click"}] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:28.945 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [fdfb95a1] Starting participant registration for Ayaz {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:28.955 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [fdfb95a1] Sending registration to API - Name: Ayaz, Country: AU {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:28.965 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:56:28.987 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request POST https://localhost:9091/api/participant/register-with-token {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:56:29.010 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - application/json; charset=utf-8 null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.012 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 16,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.021 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617890103221 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000E3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.058 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 05c80509 | Data: {"Method":"POST","Path":{"Value":"/api/participant/register-with-token","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":"application/json; charset=utf-8","ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.093 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000E3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.100 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.121 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617890103221 - 200 1769400 image/png 99.3755ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000E3","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.126 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "RegisterParticipantWithToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterParticipantWithToken(NoorCanvas.Controllers.TokenBasedRegistrationRequest) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.165 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0719d738] Token-based registration for Ayaz {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.173 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Starting token validation {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.183 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Token: WYLA6CWV, IsHost: false {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.193 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Querying database for token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.204 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.219 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Total tokens in database: 72 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.228 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.244 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Active non-expired tokens: 41 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.255 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.271 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Tokens matching 'WYLA6CWV': 1 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.282 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.295 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.313 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Final query result: Found valid token {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.324 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Token validation successful - Session 10226, Access #27, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.336 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.349 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.367 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4107b1e9] Access count updated to 27 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.382 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 128), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int64), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [canvas].[Users] ([UserId], [Country], [CreatedAt], [FirstJoinedAt], [IsActive], [LastJoinedAt], [LastSeenAt], [ModifiedAt], [Name], [UserGuid])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [canvas].[Registrations] ([JoinTime], [SessionId], [UserId])
OUTPUT INSERTED.[RegistrationId]
VALUES (@p10, @p11, @p12); {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.401 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [0719d738] Registration successful - Name: Ayaz, UserId: "dbb4dc1a-99d9-4e2b-af24-329b327eed8b", SessionId: 10226 {"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.410 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType38`6[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"cfd636a3-c23c-4984-83f7-c963b084f552","ActionName":"NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.427 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas) in 261.909ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.427 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 417.245ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:56:29.447 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.RegisterParticipantWithToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.455 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 489.6339ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"POST","Uri":"https://localhost:9091/api/participant/register-with-token","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP POST https://localhost:9091/api/participant/register-with-token"]}
[2025-09-19 06:56:29.473 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 05c80509 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":414} {"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.488 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/api/participant/register-with-token | Data: {"DurationMs":414.6084,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.495 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 POST https://localhost:9091/api/participant/register-with-token - 200 null application/json; charset=utf-8 484.8333ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000007","RequestPath":"/api/participant/register-with-token","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:29.495 -04:00 INF] NoorCanvas.Pages.UserLanding NOOR-USER-LANDING: [fdfb95a1] Registration successful - proceeding to waiting room {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.520 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnLocationChanged", Arguments: [ https://localhost:9091/session/waiting/WYLA6CWV, , False ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.536 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] SessionWaiting OnInitialized - SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.546 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] Loading session data for token: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.549 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617895188108 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000E5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.575 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:29.595 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000E5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.610 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:29.617 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617895188108 - 200 1769400 image/png 68.0125ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000E5","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.642 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.642 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 4, True, [4,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.679 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a7f76259 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/validate","HasValue":true},"QueryString":"","UserAgent":"","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.670 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617896423916 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000E7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.691 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 17,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.702 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.729 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateSessionToken", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateSessionToken(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.729 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000E7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.753 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 18,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.760 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c64dda03] Session token validation request for token: WYLA6CWV from ::1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.767 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617896423916 - 200 1769400 image/png 96.2031ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000E7","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.796 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Starting token validation {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.791 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 19,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:29.821 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Token: WYLA6CWV, IsHost: false {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.838 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Querying database for token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.851 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.869 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Total tokens in database: 72 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.882 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.906 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Active non-expired tokens: 41 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.921 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.937 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Tokens matching 'WYLA6CWV': 1 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.948 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.961 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.977 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Final query result: Found valid token {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.988 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Token validation successful - Session 10226, Access #28, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:29.999 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.009 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.026 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [302ddc43] Access count updated to 28 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.038 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.053 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c64dda03] Updated session info from KSESSIONS: Title='The Story Of Adam (ZAHIR)', Description='Paraphrased Version of the original story' for session 10226 {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.064 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c64dda03] Successful participant token validation: WYLA6CWV → Session 10226 - 'The Story Of Adam (ZAHIR)' {"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.074 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType34`7[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType35`8[[System.Nullable`1[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType36`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6a1d785f-bfc4-4fa9-92f7-57e9d7412761","ActionName":"NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)","RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.092 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas) in 332.0036ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.092 -04:00 INF] System.Net.Http.HttpClient.Default.ClientHandler Received HTTP response headers after 450.8636ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:30.113 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.ValidateSessionToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.121 -04:00 INF] System.Net.Http.HttpClient.Default.LogicalHandler End processing HTTP request after 546.5262ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/validate","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/validate"]}
[2025-09-19 06:56:30.140 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a7f76259 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":461} {"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.155 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/validate | Data: {"DurationMs":461.0773,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.163 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/validate - 200 null application/json; charset=utf-8 520.6557ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVU:00000003","RequestPath":"/api/participant/session/WYLA6CWV/validate","ConnectionId":"0HNFNDBC4SOVU"}
[2025-09-19 06:56:30.163 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] Session validation API response: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.184 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] Session validation successful - SessionID: 10226, Title: The Story Of Adam (ZAHIR) {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.192 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0c3babdd] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.196 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 20,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.198 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617901921363 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000E9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.200 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0c3babdd] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.236 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:30.242 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000E9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.259 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:30.265 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617901921363 - 200 1769400 image/png 66.7885ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000E9","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.287 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.306 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1fae09ed | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.313 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.322 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.337 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e5d79759] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.345 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.354 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.362 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.372 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.382 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.392 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.408 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.419 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.436 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.448 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.465 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.476 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.491 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.508 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.520 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Token validation successful - Session 10226, Access #29, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.534 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.548 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.565 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [fb1e1a32] Access count updated to 29 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.576 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.584 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.594 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.611 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.621 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.631 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.646 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.655 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.665 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.674 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [e5d79759] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.684 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [e5d79759] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.692 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.707 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 370.8825ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.707 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 420.7123ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:30.726 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.735 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 498.666ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:30.753 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1fae09ed | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":447} {"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.768 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":447.2717,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.774 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 487.3138ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000008","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:30.775 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [0c3babdd] API response status: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.794 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"e5d79759"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.802 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [0c3babdd] Loaded 3 participants from API {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.813 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 21,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.814 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617908096373 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000EB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.819 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617908097512 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000ED","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.840 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 22,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.846 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000EB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.866 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000ED","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.875 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617908096373 - 499 1769400 image/png 61.6726ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000EB","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:30.905 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617908097512 - 200 1769400 image/png 85.2179ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000ED","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:31.478 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10cf4dfa] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:31.486 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10cf4dfa] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:31.497 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:31.516 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:31.535 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.548 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 0ca5f154 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.555 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.565 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.591 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [7653f7c0] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.600 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.609 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.617 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.626 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.637 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.647 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.661 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.672 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.687 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.698 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.714 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.727 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.744 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.766 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.776 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Token validation successful - Session 10226, Access #30, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.786 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.798 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [53647023] Access count updated to 30 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.823 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.831 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.841 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.859 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.868 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.878 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.894 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.905 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.917 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.928 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [7653f7c0] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.940 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [7653f7c0] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.950 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.966 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 374.7983ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.966 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 431.1098ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:31.986 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:31.996 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 499.6143ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:32.017 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 0ca5f154 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":469} {"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:32.035 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":469.1261,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:32.043 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 507.9092ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000009","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:32.043 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [10cf4dfa] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.065 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [10cf4dfa] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"7653f7c0"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.073 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [10cf4dfa] Loaded 3 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.082 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.084 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617920808616 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000EF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.269 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000EF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:32.282 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938617920808616 - 200 1769400 image/png 198.0274ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000EF","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:38.440 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b43b77f7] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:38.451 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b43b77f7] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:38.460 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:38.478 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:38.500 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.517 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3c58b6c1 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.526 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.537 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.551 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c741b517] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.559 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.568 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.575 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.585 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.595 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.606 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.622 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.634 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.649 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.659 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.674 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.685 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.697 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.713 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.723 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Token validation successful - Session 10226, Access #31, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.735 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.747 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.763 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [14715ab2] Access count updated to 31 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.772 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.781 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.790 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.805 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.814 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.823 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.847 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.857 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.867 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c741b517] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.876 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c741b517] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.885 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.900 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 349.5326ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.900 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 401.3279ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:38.920 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.928 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 467.4264ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:38.947 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3c58b6c1 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":429} {"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.962 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":429.9801,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.969 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 469.2538ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000A","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:38.969 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [b43b77f7] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:38.990 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [b43b77f7] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"c741b517"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:38.999 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [b43b77f7] Loaded 3 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:40.586 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bbe42f71] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:40.595 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bbe42f71] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:40.604 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:40.621 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:40.637 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.657 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 00e7fd5c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.666 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.677 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.695 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6f060988] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.704 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.712 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.720 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.730 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.741 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.751 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.766 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.776 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.791 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.801 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.817 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.826 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.840 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.858 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.869 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Token validation successful - Session 10226, Access #32, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.881 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.910 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [11e40913] Access count updated to 32 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.920 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.929 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.939 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.955 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.965 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.974 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.990 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:40.999 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.010 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.020 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6f060988] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.030 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6f060988] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.040 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.056 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 361.8997ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.057 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 419.9982ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:41.076 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.084 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 479.566ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:41.105 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 00e7fd5c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":447} {"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.121 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":447.4914,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.128 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 490.7531ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000B","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:41.128 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [bbe42f71] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:41.148 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bbe42f71] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"6f060988"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:41.157 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [bbe42f71] Loaded 3 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:54.486 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c2a0e8d8] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:54.495 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c2a0e8d8] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:54.503 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:54.520 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:54.536 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.551 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a26ee9d6 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.560 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.572 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.593 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8fda9826] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.611 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.620 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.629 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.642 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.676 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.690 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.707 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.717 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.732 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.741 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.755 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.782 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Token validation successful - Session 10226, Access #33, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.793 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.805 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.820 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c1886ec1] Access count updated to 33 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.831 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.840 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.850 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.870 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.881 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.908 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.917 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.926 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.937 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8fda9826] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.948 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8fda9826] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.956 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.971 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 378.6947ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.971 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 435.9608ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:54.989 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:54.998 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 494.5209ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:56:55.017 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a26ee9d6 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":465} {"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:55.032 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":465.6932,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:55.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 504.1042ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000C","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:56:55.040 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c2a0e8d8] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.066 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c2a0e8d8] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"8fda9826"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.080 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c2a0e8d8] Loaded 3 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.097 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618150913583 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVO:000000F1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.097 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.138 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVO:000000F1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:56:55.152 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618150913583 - 200 1769400 image/png 55.7471ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVO:000000F1","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.197 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4207352f] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.223 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4207352f] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.246 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:00.328 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:00.346 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.364 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d79d1e36 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.374 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.388 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.406 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [69020da0] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.419 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.431 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.440 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.453 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.467 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.480 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.499 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.511 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.530 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.540 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.555 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.565 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.578 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.594 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.603 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Token validation successful - Session 10226, Access #34, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.614 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.626 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.643 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [a41e2686] Access count updated to 34 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.653 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.663 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.672 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.689 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.698 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.708 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.728 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.738 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.749 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.760 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [69020da0] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.773 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [69020da0] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.783 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.799 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 393.1131ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.799 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 453.9584ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:00.819 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.829 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 583.1522ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:00.851 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d79d1e36 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":486} {"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.867 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":486.9007,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.873 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 527.6136ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000D","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:00.874 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4207352f] API response status: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.895 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4207352f] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"69020da0"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.904 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4207352f] Loaded 3 participants from API {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.915 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 23,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:00.920 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618209141734 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000001","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:00.952 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000001","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:00.964 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618209141734 - 200 1769400 image/png 43.5153ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000001","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:01.482 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e24b1c7d] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:01.491 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e24b1c7d] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:01.500 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:01.517 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:01.534 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.547 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4e345abb | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.556 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.566 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.583 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [626cb734] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.592 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.602 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.610 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.620 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.631 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.642 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.659 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.671 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.688 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.698 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.714 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.945 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (155ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.972 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:01.987 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Token validation successful - Session 10226, Access #35, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.009 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.070 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.090 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [65467c22] Access count updated to 35 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.101 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.111 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.124 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.144 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.156 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.172 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.192 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.204 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.219 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.233 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [626cb734] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.251 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [626cb734] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.269 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.288 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 705.7166ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.289 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 754.8627ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:02.312 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.321 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 821.4822ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:02.341 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4e345abb | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":793} {"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.357 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":793.8143,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.365 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 831.3215ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000E","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:02.366 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [e24b1c7d] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:02.393 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e24b1c7d] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"626cb734"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:02.405 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [e24b1c7d] Loaded 3 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:02.416 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:02.418 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618224151989 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:02.458 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:02.490 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618224151989 - 200 1769400 image/png 72.1352ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:08.431 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4b85d6d4] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:08.440 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4b85d6d4] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:08.450 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:08.469 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:08.484 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.499 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: d08b8021 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.507 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.518 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.534 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [222de20f] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.543 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.555 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.567 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.582 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.596 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.607 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.622 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.633 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.648 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.659 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.675 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.686 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.702 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.718 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.727 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Token validation successful - Session 10226, Access #36, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.738 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.752 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.768 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [613ef517] Access count updated to 36 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.778 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.786 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.797 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.813 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.821 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.833 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.848 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.857 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.868 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.878 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [222de20f] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.888 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [222de20f] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.897 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.913 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 379.1111ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.913 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 429.463ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:08.934 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.942 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 491.6997ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:08.961 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: d08b8021 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":462} {"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.976 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":462.2317,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.983 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 499.1014ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:0000000F","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:08.983 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [4b85d6d4] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:09.005 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4b85d6d4] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"222de20f"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:09.015 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [4b85d6d4] Loaded 3 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:10.581 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fd63c1ff] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:10.589 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fd63c1ff] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:10.596 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:10.610 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:10.630 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.646 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e198c4ad | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.657 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.670 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.687 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c726c438] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.696 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.705 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.713 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.722 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.733 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.742 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.758 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.770 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.787 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.797 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.812 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.823 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.836 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.854 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.866 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Token validation successful - Session 10226, Access #37, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.880 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.908 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0314f936] Access count updated to 37 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.918 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.926 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.937 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.952 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.961 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.970 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.986 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:10.994 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.004 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.014 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [c726c438] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.025 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [c726c438] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.036 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.051 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 364.0794ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.051 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 421.3626ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:11.069 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.077 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 481.472ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:11.096 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e198c4ad | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":449} {"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.112 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":449.9749,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.119 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 489.3526ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000010","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:11.119 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [fd63c1ff] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:11.140 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fd63c1ff] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"c726c438"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:11.148 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [fd63c1ff] Loaded 3 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:24.492 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [238987a0] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:24.501 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [238987a0] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:24.510 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:24.526 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:24.542 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.556 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f44a7efb | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.567 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.579 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.599 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [edd56ee5] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.608 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.617 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.625 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.635 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.645 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.670 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.681 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.697 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.707 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.723 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.735 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.749 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.766 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.781 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Token validation successful - Session 10226, Access #38, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.795 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.810 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.825 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [aa168d3f] Access count updated to 38 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.835 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.843 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.852 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.868 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.877 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.887 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.903 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.911 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.923 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.933 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [edd56ee5] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.943 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [edd56ee5] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.952 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.969 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 369.8993ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.969 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 427.0662ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:24.990 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:24.999 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 489.4975ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:25.018 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f44a7efb | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":462} {"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:25.034 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":462.2931,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:25.040 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 498.2198ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000011","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:25.040 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [238987a0] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:25.060 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [238987a0] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"edd56ee5"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:25.069 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [238987a0] Loaded 3 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:25.077 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:25.079 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618450763664 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:25.112 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:25.124 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618450763664 - 200 1769400 image/png 44.3937ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000005","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:30.200 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [90e6d062] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.210 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [90e6d062] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.219 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:30.236 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:30.254 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.268 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f47c172d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.275 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.286 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.302 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d6a2f2b5] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.314 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.324 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.335 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.346 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.361 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.373 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.391 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.402 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.417 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.427 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.442 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.453 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.467 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.485 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.495 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Token validation successful - Session 10226, Access #39, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.509 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.523 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.540 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7fe209f] Access count updated to 39 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.550 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.559 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.570 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.589 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.601 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.611 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.628 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.637 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.646 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.657 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d6a2f2b5] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.667 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d6a2f2b5] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.676 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.692 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 389.5223ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.692 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 438.479ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:30.711 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.719 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 500.6422ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:30.737 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f47c172d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":469} {"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.752 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":469.8105,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.758 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 504.5576ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000012","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:30.758 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [90e6d062] API response status: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.780 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [90e6d062] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"d6a2f2b5"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.790 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [90e6d062] Loaded 3 participants from API {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.802 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 24,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:30.804 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618508008107 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:30.861 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:30.872 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618508008107 - 200 1769400 image/png 68.4619ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:31.480 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [28fb1540] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:31.489 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [28fb1540] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:31.497 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:31.513 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:31.530 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.542 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 81186289 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.550 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.559 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.574 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [56f59ad3] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.585 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.594 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.605 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.618 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.631 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.643 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.658 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.668 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.683 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.693 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.708 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.718 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.732 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.757 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Token validation successful - Session 10226, Access #40, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.768 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.781 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.797 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [c7dea20c] Access count updated to 40 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.806 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.815 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.824 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.839 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.848 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.857 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.872 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.881 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.890 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.901 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [56f59ad3] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:31.912 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [56f59ad3] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.084 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.104 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 529.4884ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.104 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 574.3976ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:32.153 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.161 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 664.2271ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:32.180 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 81186289 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":637} {"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.197 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":637.9555,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.205 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 675.1685ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000013","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:32.205 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [28fb1540] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:32.231 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [28fb1540] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"56f59ad3"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:32.238 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [28fb1540] Loaded 3 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:32.247 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:32.249 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618522462755 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:32.279 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:32.290 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618522462755 - 200 1769400 image/png 41.1097ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000009","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:38.430 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8547384c] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:38.440 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8547384c] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:38.449 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:38.467 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:38.485 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.500 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 65fd1180 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.508 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.520 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.539 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [788792de] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.551 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.563 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.571 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.581 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.591 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.602 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.618 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.629 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.646 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.656 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.674 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.686 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.702 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.720 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.734 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Token validation successful - Session 10226, Access #41, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.763 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.781 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [83087185] Access count updated to 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.791 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.800 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.812 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.828 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.837 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.846 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.861 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.869 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.879 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.889 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [788792de] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.899 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [788792de] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.908 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.923 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 384.1116ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.923 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 439.0023ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:38.948 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.958 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 508.2788ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:38.980 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 65fd1180 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":480} {"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:38.997 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":480.316,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:39.003 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 518.1614ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000014","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:39.003 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8547384c] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:39.024 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8547384c] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"788792de"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:39.033 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8547384c] Loaded 3 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:40.585 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [83fa059a] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:40.596 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [83fa059a] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:40.604 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:40.620 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:40.637 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.650 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 84058ca8 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.659 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.671 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.692 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [48aba3ef] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.705 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.719 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.729 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.738 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.749 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.758 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.783 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.798 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.809 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.825 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.835 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.848 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.865 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.877 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Token validation successful - Session 10226, Access #42, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.888 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.902 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.921 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9dffd052] Access count updated to 42 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.934 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.944 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.953 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.968 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.977 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:40.986 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.001 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.009 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.020 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.030 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [48aba3ef] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.041 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [48aba3ef] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.050 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.065 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 373.8807ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.065 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 429.0398ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:41.085 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.093 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 488.9277ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:41.115 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 84058ca8 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":465} {"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.134 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":465.1237,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.142 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 505.3313ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000015","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:41.142 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [83fa059a] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:41.162 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [83fa059a] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"48aba3ef"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:41.170 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [83fa059a] Loaded 3 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:54.494 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [15a4e1e6] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:54.503 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [15a4e1e6] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:54.511 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:54.526 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:54.545 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.562 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a2d049ee | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.572 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.584 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.600 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8f97c2d1] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.608 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.617 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.625 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.634 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.644 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.670 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.680 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.695 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.704 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.720 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.731 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.744 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.763 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.773 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Token validation successful - Session 10226, Access #43, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.797 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.816 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [9f49d46f] Access count updated to 43 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.826 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.836 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.845 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.860 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.870 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.879 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.895 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.903 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.913 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.923 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [8f97c2d1] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.933 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [8f97c2d1] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.942 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.956 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 356.5986ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.957 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 412.0857ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:54.975 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:54.983 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 472.1513ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:57:55.001 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a2d049ee | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":439} {"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:55.016 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":439.1718,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:55.023 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 477.5891ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000016","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:57:55.023 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [15a4e1e6] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:55.043 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [15a4e1e6] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"8f97c2d1"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:55.050 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [15a4e1e6] Loaded 3 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:55.059 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:57:55.061 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618750580138 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:0000000B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:55.091 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:0000000B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:57:55.103 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618750580138 - 200 1769400 image/png 41.8328ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:0000000B","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:00.202 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66811162] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.211 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66811162] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.219 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:00.234 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:00.254 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.271 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 58bb0a0a | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.282 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.291 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.307 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [baff1f59] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.316 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.326 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.334 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.343 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.353 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.363 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.378 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.389 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.405 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.416 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.433 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.445 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.460 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.481 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.491 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Token validation successful - Session 10226, Access #44, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.501 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.514 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.534 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [5298bfc4] Access count updated to 44 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.544 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.552 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.561 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.576 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.585 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.594 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.610 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.619 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.629 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.638 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [baff1f59] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.648 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [baff1f59] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.657 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.676 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 368.7142ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.676 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 422.0313ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:00.698 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.708 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 488.8437ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:00.727 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 58bb0a0a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":455} {"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.741 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":455.7796,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.748 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 493.8946ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000017","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:00.748 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [66811162] API response status: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.768 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [66811162] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"baff1f59"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.777 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [66811162] Loaded 3 participants from API {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.786 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 25,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:00.788 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618807853709 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:00.820 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:00.833 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618807853709 - 200 1769400 image/png 45.5095ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:0000000D","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:01.477 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a949eb7d] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:01.485 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a949eb7d] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:01.492 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:01.506 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:01.523 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.537 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5d50a4b9 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.547 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.558 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.575 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f722f613] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.585 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.594 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.603 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.613 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.626 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.639 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.660 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.672 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.687 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.698 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.713 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.725 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.737 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.755 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.765 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Token validation successful - Session 10226, Access #45, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.775 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.786 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.801 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [64380fd4] Access count updated to 45 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.811 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.820 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.831 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.850 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.860 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.873 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.889 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.898 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.907 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.917 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [f722f613] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.927 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [f722f613] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.936 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.950 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 375.7133ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.950 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 428.0225ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:01.968 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:01.976 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 484.0875ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:01.994 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5d50a4b9 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":456} {"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:02.009 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":456.4083,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:02.016 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 492.9026ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVT:00000018","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SOVT"}
[2025-09-19 06:58:02.016 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a949eb7d] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:02.035 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a949eb7d] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"f722f613"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:02.042 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a949eb7d] Loaded 3 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:02.051 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 27,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:02.052 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618820505091 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:02.084 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:02.095 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938618820505091 - 200 1769400 image/png 42.2656ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:08.427 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [de26b5ae] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:08.436 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [de26b5ae] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:08.446 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:08.464 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:08.485 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.500 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c45de300 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.509 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.521 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.540 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ea8bd843] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.551 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.562 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.572 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.590 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.608 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.625 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.642 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.658 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.674 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.685 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.701 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.711 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.726 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.742 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.752 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Token validation successful - Session 10226, Access #46, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.764 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.779 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.799 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [7e1926bd] Access count updated to 46 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.811 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.821 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.837 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.855 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.864 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.878 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.896 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.905 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.918 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.929 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ea8bd843] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.939 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ea8bd843] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.948 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.962 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 423.0027ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.963 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 480.7968ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:08.981 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:08.990 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 543.2681ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:09.010 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c45de300 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":510} {"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:09.028 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":510.5937,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:09.037 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 552.3712ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000001","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:09.038 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [de26b5ae] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:09.065 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [de26b5ae] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"ea8bd843"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:09.078 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [de26b5ae] Loaded 3 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:10.573 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a60914bd] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:10.582 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a60914bd] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:10.589 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:10.605 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:10.619 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.633 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a9423045 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.643 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.654 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.673 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [30a9e616] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.684 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.693 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.701 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.711 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.721 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.732 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.760 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.775 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.787 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.803 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.813 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.833 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.852 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.864 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Token validation successful - Session 10226, Access #47, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.877 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.892 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.911 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [d43b80a1] Access count updated to 47 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.924 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.934 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.947 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.965 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.974 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:10.989 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.005 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.014 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.024 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.034 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [30a9e616] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.044 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [30a9e616] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.052 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.067 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 394.7281ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.067 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 448.3937ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:11.089 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.099 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 509.6512ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:11.121 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a9423045 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":487} {"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.138 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":487.4548,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.146 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 526.6122ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000002","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:11.146 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a60914bd] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:11.170 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a60914bd] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"30a9e616"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:11.178 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a60914bd] Loaded 3 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:24.496 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c47d07bf] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:24.506 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c47d07bf] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:24.513 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:24.531 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:24.549 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.562 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 47027fa4 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.570 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.580 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.600 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [21eaf96c] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.613 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.625 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.636 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.649 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.660 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.671 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.686 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.699 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.716 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.727 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.753 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.769 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.785 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.796 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Token validation successful - Session 10226, Access #48, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.808 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.825 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.845 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [72bec3a1] Access count updated to 48 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.856 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.866 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.880 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.900 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.910 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.923 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.940 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.951 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.961 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.971 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [21eaf96c] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.982 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [21eaf96c] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:24.990 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.006 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 406.3658ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.006 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 457.2539ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:25.026 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.034 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 520.6221ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:25.053 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 47027fa4 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":490} {"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.069 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":490.9679,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.077 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 527.4625ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000003","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:25.077 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [c47d07bf] API response status: "OK" {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:25.097 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c47d07bf] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"21eaf96c"} {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:25.105 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [c47d07bf] Loaded 3 participants from API {"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:25.115 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"PMvoF8YsAuufMID1EmlEhg","RequestId":"0HNFNDBC4SOVO:00000093","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:25.116 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619051135172 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:25.148 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:25.159 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619051135172 - 200 1769400 image/png 43.0806ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:30.200 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8658bc4b] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.209 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8658bc4b] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.216 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:30.233 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:30.250 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.264 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1cc3dfca | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.271 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.282 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.300 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d44cf4ac] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.311 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.323 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.335 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.348 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.363 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.375 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.393 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.404 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.422 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.434 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.450 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.460 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.478 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.501 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.513 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Token validation successful - Session 10226, Access #49, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.526 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.597 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (54ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.618 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [cc8ffb52] Access count updated to 49 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.628 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.637 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.646 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.662 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.672 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.682 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.698 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.707 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.717 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.728 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [d44cf4ac] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.738 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [d44cf4ac] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.748 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.764 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 464.0193ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.764 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 513.9266ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:30.782 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.790 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 574.1857ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:30.810 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1cc3dfca | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":546} {"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.827 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":546.0428,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.834 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 583.8427ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000004","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:30.834 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [8658bc4b] API response status: "OK" {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.854 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8658bc4b] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"d44cf4ac"} {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.863 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [8658bc4b] Loaded 3 participants from API {"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.876 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 26,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"OnwN5Pg2F2t1B8n2M3HKVA","RequestId":"0HNFNDBC4SOVO:000000C5","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:30.877 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619108727652 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:30.915 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:30.927 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619108727652 - 200 1769400 image/png 50.4413ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:31.480 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [17c3a8c8] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:31.489 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [17c3a8c8] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:31.498 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:31.517 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:31.534 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.548 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 32b8915c | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.556 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.567 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.585 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [80e32bd1] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.593 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.604 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.617 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.629 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.644 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.655 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.672 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.685 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.703 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.714 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.732 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.743 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.757 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.779 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.791 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Token validation successful - Session 10226, Access #50, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.802 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.814 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.832 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [89f36e65] Access count updated to 50 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.843 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.851 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.860 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.876 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.885 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.894 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.913 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.921 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.935 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.948 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [80e32bd1] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.964 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [80e32bd1] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.976 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.995 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 410.2669ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:31.995 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 461.0357ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:32.015 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:32.024 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 525.5144ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:32.046 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 32b8915c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":497} {"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:32.066 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":497.9476,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:32.075 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 540.7974ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000005","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:32.075 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [17c3a8c8] API response status: "OK" {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:32.095 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [17c3a8c8] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"80e32bd1"} {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:32.104 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [17c3a8c8] Loaded 3 participants from API {"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:32.115 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 28,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"zx6XBoum1vYPqRm4A9nkew","RequestId":"0HNFNDBC4SOVO:00000045","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:32.118 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619121137276 - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SOVV:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:32.159 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNDBC4SOVV:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:32.171 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938619121137276 - 200 1769400 image/png 53.3512ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SOVV:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNDBC4SOVV"}
[2025-09-19 06:58:38.425 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a21733ed] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:38.436 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a21733ed] Making API call to: api/participant/session/WYLA6CWV/participants {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:38.445 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:38.461 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:38.482 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.498 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c297b062 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.507 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.519 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.533 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a3301295] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.542 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.550 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.558 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.567 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.578 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.588 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.604 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.617 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.632 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.642 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.660 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.671 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.684 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.702 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.712 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Token validation successful - Session 10226, Access #51, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.723 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.737 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.757 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [955fccb1] Access count updated to 51 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.768 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.778 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.787 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.804 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.814 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.824 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.842 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.852 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.865 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.875 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [a3301295] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.886 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [a3301295] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.898 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.915 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 382.1726ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.915 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 433.5274ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:38.942 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.953 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 508.4823ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestId":"0HNFNDBC4SOVO:00000069","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:38.980 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c297b062 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":482} {"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:38.996 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":482.1587,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:39.003 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 520.7195ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000006","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:39.003 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [a21733ed] API response status: "OK" {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:39.025 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a21733ed] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"a3301295"} {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:39.035 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [a21733ed] Loaded 3 participants from API {"ActionId":"fc64e8cf-ee2b-43f7-98d9-2a5aa826b0b7","ActionName":"/_Host","RequestPath":"/session/waiting/WYLA6CWV","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:40.577 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [f7bf5f02] Starting LoadParticipantsAsync with SessionToken: WYLA6CWV {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:40.593 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [f7bf5f02] Making API call to: api/participant/session/WYLA6CWV/participants {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:40.630 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:40.678 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/WYLA6CWV/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:40.704 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.728 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3bee5809 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/WYLA6CWV/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.740 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.752 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.770 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9be60cad] Getting participants for session token: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.784 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Token received: 'WYLA6CWV', Length: 8 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.797 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Validating token with TokenService... {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.809 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Starting token validation {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.821 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Token: WYLA6CWV, IsHost: false {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.834 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Querying database for token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.849 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.871 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Total tokens in database: 72 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.886 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.903 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Active non-expired tokens: 41 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.918 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.938 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Tokens matching 'WYLA6CWV': 1 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.949 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Match found - ID: 78, SessionId: 10226, Active: true, Expires: "2025-09-20T10:54:28.3102417", HostToken: YX399C92, UserToken: WYLA6CWV {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.965 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.983 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Final query result: Found valid token {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:40.994 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Token validation successful - Session 10226, Access #52, Expires: "2025-09-20T10:54:28.3102417" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.005 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Session details - Title: 'The Story Of Adam (ZAHIR)', Status: 'Configured' {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.020 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.039 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [4619018e] Access count updated to 52 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.050 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Token validation successful - SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.060 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Querying SessionParticipants for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.070 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.087 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Found 0 active participants in SessionParticipants {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.097 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Querying Registrations for SessionId: 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.107 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.125 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Found 3 registered participants in Registrations {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.134 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Registration - UserId: E63DE7C7-8F5E-4D1D-874A-AECDD9063A34, Name: Asif, Country: US, JoinTime: "2025-09-19T10:55:00.2650236" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.145 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Registration - UserId: C03BEE1F-6C10-4B66-9AEB-7D127CABD756, Name: Ishrat, Country: GB, JoinTime: "2025-09-19T10:55:53.6908327" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.158 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9be60cad] Registration - UserId: DBB4DC1A-99D9-4E2B-AF24-329B327EED8B, Name: Ayaz, Country: AU, JoinTime: "2025-09-19T10:56:29.3768135" {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.169 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9be60cad] Found 3 participants for session 10226 {"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.179 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType40`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType39`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"50d3a5d8-c588-4c4d-a772-8fd685f33a0f","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.197 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 427.3005ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.197 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 492.7878ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:41.220 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.229 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 599.109ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/WYLA6CWV/participants","TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestId":"0HNFNDBC4SOVO:00000073","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO","Scope":["HTTP GET https://localhost:9091/api/participant/session/WYLA6CWV/participants"]}
[2025-09-19 06:58:41.249 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3bee5809 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":521} {"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.266 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/WYLA6CWV/participants | Data: {"DurationMs":521.5158,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.273 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/WYLA6CWV/participants - 200 null application/json; charset=utf-8 568.8575ms {"EventId":{"Id":2},"RequestId":"0HNFNDBC4SP00:00000007","RequestPath":"/api/participant/session/WYLA6CWV/participants","ConnectionId":"0HNFNDBC4SP00"}
[2025-09-19 06:58:41.273 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG-UI: [f7bf5f02] API response status: "OK" {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:41.296 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [f7bf5f02] Participants API response: {"sessionId":10226,"token":"WYLA6CWV","participantCount":3,"participants":[{"userId":"E63DE7C7-8F5E-4D1D-874A-AECDD9063A34","displayName":"Asif","joinedAt":"2025-09-19T10:55:00.2650236","role":"registered","country":"US"},{"userId":"C03BEE1F-6C10-4B66-9AEB-7D127CABD756","displayName":"Ishrat","joinedAt":"2025-09-19T10:55:53.6908327","role":"registered","country":"GB"},{"userId":"DBB4DC1A-99D9-4E2B-AF24-329B327EED8B","displayName":"Ayaz","joinedAt":"2025-09-19T10:56:29.3768135","role":"registered","country":"AU"}],"requestId":"9be60cad"} {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:58:41.305 -04:00 INF] NoorCanvas.Pages.SessionWaiting NOOR-DEBUG: [f7bf5f02] Loaded 3 participants from API {"TransportConnectionId":"6bqpXf8WeXgHHjykaworSA","RequestPath":"/_blazor","ConnectionId":"0HNFNDBC4SOVO"}
[2025-09-19 06:59:04.177 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 06:59:05.229 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 06:59:05.246 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 06:59:05.249 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 06:59:05.298 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 06:59:05.401 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:59:05.408 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 06:59:05.507 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 06:59:05.620 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:9091, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 06:59:05.635 -04:00 ERR] Microsoft.Extensions.Hosting.Internal.Host Hosting failed to start {"EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"}}
System.IO.IOException: Failed to bind to address http://127.0.0.1:9090: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.EndpointsStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
[2025-09-19 06:59:05.667 -04:00 FTL]  NOOR-FATAL: Application terminated unexpectedly {}
System.IO.IOException: Failed to bind to address http://127.0.0.1:9090: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.EndpointsStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)
   at Program.<Main>$(String[] args) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Program.cs:line 211
