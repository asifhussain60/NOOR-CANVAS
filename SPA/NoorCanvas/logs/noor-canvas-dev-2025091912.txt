[2025-09-19 12:00:48.921 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 12:00:48.928 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"D8UUGJneMrkh8mO1wdZLXA","RequestId":"0HNFNIKKPIRF2:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNIKKPIRF2"}
[2025-09-19 12:00:48.963 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNIKKPIRF2:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNIKKPIRF2"}
[2025-09-19 12:00:48.977 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 86cdf85e | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":231065} {"RequestId":"0HNFNIKKPIRF2:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNIKKPIRF2"}
[2025-09-19 12:00:48.984 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":231065.8858,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNIKKPIRF2:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNIKKPIRF2"}
[2025-09-19 12:00:48.992 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=f_n1Nz07HkM1mghV3XLjwg - 200 null null 231106.1478ms {"EventId":{"Id":2},"RequestId":"0HNFNIKKPIRF2:00000003","RequestPath":"/_blazor","ConnectionId":"0HNFNIKKPIRF2"}
[2025-09-19 12:00:49.009 -04:00 INF] Microsoft.AspNetCore.Server.Kestrel Connection id "0HNFNIKKPIRF2", Request id "0HNFNIKKPIRF2:00000003": the application completed without reading the entire request body. {"EventId":{"Id":32,"Name":"RequestBodyNotEntirelyRead"}}
[2025-09-19 12:02:19.269 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 12:02:20.575 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 12:02:20.591 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 12:02:20.594 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 12:02:20.651 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 12:02:20.759 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:02:20.769 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:02:20.884 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 12:02:21.069 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 12:02:21.202 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:02:21.208 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:02:21.217 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 12:02:21.220 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 12:02:21.225 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 12:02:32.472 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=58231340-3acd-45b5-95b9-11cc76051b9d&vscodeBrowserReqId=1758297752394 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.555 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 89af768a | Data: {"Method":"GET","Path":{"Value":"/host/control-panel/BIIVCFDY","HasValue":true},"QueryString":"?id=58231340-3acd-45b5-95b9-11cc76051b9d\u0026vscodeBrowserReqId=1758297752394","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.566 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.587 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.617 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.632 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.703 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Initialized with SessionId: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:32.808 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.826 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4cfbe5c8 | Data: {"Method":"POST","Path":{"Value":"/sessionHub/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Microsoft SignalR/8.0 (8.0.0\u002B3f1acb59718cadf111a0a796681e3d3509bb3381; Windows NT; .NET; .NET 8.0.20)","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.836 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.847 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.866 -04:00 INF] Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present. {"EventId":{"Id":1,"Name":"AntiforgeryTokenInvalid"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2025-09-19 12:02:32.890 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'. {"EventId":{"Id":3,"Name":"AuthorizationFailure"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.907 -04:00 INF] Microsoft.AspNetCore.Mvc.StatusCodeResult Executing StatusCodeResult, setting HTTP status code 400 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.926 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 59.4759ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.941 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.960 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4cfbe5c8 | Data: {"StatusCode":400,"ContentType":null,"ContentLength":null,"DurationMs":128} {"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.975 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/sessionHub/negotiate | Data: {"DurationMs":128.5221,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:32.986 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - 400 0 null 177.6215ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078K:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078K"}
[2025-09-19 12:02:33.003 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to initialize SignalR connection {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.NegotiateAsync(Uri url, HttpClient httpClient, ILogger logger, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.GetNegotiationResponseAsync(Uri uri, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.SelectAndStartTransport(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsyncCore(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsync(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncCore(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncInner(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsync(CancellationToken cancellationToken)
   at NoorCanvas.Pages.HostControlPanel.InitializeSignalRAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 308
[2025-09-19 12:02:33.032 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: LoadSessionDataAsync started for sessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:33.043 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Detected token format: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:33.056 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:33.075 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:33.101 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.116 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a08285dc | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BIIVCFDY/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.125 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.149 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.185 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [5d23a9df] Validating friendly token: BIIVCFDY {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.195 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [5d23a9df] Looking up friendly token in database {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.674 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (30ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.933 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.954 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [5d23a9df] Updated session info from KSESSIONS: Title='Need For Messengers', Description='we look at the purpose of sending messengers, and their role in our spiritual awakening.' for session 10227 {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.966 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [5d23a9df] Found session 10227 with title: Need For Messengers {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:33.980 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.014 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 847.0611ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.017 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 924.3343ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:34.038 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.048 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 993.3686ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:34.075 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a08285dc | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":959} {"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.095 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BIIVCFDY/validate | Data: {"DurationMs":959.2951,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.109 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - 200 null application/json; charset=utf-8 1007.8796ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.109 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: Calling GetSessionDetails API for sessionId: 10227, hostToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.132 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:34.148 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:34.164 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.180 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: f10314ee | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/10227","HasValue":true},"QueryString":"?guid=BIIVCFDY","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.190 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.213 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.242 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.261 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.280 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-WARNING: Session not found in KSESSIONS for SessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.291 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.307 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 72.8378ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.307 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 144.0082ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:34.334 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.346 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 213.4267ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:34.369 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: f10314ee | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":188} {"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.370 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=58231340-3acd-45b5-95b9-11cc76051b9d&vscodeBrowserReqId=1758297754363 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.393 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/10227 | Data: {"DurationMs":188.4184,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.400 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fc291715 | Data: {"Method":"GET","Path":{"Value":"/host/control-panel/BIIVCFDY","HasValue":true},"QueryString":"?id=58231340-3acd-45b5-95b9-11cc76051b9d\u0026vscodeBrowserReqId=1758297754363","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.411 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - 404 null application/json; charset=utf-8 247.1927ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.412 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: GetSessionDetails API response status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.415 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.449 -04:00 WRN] NoorCanvas.Pages.HostControlPanel SESSION-DATA: Failed to load session details for SessionId: 10227, Status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.454 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.475 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:34.483 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.504 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:34.511 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.543 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.561 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Initialized with SessionId: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.571 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7cc9d04d | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/Q27PTUSP/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.598 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.604 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.628 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e91148ab | Data: {"Method":"POST","Path":{"Value":"/sessionHub/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Microsoft SignalR/8.0 (8.0.0\u002B3f1acb59718cadf111a0a796681e3d3509bb3381; Windows NT; .NET; .NET 8.0.20)","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.629 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.649 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.672 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ec617435] Getting participants for session token: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.677 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.697 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Token received: 'Q27PTUSP', Length: 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.704 -04:00 INF] Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present. {"EventId":{"Id":1,"Name":"AntiforgeryTokenInvalid"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2025-09-19 12:02:34.721 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Validating token with TokenService... {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.728 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'. {"EventId":{"Id":3,"Name":"AuthorizationFailure"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.748 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Starting token validation {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.751 -04:00 INF] Microsoft.AspNetCore.Mvc.StatusCodeResult Executing StatusCodeResult, setting HTTP status code 400 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.767 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Token: Q27PTUSP, IsHost: false {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.773 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 69.3439ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.790 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Querying database for token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.795 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.817 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e91148ab | Data: {"StatusCode":400,"ContentType":null,"ContentLength":null,"DurationMs":188} {"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.825 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/sessionHub/negotiate | Data: {"DurationMs":188.9503,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.834 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - 400 0 null 230.1336ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078M:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078M"}
[2025-09-19 12:02:34.836 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to initialize SignalR connection {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.NegotiateAsync(Uri url, HttpClient httpClient, ILogger logger, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.GetNegotiationResponseAsync(Uri uri, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.SelectAndStartTransport(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsyncCore(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsync(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncCore(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncInner(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsync(CancellationToken cancellationToken)
   at NoorCanvas.Pages.HostControlPanel.InitializeSignalRAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 308
[2025-09-19 12:02:34.841 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.874 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: LoadSessionDataAsync started for sessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.885 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Total tokens in database: 85 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.899 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Detected token format: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:34.909 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.914 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:34.938 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Active non-expired tokens: 52 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.945 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:34.974 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:34.974 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:34.998 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Tokens matching 'Q27PTUSP': 1 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.004 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 45587501 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BIIVCFDY/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.019 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Match found - ID: 86, SessionId: 10227, Active: true, Expires: "2025-09-20T15:09:17.3366758", HostToken: BIIVCFDY, UserToken: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.022 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.045 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.055 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.091 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Final query result: Found valid token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.064 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [46e6b781] Validating friendly token: BIIVCFDY {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.194 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Token validation successful - Session 10227, Access #8, Expires: "2025-09-20T15:09:17.3366758" {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.199 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [46e6b781] Looking up friendly token in database {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.230 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Session details - Title: 'Need For Messengers', Status: 'Configured' {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.238 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.266 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.285 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [46e6b781] Updated session info from KSESSIONS: Title='Need For Messengers', Description='we look at the purpose of sending messengers, and their role in our spiritual awakening.' for session 10227 {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.295 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [46e6b781] Found session 10227 with title: Need For Messengers {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.306 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.321 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 259.2044ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.322 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 350.9948ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:35.343 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.354 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 439.9399ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:35.374 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 45587501 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":370} {"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.376 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.400 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BIIVCFDY/validate | Data: {"DurationMs":370.3825,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.417 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - 200 null application/json; charset=utf-8 442.2984ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078N:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.417 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: Calling GetSessionDetails API for sessionId: 10227, hostToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:35.421 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [bf92ef92] Access count updated to 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.445 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:35.451 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Token validation successful - SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.471 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:35.475 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Querying SessionParticipants for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.496 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.514 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 67b9351b | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/10227","HasValue":true},"QueryString":"?guid=BIIVCFDY","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.522 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.523 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.544 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Found 0 active participants in SessionParticipants {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.549 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.565 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Querying Registrations for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.575 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.594 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.606 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.613 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-WARNING: Session not found in KSESSIONS for SessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.634 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ec617435] Found 0 registered participants in Registrations {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.639 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.656 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ec617435] Found 0 participants for session 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.662 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 88.7128ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.663 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 167.342ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:35.687 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType46`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.692 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.701 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 256.0199ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:35.738 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 67b9351b | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":223} {"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.740 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 1080.7587ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.740 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 1198.1537ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:35.770 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/10227 | Data: {"DurationMs":223.9142,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.775 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.785 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 1310.5002ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:35.807 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - 404 null application/json; charset=utf-8 310.8006ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078N:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078N"}
[2025-09-19 12:02:35.807 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: GetSessionDetails API response status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:35.813 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7cc9d04d | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":1241} {"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.848 -04:00 WRN] NoorCanvas.Pages.HostControlPanel SESSION-DATA: Failed to load session details for SessionId: 10227, Status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:35.854 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/api/participant/session/Q27PTUSP/participants | Data: {"DurationMs":1241.9352,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.866 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:35.869 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - 200 null application/json; charset=utf-8 1326.6806ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.874 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to load session data for SessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.sessionId | LineNumber: 0 | BytePositionInLine: 18.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at NoorCanvas.Pages.HostControlPanel.LoadSessionDataAsync(String sessionIdOrToken) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 424
[2025-09-19 12:02:35.902 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:35.935 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.950 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 4f254f54 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/Q27PTUSP/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.958 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.965 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 3361.4598ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:35.969 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:35.988 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:35.996 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6233ef37] Getting participants for session token: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.010 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 89af768a | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":3483} {"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.016 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Token received: 'Q27PTUSP', Length: 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.027 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/control-panel/BIIVCFDY | Data: {"DurationMs":3483.035,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.032 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Validating token with TokenService... {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.046 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=58231340-3acd-45b5-95b9-11cc76051b9d&vscodeBrowserReqId=1758297752394 - 200 null text/html; charset=utf-8 3576.2495ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.048 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Starting token validation {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.075 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Token: Q27PTUSP, IsHost: false {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.088 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Querying database for token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.101 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.116 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Total tokens in database: 85 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.127 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.143 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Active non-expired tokens: 52 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.155 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.172 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Tokens matching 'Q27PTUSP': 1 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.183 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Match found - ID: 86, SessionId: 10227, Active: true, Expires: "2025-09-20T15:09:17.3366758", HostToken: BIIVCFDY, UserToken: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.197 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.215 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Final query result: Found valid token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.226 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Token validation successful - Session 10227, Access #9, Expires: "2025-09-20T15:09:17.3366758" {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.240 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Session details - Title: 'Need For Messengers', Status: 'Configured' {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.260 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.279 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [2d861fe9] Access count updated to 9 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.292 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Token validation successful - SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.303 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Querying SessionParticipants for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.313 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.329 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Found 0 active participants in SessionParticipants {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.338 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Querying Registrations for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.348 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.365 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [6233ef37] Found 0 registered participants in Registrations {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.374 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [6233ef37] Found 0 participants for session 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.384 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType46`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.400 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 405.0841ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.400 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 465.5243ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:36.420 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.428 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 562.1879ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:36.448 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 4f254f54 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":497} {"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.464 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/Q27PTUSP/participants | Data: {"DurationMs":497.3619,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.471 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - 200 null application/json; charset=utf-8 535.7444ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000004","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:36.472 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to load session data for SessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.sessionId | LineNumber: 0 | BytePositionInLine: 18.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at NoorCanvas.Pages.HostControlPanel.LoadSessionDataAsync(String sessionIdOrToken) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 424
[2025-09-19 12:02:36.508 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 2027.2849ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.524 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.524 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801565025044 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.527 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.527 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.569 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /NoorCanvas.styles.css was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNINOI078J:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.581 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fc291715 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":2180} {"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.587 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 70e8b7e0 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.610 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 304 null text/css 85.7683ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.615 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/control-panel/BIIVCFDY | Data: {"DurationMs":2180.6723,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.629 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.635 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.665 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=58231340-3acd-45b5-95b9-11cc76051b9d&vscodeBrowserReqId=1758297754363 - 200 null text/html; charset=utf-8 2294.7525ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000003","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.670 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.675 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801565025044 - 200 1769400 image/png 150.3349ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000007","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.709 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.726 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 70e8b7e0 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":138} {"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.734 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":138.1977,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.741 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 213.2683ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000009","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.755 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.774 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 7dc31c6c | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.785 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.800 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.810 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 7dc31c6c | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":36} {"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.818 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":36.6707,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.825 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 69.6045ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:0000000B","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.832 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.853 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: fc22eecc | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.862 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.873 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.885 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.895 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: fc22eecc | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":42} {"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.904 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":42.6345,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.910 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 78.0077ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:0000000D","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.914 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=fcvrqKOEihoAnGsLwpZo6A - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.937 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: df0d69f0 | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=fcvrqKOEihoAnGsLwpZo6A","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.945 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.955 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.970 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:36.988 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.002 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.023 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/control-panel/BIIVCFDY?id=58231340-3acd-45b5-95b9-11cc76051b9d&vscodeBrowserReqId=1758297754363, [{"type":"server","prerenderId":"b34831d7739549d18db2711b5c8bc868","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbP1Rb8b1U4cc4NWcTIstH7OMU7CkrZHIHWzz93HuEpHuL4gc1GLdA2OfnO68fBFWabtkaStDsWN7pEl/FtLRTSmhABkz3+s10jVTASv7tKUPGenDtk7BIkRwEzkW9OuH/ppy+ZldP+4Esu6RHP4l7dOSGwJy8yI97dtYRYdeI4rQODE/gpPijO+8TK++w6CVUbcFoW08s2H36qiPrSv0pz5DUyp4OCAIcNrKf7yl6EsLbFUFiJBluVZ6gfCH6QWQ2HCMXF82xkNIQVrDPh6uAbYw3fsYNg2Ly+w06VXLwZjJ1wxXE8C4CPwyXeQARVWHRwo3mC2O29fe31dhTVkEzSQtApCgf75dkWOYg+kLie0FpureRoWDFzODk34oMPWyiuvY0UFt8hHfe3fFnX/4xw+C6+y7pO+AZvdcbmhWnHbYfmzpeYAd87j5QHwDbxswdpmHPFFXrZgdkBLkzvEohlXi/P1Vks1Nibx/6i8jCKg+g==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.101 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Initialized with SessionId: BIIVCFDY {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.145 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.149 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.158 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801571228243 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.170 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 18c25559 | Data: {"Method":"POST","Path":{"Value":"/sessionHub/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Microsoft SignalR/8.0 (8.0.0\u002B3f1acb59718cadf111a0a796681e3d3509bb3381; Windows NT; .NET; .NET 8.0.20)","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.187 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.204 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.227 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.231 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.243 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.269 -04:00 INF] Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present. {"EventId":{"Id":1,"Name":"AntiforgeryTokenInvalid"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2025-09-19 12:02:37.274 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801571228243 - 200 1769400 image/png 116.551ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.298 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'. {"EventId":{"Id":3,"Name":"AuthorizationFailure"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.319 -04:00 INF] Microsoft.AspNetCore.Mvc.StatusCodeResult Executing StatusCodeResult, setting HTTP status code 400 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.332 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 63.213ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.342 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.354 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 18c25559 | Data: {"StatusCode":400,"ContentType":null,"ContentLength":null,"DurationMs":184} {"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.361 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/sessionHub/negotiate | Data: {"DurationMs":184.4403,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.369 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - 400 0 null 223.9178ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078O:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078O"}
[2025-09-19 12:02:37.370 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to initialize SignalR connection {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.NegotiateAsync(Uri url, HttpClient httpClient, ILogger logger, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.GetNegotiationResponseAsync(Uri uri, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.SelectAndStartTransport(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsyncCore(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsync(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncCore(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncInner(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsync(CancellationToken cancellationToken)
   at NoorCanvas.Pages.HostControlPanel.InitializeSignalRAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 308
[2025-09-19 12:02:37.401 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: LoadSessionDataAsync started for sessionIdOrToken: BIIVCFDY {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.403 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.405 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801574015573 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.424 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Detected token format: BIIVCFDY {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.451 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:37.470 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.472 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:37.491 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801574015573 - 200 1769400 image/png 86.5623ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.501 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.531 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: bff32692 | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BIIVCFDY/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.539 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.549 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.566 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0e9bf7d9] Validating friendly token: BIIVCFDY {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.576 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0e9bf7d9] Looking up friendly token in database {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.589 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.608 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.628 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0e9bf7d9] Updated session info from KSESSIONS: Title='Need For Messengers', Description='we look at the purpose of sending messengers, and their role in our spiritual awakening.' for session 10227 {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.641 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [0e9bf7d9] Found session 10227 with title: Need For Messengers {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.652 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.669 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 103.6511ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.669 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 169.2603ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:37.711 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.733 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: bff32692 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":201} {"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.748 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 296.6986ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:02:37.778 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BIIVCFDY/validate | Data: {"DurationMs":201.2018,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.826 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - 200 null application/json; charset=utf-8 324.8854ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000005","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.826 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: Calling GetSessionDetails API for sessionId: 10227, hostToken: BIIVCFDY {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:37.866 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:37.882 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:37.898 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.910 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 8d545a90 | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/10227","HasValue":true},"QueryString":"?guid=BIIVCFDY","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.919 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.929 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.946 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.958 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.975 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-WARNING: Session not found in KSESSIONS for SessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:37.986 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.002 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 56.7541ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.002 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 104.2297ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:38.020 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.028 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 161.7224ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:02:38.047 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 8d545a90 | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":136} {"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.061 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/10227 | Data: {"DurationMs":136.444,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.069 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - 404 null application/json; charset=utf-8 170.5374ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000006","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.069 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: GetSessionDetails API response status: "NotFound" {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.090 -04:00 WRN] NoorCanvas.Pages.HostControlPanel SESSION-DATA: Failed to load session details for SessionId: 10227, Status: "NotFound" {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.100 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:38.114 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:38.128 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.141 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5801e356 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/Q27PTUSP/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.150 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.160 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.176 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9ec9e013] Getting participants for session token: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.186 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Token received: 'Q27PTUSP', Length: 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.194 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Validating token with TokenService... {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.203 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Starting token validation {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.213 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Token: Q27PTUSP, IsHost: false {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.223 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Querying database for token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.235 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.251 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Total tokens in database: 85 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.261 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.276 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Active non-expired tokens: 52 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.288 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.304 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Tokens matching 'Q27PTUSP': 1 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.315 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Match found - ID: 86, SessionId: 10227, Active: true, Expires: "2025-09-20T15:09:17.3366758", HostToken: BIIVCFDY, UserToken: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.329 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.347 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Final query result: Found valid token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.357 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Token validation successful - Session 10227, Access #10, Expires: "2025-09-20T15:09:17.3366758" {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.369 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Session details - Title: 'Need For Messengers', Status: 'Configured' {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.381 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.398 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [203c7c20] Access count updated to 10 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.408 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Token validation successful - SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.419 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Querying SessionParticipants for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.429 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.445 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Found 0 active participants in SessionParticipants {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.454 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Querying Registrations for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.464 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.482 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [9ec9e013] Found 0 registered participants in Registrations {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.492 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [9ec9e013] Found 0 participants for session 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.503 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType46`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.519 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 343.5158ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.519 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 391.6177ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:38.538 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.546 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 446.203ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:02:38.564 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5801e356 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":423} {"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.580 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/Q27PTUSP/participants | Data: {"DurationMs":423.0511,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.588 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - 200 null application/json; charset=utf-8 459.806ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078L:00000007","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078L"}
[2025-09-19 12:02:38.590 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to load session data for SessionIdOrToken: BIIVCFDY {"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.sessionId | LineNumber: 0 | BytePositionInLine: 18.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at NoorCanvas.Pages.HostControlPanel.LoadSessionDataAsync(String sessionIdOrToken) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 424
[2025-09-19 12:02:38.623 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.624 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801586210146 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.628 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801586216843 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.660 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.668 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.684 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.689 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801586210146 - 499 1769400 image/png 65.0906ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.701 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:38.712 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801586216843 - 200 1769400 image/png 84.3646ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:41.624 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:41.626 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801616226644 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:41.664 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078J:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:02:41.675 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938801616226644 - 200 1769400 image/png 49.2649ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:00000019","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.828 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryX1wkcW0N22AUsXRT 359 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.831 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"STGcvm1Dk84VcbuqB0davQ","RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.849 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: bf667313 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundaryX1wkcW0N22AUsXRT","ContentLength":359} {"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.858 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.871 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.879 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: df0d69f0 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":63942} {"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.897 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.901 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":63942.3791,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.922 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=fcvrqKOEihoAnGsLwpZo6A - 200 null null 64008.0051ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:0000000F","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.930 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.948 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: bf667313 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":98} {"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.958 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":98.7639,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:03:40.968 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 140.381ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078J:0000001B","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078J"}
[2025-09-19 12:08:35.887 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=bb547eff-d2c2-44ca-9206-88c6e09c8faa&vscodeBrowserReqId=1758298115877 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.903 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 653ba9e6 | Data: {"Method":"GET","Path":{"Value":"/host/control-panel/BIIVCFDY","HasValue":true},"QueryString":"?id=bb547eff-d2c2-44ca-9206-88c6e09c8faa\u0026vscodeBrowserReqId=1758298115877","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.911 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.923 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.941 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executing an implicit handler method - ModelState is "Valid" {"EventId":{"Id":107,"Name":"ExecutingImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.959 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult. {"EventId":{"Id":109,"Name":"ExecutedImplicitHandlerMethod"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.978 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Initialized with SessionId: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:35.996 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.009 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 70231893 | Data: {"Method":"POST","Path":{"Value":"/sessionHub/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Microsoft SignalR/8.0 (8.0.0\u002B3f1acb59718cadf111a0a796681e3d3509bb3381; Windows NT; .NET; .NET 8.0.20)","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.016 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.025 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.038 -04:00 INF] Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present. {"EventId":{"Id":1,"Name":"AntiforgeryTokenInvalid"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2025-09-19 12:08:36.053 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'. {"EventId":{"Id":3,"Name":"AuthorizationFailure"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.068 -04:00 INF] Microsoft.AspNetCore.Mvc.StatusCodeResult Executing StatusCodeResult, setting HTTP status code 400 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.081 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 43.3478ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.093 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.104 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 70231893 | Data: {"StatusCode":400,"ContentType":null,"ContentLength":null,"DurationMs":95} {"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.110 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/sessionHub/negotiate | Data: {"DurationMs":95.2657,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.119 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - 400 0 null 122.7823ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078Q:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078Q"}
[2025-09-19 12:08:36.120 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to initialize SignalR connection {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.NegotiateAsync(Uri url, HttpClient httpClient, ILogger logger, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.GetNegotiationResponseAsync(Uri uri, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.SelectAndStartTransport(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsyncCore(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsync(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncCore(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncInner(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsync(CancellationToken cancellationToken)
   at NoorCanvas.Pages.HostControlPanel.InitializeSignalRAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 308
[2025-09-19 12:08:36.150 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: LoadSessionDataAsync started for sessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:36.159 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Detected token format: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:36.170 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:36.186 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:36.205 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.218 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 02f4ec3a | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BIIVCFDY/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.225 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.235 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.252 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [e54e7076] Validating friendly token: BIIVCFDY {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.260 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [e54e7076] Looking up friendly token in database {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.277 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (4ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.300 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.317 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [e54e7076] Updated session info from KSESSIONS: Title='Need For Messengers', Description='we look at the purpose of sending messengers, and their role in our spiritual awakening.' for session 10227 {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.328 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [e54e7076] Found session 10227 with title: Need For Messengers {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.339 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.352 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 101.1368ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.353 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 150.5845ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:36.371 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.379 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 209.7377ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:36.399 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 02f4ec3a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":180} {"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.414 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BIIVCFDY/validate | Data: {"DurationMs":180.8441,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.421 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - 200 null application/json; charset=utf-8 215.3465ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000001","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.421 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: Calling GetSessionDetails API for sessionId: 10227, hostToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:36.443 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:36.458 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:36.473 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.485 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c942e7a8 | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/10227","HasValue":true},"QueryString":"?guid=BIIVCFDY","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.492 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.501 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.516 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.528 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.543 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-WARNING: Session not found in KSESSIONS for SessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.554 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.569 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 53.239ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.569 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 96.5179ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:36.598 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 154.6522ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:36.588 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.626 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c942e7a8 | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":141} {"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.635 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/10227 | Data: {"DurationMs":141.7789,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.641 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - 404 null application/json; charset=utf-8 168.3669ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000002","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.641 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: GetSessionDetails API response status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:36.663 -04:00 WRN] NoorCanvas.Pages.HostControlPanel SESSION-DATA: Failed to load session details for SessionId: 10227, Status: "NotFound" {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:36.674 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:36.688 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestStart"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:36.703 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.715 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 1aab4c43 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/Q27PTUSP/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.722 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.731 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.746 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ce61d8f2] Getting participants for session token: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.755 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Token received: 'Q27PTUSP', Length: 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.764 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Validating token with TokenService... {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.772 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Starting token validation {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.782 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Token: Q27PTUSP, IsHost: false {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.793 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Querying database for token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.806 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.822 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Total tokens in database: 85 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.835 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.853 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Active non-expired tokens: 51 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.866 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (2ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.882 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Tokens matching 'Q27PTUSP': 1 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.894 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Match found - ID: 86, SessionId: 10227, Active: true, Expires: "2025-09-20T15:09:17.3366758", HostToken: BIIVCFDY, UserToken: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.916 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (6ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.935 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Final query result: Found valid token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.944 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Token validation successful - Session 10227, Access #11, Expires: "2025-09-20T15:09:17.3366758" {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.956 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Session details - Title: 'Need For Messengers', Status: 'Configured' {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.971 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.987 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [1d9f9075] Access count updated to 11 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:36.996 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Token validation successful - SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.005 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Querying SessionParticipants for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.016 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.032 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Found 0 active participants in SessionParticipants {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.041 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Querying Registrations for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.053 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.069 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [ce61d8f2] Found 0 registered participants in Registrations {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.077 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [ce61d8f2] Found 0 participants for session 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.087 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType46`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.103 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 358.3131ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.104 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 401.091ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:37.123 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.132 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 458.6849ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:37.153 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 1aab4c43 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":438} {"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.171 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/Q27PTUSP/participants | Data: {"DurationMs":438.0787,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.179 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - 200 null application/json; charset=utf-8 475.8954ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000003","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:37.180 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to load session data for SessionIdOrToken: BIIVCFDY {"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.sessionId | LineNumber: 0 | BytePositionInLine: 18.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at NoorCanvas.Pages.HostControlPanel.LoadSessionDataAsync(String sessionIdOrToken) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 424
[2025-09-19 12:08:37.210 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 1270.829ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.225 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.228 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805172093051 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.228 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.228 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.259 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 653ba9e6 | Data: {"StatusCode":200,"ContentType":"text/html; charset=utf-8","ContentLength":null,"DurationMs":1356} {"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.275 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /NoorCanvas.styles.css was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNINOI078P:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.282 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: a9c4dd36 | Data: {"Method":"GET","Path":{"Value":"/_framework/blazor.server.js","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.296 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.301 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Slow Operation: HTTP_GET_/host/control-panel/BIIVCFDY | Data: {"DurationMs":1356.121,"ThresholdMs":1000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.306 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/NoorCanvas.styles.css - 304 null text/css 77.1982ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000005","RequestPath":"/NoorCanvas.styles.css","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.315 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor static files' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.333 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805172093051 - 200 1769400 image/png 104.956ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000003","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.344 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/host/control-panel/BIIVCFDY?id=bb547eff-d2c2-44ca-9206-88c6e09c8faa&vscodeBrowserReqId=1758298115877 - 200 null text/html; charset=utf-8 1456.5896ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000001","RequestPath":"/host/control-panel/BIIVCFDY","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.367 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware The file /_framework/blazor.server.js was not modified {"EventId":{"Id":6,"Name":"FileNotModified"},"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.400 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor static files' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.410 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: a9c4dd36 | Data: {"StatusCode":304,"ContentType":"text/javascript","ContentLength":null,"DurationMs":127} {"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.418 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_framework/blazor.server.js | Data: {"DurationMs":127.9702,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.425 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_framework/blazor.server.js - 304 null text/javascript 196.2791ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000007","RequestPath":"/_framework/blazor.server.js","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.440 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/_blazor/initializers - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.460 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 24da20ef | Data: {"Method":"GET","Path":{"Value":"/_blazor/initializers","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.469 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor initializers' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.479 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor initializers' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.491 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 24da20ef | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":31} {"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.499 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/_blazor/initializers | Data: {"DurationMs":31.846,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.506 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/_blazor/initializers - 200 null application/json; charset=utf-8 66.317ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000009","RequestPath":"/_blazor/initializers","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.513 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.534 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: e170c91b | Data: {"Method":"POST","Path":{"Value":"/_blazor/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.541 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.552 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor/negotiate' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.562 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor/negotiate' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.574 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: e170c91b | Data: {"StatusCode":200,"ContentType":"application/json","ContentLength":316,"DurationMs":39} {"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.581 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/negotiate | Data: {"DurationMs":39.9362,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.588 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 75.0656ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:0000000B","RequestPath":"/_blazor/negotiate","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.591 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 CONNECT https://localhost:9091/_blazor?id=6uiotg9c5JapXS-vdYODTg - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.614 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 23cfca0c | Data: {"Method":"CONNECT","Path":{"Value":"/_blazor","HasValue":true},"QueryString":"?id=6uiotg9c5JapXS-vdYODTg","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.622 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.633 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_blazor' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.643 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync started. {"EventId":{"Id":5,"Name":"ConnectedStarting"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.656 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Found protocol implementation for requested protocol: blazorpack. {"EventId":{"Id":2,"Name":"FoundImplementationForProtocol"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.669 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionContext Completed connection handshake. Using HubProtocol 'blazorpack'. {"EventId":{"Id":1,"Name":"HandshakeComplete"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.684 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "0", Target: "StartCircuit", Arguments: [ https://localhost:9091/, https://localhost:9091/host/control-panel/BIIVCFDY?id=bb547eff-d2c2-44ca-9206-88c6e09c8faa&vscodeBrowserReqId=1758298115877, [{"type":"server","prerenderId":"8ad0c63621d84a3f9582a946c31841b3","key":{"locationHash":"54912F3C651A014F1B275C954CB092DE947378CDB83E8965F8D7F4800066B6D8:0","formattedComponentKey":""},"sequence":0,"descriptor":"CfDJ8DeH3DqcBblEm/Wh6jxNrbN5pBwbJngWbWv/G2jlzDJINuUL/5ghyM+yt+kqxCxknkw5FBmpE3Yig4G4M5YzMmNhXp7lyWi2fvWrj4cnaXD/f+17aiCZvdyTu6B5Q/+0CMJ+m3G+3RvcfN/26gilN4xLV6DrFuOYazOMjLhYtnfw2czzx3an/AokjR2ELZ+AtskLVdpGo3W2+HsyvxhFtmgN6yeKqg+bwnXX5VmdA6QxQFaWmrl+M00PVQy8+LiqtmzBdxXYa/+iKURDWg+NX69UOrQHa5E+Dv1uokhotcbLEffBUf1XO3IjlpFtF8eGr7iRCqiD9IpT+IvOvFXSF7UguRrUSmquU5nxpvCQgAUqm8MS6tpsJgPLSg7BLGMIbaIGxHmojRkAzm+/4UCWEQv6A2Fsgm2eknxn9iG5ET4Ludc3JraydZ0ZZtWHo44jMXQAejLBgbcuuIKE58uaFKi9Od+yi1lPQxhdsmXKpbnBnwr53Tas7GlYYO1uhXUvVQ==","uniqueId":0}],  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.708 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Initialized with SessionId: BIIVCFDY {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.718 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 2, True, [2,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.721 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - null 0 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.728 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805177176819 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.740 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 2,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.752 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 2a326b01 | Data: {"Method":"POST","Path":{"Value":"/sessionHub/negotiate","HasValue":true},"QueryString":"?negotiateVersion=1","UserAgent":"Microsoft SignalR/8.0 (8.0.0\u002B3f1acb59718cadf111a0a796681e3d3509bb3381; Windows NT; .NET; .NET 8.0.20)","RemoteIP":"::1","ContentType":null,"ContentLength":0} {"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.775 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.778 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "EndInvokeJSFromDotNet", Arguments: [ 3, True, [3,true,null] ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.780 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint '/_Host' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.802 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805177176819 - 200 1769400 image/png 74.1319ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:0000000F","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.813 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Route matched with {page = "/_Host", action = "", controller = ""}. Executing page /_Host {"EventId":{"Id":103,"Name":"PageExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.839 -04:00 INF] Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter Antiforgery token validation failed. The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present. {"EventId":{"Id":1,"Name":"AntiforgeryTokenInvalid"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery cookie ".AspNetCore.Antiforgery.oQ0r3IW2QjQ" is not present.
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
[2025-09-19 12:08:37.855 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.AutoValidateAntiforgeryTokenAuthorizationFilter'. {"EventId":{"Id":3,"Name":"AuthorizationFailure"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.868 -04:00 INF] Microsoft.AspNetCore.Mvc.StatusCodeResult Executing StatusCodeResult, setting HTTP status code 400 {"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"ActionId":"d804a9ca-ded9-4ff2-b74e-1951a2c6f708","ActionName":"/_Host","RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.880 -04:00 INF] Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker Executed page /_Host in 40.5055ms {"EventId":{"Id":104,"Name":"PageExecuted"},"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.891 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_Host' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.901 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 2a326b01 | Data: {"StatusCode":400,"ContentType":null,"ContentLength":null,"DurationMs":148} {"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.908 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/sessionHub/negotiate | Data: {"DurationMs":148.9153,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.915 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/sessionHub/negotiate?negotiateVersion=1 - 400 0 null 193.388ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078S:00000001","RequestPath":"/sessionHub/negotiate","ConnectionId":"0HNFNINOI078S"}
[2025-09-19 12:08:37.916 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to initialize SignalR connection {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.NegotiateAsync(Uri url, HttpClient httpClient, ILogger logger, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.GetNegotiationResponseAsync(Uri uri, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.SelectAndStartTransport(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsyncCore(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnection.StartAsync(TransferFormat transferFormat, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Connections.Client.HttpConnectionFactory.ConnectAsync(EndPoint endPoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncCore(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsyncInner(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.SignalR.Client.HubConnection.StartAsync(CancellationToken cancellationToken)
   at NoorCanvas.Pages.HostControlPanel.InitializeSignalRAsync() in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 308
[2025-09-19 12:08:37.942 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: LoadSessionDataAsync started for sessionIdOrToken: BIIVCFDY {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.944 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 3,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.945 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805179425483 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.963 -04:00 INF] NoorCanvas.Pages.HostControlPanel HOST-CONTROL-PANEL: Detected token format: BIIVCFDY {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:37.985 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:37.986 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.004 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/token/BIIVCFDY/validate {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:38.009 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805179425483 - 200 1769400 image/png 64.6078ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000011","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.031 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.051 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: c82df29a | Data: {"Method":"GET","Path":{"Value":"/api/host/token/BIIVCFDY/validate","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.058 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.068 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "ValidateHostToken", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ValidateHostToken(System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.084 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [ae08800e] Validating friendly token: BIIVCFDY {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.092 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [ae08800e] Looking up friendly token in database {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.102 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__friendlyToken_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[HostToken] = @__friendlyToken_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.119 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__secureToken_Session_KSessionsId_Value_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE CAST([s].[SessionID] AS bigint) = @__secureToken_Session_KSessionsId_Value_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.135 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [ae08800e] Updated session info from KSESSIONS: Title='Need For Messengers', Description='we look at the purpose of sending messengers, and their role in our spiritual awakening.' for session 10227 {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.145 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-HOST-TOKEN-VALIDATE: [ae08800e] Found session 10227 with title: Need For Messengers {"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.154 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type 'NoorCanvas.Controllers.HostSessionValidationResponse'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"df94cce4-e2cf-45f4-a8fa-c602165928e6","ActionName":"NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)","RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.167 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas) in 83.2867ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.167 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 136.8121ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:38.185 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.ValidateHostToken (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.193 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 208.6699ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/token/BIIVCFDY/validate","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/token/BIIVCFDY/validate"]}
[2025-09-19 12:08:38.214 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: c82df29a | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":163} {"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.230 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/token/BIIVCFDY/validate | Data: {"DurationMs":163.4411,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.237 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/token/BIIVCFDY/validate - 200 null application/json; charset=utf-8 206.4089ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000004","RequestPath":"/api/host/token/BIIVCFDY/validate","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.238 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: Calling GetSessionDetails API for sessionId: 10227, hostToken: BIIVCFDY {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.259 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:38.275 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:38.289 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.303 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 71a25843 | Data: {"Method":"GET","Path":{"Value":"/api/host/session-details/10227","HasValue":true},"QueryString":"?guid=BIIVCFDY","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.310 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.320 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionDetails", controller = "Host", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionDetails(Int32, System.String) on controller NoorCanvas.Controllers.HostController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.336 -04:00 INF] NoorCanvas.Controllers.HostController NOOR-INFO: Getting session details for sessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.346 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[SessionID] AS [SessionId], [s].[GroupID] AS [GroupId], [s].[CategoryID] AS [CategoryId], [s].[SessionName], [s].[Description]
FROM [dbo].[Sessions] AS [s]
WHERE [s].[SessionID] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.363 -04:00 WRN] NoorCanvas.Controllers.HostController NOOR-WARNING: Session not found in KSESSIONS for SessionId: 10227 {"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.374 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"1bad0612-da6c-4e60-9413-94e408d26bd4","ActionName":"NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)","RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.388 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas) in 53.0927ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.389 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 99.8244ms - 404 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:38.408 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.HostController.GetSessionDetails (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.417 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 157.2169ms - 404 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY"]}
[2025-09-19 12:08:38.436 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 71a25843 | Data: {"StatusCode":404,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":133} {"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.451 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/host/session-details/10227 | Data: {"DurationMs":133.4106,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.458 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/host/session-details/10227?guid=BIIVCFDY - 404 null application/json; charset=utf-8 169.0661ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000005","RequestPath":"/api/host/session-details/10227","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.458 -04:00 INF] NoorCanvas.Pages.HostControlPanel NOOR-DEBUG: GetSessionDetails API response status: "NotFound" {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.480 -04:00 WRN] NoorCanvas.Pages.HostControlPanel SESSION-DATA: Failed to load session details for SessionId: 10227, Status: "NotFound" {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.489 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler Start processing HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestPipelineStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:38.502 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Sending HTTP request GET https://localhost:9091/api/participant/session/Q27PTUSP/participants {"EventId":{"Id":100,"Name":"RequestStart"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:38.516 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.527 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 5360aa79 | Data: {"Method":"GET","Path":{"Value":"/api/participant/session/Q27PTUSP/participants","HasValue":true},"QueryString":"","UserAgent":"NoorCanvas-BlazorServer","RemoteIP":"::1","ContentType":null,"ContentLength":null} {"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.535 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.544 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Route matched with {action = "GetSessionParticipants", controller = "Participant", page = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSessionParticipants(System.String) on controller NoorCanvas.Controllers.ParticipantController (NoorCanvas). {"EventId":{"Id":102,"Name":"ControllerActionExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.559 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1e1e2e03] Getting participants for session token: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.567 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Token received: 'Q27PTUSP', Length: 8 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.575 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Validating token with TokenService... {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.584 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Starting token validation {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.593 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Token: Q27PTUSP, IsHost: false {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.605 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Querying database for token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.616 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s] {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.633 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Total tokens in database: 85 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.643 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.660 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Active non-expired tokens: 51 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.672 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken]
FROM [canvas].[SecureTokens] AS [s]
WHERE [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.688 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Tokens matching 'Q27PTUSP': 1 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.699 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Match found - ID: 86, SessionId: 10227, Active: true, Expires: "2025-09-20T15:09:17.3366758", HostToken: BIIVCFDY, UserToken: Q27PTUSP {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.712 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@__token_0='?' (Size = 8) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AccessCount], [s].[CreatedAt], [s].[CreatedByIp], [s].[ExpiresAt], [s].[HostToken], [s].[IsActive], [s].[LastAccessedAt], [s].[SessionId], [s].[UserToken], [s0].[SessionId], [s0].[CreatedAt], [s0].[Description], [s0].[EndedAt], [s0].[ExpiresAt], [s0].[GroupId], [s0].[HostGuid], [s0].[KSessionsId], [s0].[MaxParticipants], [s0].[ModifiedAt], [s0].[ParticipantCount], [s0].[StartedAt], [s0].[Status], [s0].[Title]
FROM [canvas].[SecureTokens] AS [s]
INNER JOIN [canvas].[Sessions] AS [s0] ON [s].[SessionId] = [s0].[SessionId]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[ExpiresAt] > GETUTCDATE() AND [s].[UserToken] = @__token_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.730 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Final query result: Found valid token {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.741 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Token validation successful - Session 10227, Access #12, Expires: "2025-09-20T15:09:17.3366758" {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.753 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Session details - Title: 'Need For Messengers', Status: 'Configured' {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.766 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [canvas].[SecureTokens] SET [AccessCount] = @p0, [LastAccessedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2; {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.784 -04:00 INF] NoorCanvas.Services.SecureTokenService NOOR-SECURITY-DEBUG: [0ca79620] Access count updated to 12 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.793 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Token validation successful - SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.802 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Querying SessionParticipants for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.811 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[UserId] AS [userId], COALESCE([s].[DisplayName], N'Anonymous') AS [displayName], COALESCE([s].[JoinedAt], GETUTCDATE()) AS [joinedAt], N'participant' AS [role], NULL AS [country]
FROM [canvas].[SessionParticipants] AS [s]
WHERE [s].[SessionId] = @__sessionId_0 AND [s].[JoinedAt] IS NOT NULL AND [s].[LeftAt] IS NULL {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.827 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Found 0 active participants in SessionParticipants {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.836 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Querying Registrations for SessionId: 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.845 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (0ms) [Parameters=[@__sessionId_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(36), [r].[UserId]) AS [userId], COALESCE([u].[Name], N'Unknown User') AS [displayName], [r].[JoinTime] AS [joinedAt], N'registered' AS [role], [u].[Country] AS [country]
FROM [canvas].[Registrations] AS [r]
INNER JOIN [canvas].[Users] AS [u] ON [r].[UserId] = [u].[UserId]
WHERE [r].[SessionId] = @__sessionId_0 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.864 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-DEBUG-PARTICIPANTS: [1e1e2e03] Found 0 registered participants in Registrations {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.873 -04:00 INF] NoorCanvas.Controllers.ParticipantController NOOR-PARTICIPANT: [1e1e2e03] Found 0 participants for session 10227 {"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.883 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor Executing OkObjectResult, writing value of type '<>f__AnonymousType46`5[[System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], NoorCanvas, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'. {"EventId":{"Id":1,"Name":"ObjectResultExecuting"},"ActionId":"6b9ead9f-2403-4a91-86a6-86b609a9dfbe","ActionName":"NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)","RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.898 -04:00 INF] Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker Executed action NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas) in 340.1661ms {"EventId":{"Id":105,"Name":"ActionExecuted"},"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.899 -04:00 INF] System.Net.Http.HttpClient.default.ClientHandler Received HTTP response headers after 383.3886ms - 200 {"EventId":{"Id":101,"Name":"RequestEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:38.916 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'NoorCanvas.Controllers.ParticipantController.GetSessionParticipants (NoorCanvas)' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.924 -04:00 INF] System.Net.Http.HttpClient.default.LogicalHandler End processing HTTP request after 435.0039ms - 200 {"EventId":{"Id":101,"Name":"RequestPipelineEnd"},"HttpMethod":"GET","Uri":"https://localhost:9091/api/participant/session/Q27PTUSP/participants","TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P","Scope":["HTTP GET https://localhost:9091/api/participant/session/Q27PTUSP/participants"]}
[2025-09-19 12:08:38.941 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 5360aa79 | Data: {"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"DurationMs":413} {"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.956 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_GET_/api/participant/session/Q27PTUSP/participants | Data: {"DurationMs":413.988,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.963 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/1.1 GET https://localhost:9091/api/participant/session/Q27PTUSP/participants - 200 null application/json; charset=utf-8 446.5478ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078R:00000006","RequestPath":"/api/participant/session/Q27PTUSP/participants","ConnectionId":"0HNFNINOI078R"}
[2025-09-19 12:08:38.963 -04:00 ERR] NoorCanvas.Pages.HostControlPanel Failed to load session data for SessionIdOrToken: BIIVCFDY {"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
System.Text.Json.JsonException: The JSON value could not be converted to System.String. Path: $.sessionId | LineNumber: 0 | BytePositionInLine: 18.
 ---> System.InvalidOperationException: Cannot get the value of a token type 'Number' as a string.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)
   at System.Text.Json.Utf8JsonReader.GetString()
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at NoorCanvas.Pages.HostControlPanel.LoadSessionDataAsync(String sessionIdOrToken) in D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\Pages\HostControlPanel.razor:line 424
[2025-09-19 12:08:38.992 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 4,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.993 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805189903545 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:38.998 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805189906185 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.023 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 5,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.028 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.058 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 6,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.065 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.066 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805189903545 - 499 1769400 image/png 73.1804ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000013","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:39.094 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805189906185 - 200 1769400 image/png 95.9347ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000015","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:41.994 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher Received hub invocation: InvocationMessage { InvocationId: "", Target: "OnRenderCompleted", Arguments: [ 7,  ], StreamIds: [  ] }. {"EventId":{"Id":1,"Name":"ReceivedHubInvocation"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:41.997 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805219930677 - null null {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:42.049 -04:00 INF] Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware Sending file. Request path: '/images/branding/NC-Header.png'. Physical path: 'D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas\wwwroot\images\branding\NC-Header.png' {"EventId":{"Id":2,"Name":"FileServed"},"RequestId":"0HNFNINOI078P:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:08:42.062 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 GET https://localhost:9091/images/branding/NC-Header.png?v=638938805219930677 - 200 1769400 image/png 64.8676ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000017","RequestPath":"/images/branding/NC-Header.png","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.691 -04:00 DBG] Microsoft.AspNetCore.SignalR.HubConnectionHandler OnConnectedAsync ending. {"EventId":{"Id":6,"Name":"ConnectedEnding"},"TransportConnectionId":"67IEIHGsepfsPJjRRf6qPw","RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.698 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request starting HTTP/2 POST https://localhost:9091/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryMDRjlABHgwHemNG4 359 {"EventId":{"Id":1},"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.714 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint '/_blazor' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.721 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Started | CorrelationId: 3d0ea6d5 | Data: {"Method":"POST","Path":{"Value":"/_blazor/disconnect","HasValue":true},"QueryString":"","UserAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Code/1.104.1 Chrome/138.0.7204.235 Electron/37.3.1 Safari/537.36","RemoteIP":"::1","ContentType":"multipart/form-data; boundary=----WebKitFormBoundaryMDRjlABHgwHemNG4","ContentLength":359} {"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.745 -04:00 INF] Microsoft.AspNetCore.Cors.Infrastructure.CorsService CORS policy execution successful. {"EventId":{"Id":4,"Name":"PolicySuccess"},"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.739 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 23cfca0c | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":29125} {"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.765 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executing endpoint 'Blazor disconnect' {"EventId":{"Name":"ExecutingEndpoint"},"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.774 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] CRITICAL SLOW OPERATION: HTTP_CONNECT_/_blazor | Data: {"DurationMs":29125.0893,"ThresholdMs":5000,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.781 -04:00 INF] Microsoft.AspNetCore.Routing.EndpointMiddleware Executed endpoint 'Blazor disconnect' {"EventId":{"Id":1,"Name":"ExecutedEndpoint"},"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.792 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 CONNECT https://localhost:9091/_blazor?id=6uiotg9c5JapXS-vdYODTg - 200 null null 29201.7624ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:0000000D","RequestPath":"/_blazor","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.799 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [HTTP_MIDDLEWARE] Request Completed | CorrelationId: 3d0ea6d5 | Data: {"StatusCode":200,"ContentType":null,"ContentLength":null,"DurationMs":77} {"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.822 -04:00 INF] NoorCanvas.Services.DebugService NOOR_DEBUG: [PERFORMANCE] Operation Completed: HTTP_POST_/_blazor/disconnect | Data: {"DurationMs":77.1511,"Component":"HTTP_MIDDLEWARE"} {"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:09:06.833 -04:00 INF] Microsoft.AspNetCore.Hosting.Diagnostics Request finished HTTP/2 POST https://localhost:9091/_blazor/disconnect - 200 0 null 135.0515ms {"EventId":{"Id":2},"RequestId":"0HNFNINOI078P:00000019","RequestPath":"/_blazor/disconnect","ConnectionId":"0HNFNINOI078P"}
[2025-09-19 12:10:02.514 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 12:12:40.709 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 12:12:42.028 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 12:12:42.046 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 12:12:42.050 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 12:12:42.107 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 12:12:42.215 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:12:42.226 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:12:42.347 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 12:12:42.499 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 12:12:42.567 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:12:42.576 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:12:42.583 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 12:12:42.587 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 12:12:42.591 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
[2025-09-19 12:12:50.601 -04:00 INF] Microsoft.Hosting.Lifetime Application is shutting down... {}
[2025-09-19 12:13:13.176 -04:00 INF] Program ✅ NOOR-VALIDATION: HttpClient BaseAddress configured: "https://localhost:9091/" {}
[2025-09-19 12:13:14.339 -04:00 INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 {"EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"}}
[2025-09-19 12:13:14.357 -04:00 INF] Program ✅ NOOR-VALIDATION: Canvas database connection verified {}
[2025-09-19 12:13:14.361 -04:00 INF] Program ✅ NOOR-VALIDATION: All critical configurations validated successfully {}
[2025-09-19 12:13:14.420 -04:00 INF] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager User profile is available. Using 'C:\Users\asifh\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest. {"EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"}}
[2025-09-19 12:13:14.515 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:13:14.524 -04:00 DBG] Microsoft.AspNetCore.SignalR.Internal.DefaultHubProtocolResolver Registered SignalR Protocol: blazorpack, implemented by Microsoft.AspNetCore.Components.Server.BlazorPack.BlazorPackHubProtocol. {"EventId":{"Id":1,"Name":"RegisteredSignalRProtocol"}}
[2025-09-19 12:13:14.637 -04:00 INF]  NOOR-STARTUP: NOOR Canvas Phase 1 application starting {}
[2025-09-19 12:13:14.764 -04:00 WRN] Microsoft.AspNetCore.Server.Kestrel Overriding address(es) 'https://localhost:8443, http://localhost:9090'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead. {}
[2025-09-19 12:13:14.830 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: http://localhost:9090 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:13:14.839 -04:00 INF] Microsoft.Hosting.Lifetime Now listening on: https://localhost:9091 {"EventId":{"Id":14,"Name":"ListeningOnAddress"}}
[2025-09-19 12:13:14.846 -04:00 INF] Microsoft.Hosting.Lifetime Application started. Press Ctrl+C to shut down. {}
[2025-09-19 12:13:14.850 -04:00 INF] Microsoft.Hosting.Lifetime Hosting environment: Development {}
[2025-09-19 12:13:14.855 -04:00 INF] Microsoft.Hosting.Lifetime Content root path: D:\PROJECTS\NOOR CANVAS\SPA\NoorCanvas {}
