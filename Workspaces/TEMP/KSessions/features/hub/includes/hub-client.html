<div data-zu-blank-row data-repeat="1"></div>

<!--ClientMode: {{vm.hub.clientMode}}<br/>
ClientDisplay: {{vm.hub.clientDisplay}}<br/>
Feedback {{vm.hub.user.published.feedback.length}}<br />
IsRegistered: {{vm.hub.user.isRegistered}}<br/>
UserID: {{vm.hub.user.id}}<br />
User naem: {{vm.hub.user.username}}<br />
Session: {{vm.hub.session}}<br />-->
<!-- ACCESS DEINIED -->
<div class="row" data-ng-if="vm.hub.clientMode === 'noaccess' ">
    <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12">
        <div class="alert alert-danger">
            <h3 class="red"><i class="fa fa-ban" aria-hidden="true"></i> Access Denied</h3>
            The link you are using to access this resource is invalid. Please contact the administorator.
        </div>
    </div>
</div>

<!-- HUB RESET -->
<div class="row" data-ng-if="vm.hub.clientMode === 'hub-reset' ">
    <div class="col-md-10 col-sm-12 col-xs-12">
        <div class="alert alert-danger">
            <h3 class="red"><i class="fa fa-ban" aria-hidden="true"></i> Admin Reset</h3>
            The administrator has reset the connection. Please do the following:
            <ol>
                <li>Close this browser tab</li>
                <li>Request a new Url (web link) from the administrator</li>
                <li>Open a new browser tab and paste the link</li>
                <li>Register</li>
            </ol>
        </div>
    </div>
</div>

<!-- USER REGISTRATION -->
<div class="row" data-ng-if="vm.hub.clientMode === 'register' && !vm.hub.user.isRegistered">
    <div class="col-md-9 col-sm-12 col-xs-12">
        <div data-ng-include="'/app/features/hub/includes/hub-client-register.html'"></div>
    </div>
</div>

<!-- SESSION CLOSED -->
<div class="row" data-ng-if="vm.hub.clientMode === 'session-closed' && !vm.hub.session.isOpen && vm.hub.isClient ">
    <div class="col-md-10 col-sm-12 col-xs-12">
        <div class="alert alert-success">
            AlHamdulillah! We completed another session today.
            May Allah grant us all the blessings of remembering him and the strength to apply these precious teachings in our lives.
            <div class="inlineArabic padding-topbottom-20">وَآخِرُ دَعْوَانَا أَنِ ٱلْحَمْدُ لِلَّهِ رَبِّ ٱلْعَلَمِينَ</div>
            See you again next week InshaAllah.<br /><br />
            - Asif
        </div>
    </div>
</div>

<!-- User must be REGISTERED beyond this point -->

<div data-ng-if="vm.hub.user.isRegistered">

    <!-- SESSION INFO -->
    <div class="row" data-ng-if="vm.hub.clientMode === 'session-info' && vm.hub.user.isRegistered ">
        <div class="col-md-10 col-sm-12 col-xs-12">
            <div data-zu-hub-session-info="vm.hub.session"></div>
        </div>

    </div>

    <!-- SESSION FEEDBACK -->
    <div class="row" data-ng-if="vm.hub.clientMode === 'session-feedback' && vm.hub.session.sessionId ">
        <div class="col-md-9 col-sm-12 col-xs-12">
            <div data-zu-feedback=""
                 data-sessionid="{{vm.hub.session.sessionId}}"
                 data-session-name="{{vm.hub.session.name}}"
                 data-memberid="{{vm.hub.user.id}}"
                 data-member-name="{{vm.hub.user.username}}"
                 data-feedback-source="1"
                 data-redirect="vm.onFeedbackSubmit"></div>
        </div>
    </div>


    <!-- READY TO RECEIVE DATA -->
    <div data-ng-if="vm.hub.clientMode === 'ready' ">

        <!-- QUESTION -->
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12 question-div">
                <div data-zu-hub-questions=""></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12" data-ng-show="!vm.hub.clientDisplay">

                <div class="padding-topbottom-20 ready-for-data">
                    <strong>
                        <i class="fa fa-refresh fa-spin fa-lg fa-fw"></i>
                        <span style="font-size: large">Waiting to receive data...</span>
                    </strong>
                </div>
            </div>
        </div>
    </div>

    <!-- CLIENT DATA -->

    <div data-ng-if="vm.hub.clientDisplay" class="margin-bottom-30">

        <div data-zu-blank-row data-repeat="1" class="client-content-separator"></div>

        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-image' ">
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12 text-center">
                <!-- IMAGES -->
                <div id="clientImage"></div>
                <div data-ng-repeat="img in vm.hub.user.published.images |  orderObjectBy:'Ordinal' : true">
                    <img class="margin-bottom-20 img-responsive rounded-3x text-center display-inline"
                         data-ng-class="{'border-highlight' : img.IsCurrent, 'img-display-border': !img.IsCurrent}"
                         data-ng-src="{{img.Item}}" alt="" />
                </div>
            </div>
        </div>

        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-quran' ">
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12 text-center">
                <!-- QURAN -->
                <div data-zu-hub-quran=""></div>
            </div>
        </div>

        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-salaam' ">
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12 text-center">
                <!-- SALAAM -->
                <div id="clientSalaam" class="salaam-content">
                    <div>
                        <img class="img-786" src="/Content/images/786.png" />
                    </div>
                    <div data-ng-bind-html="vm.hub.user.published.salaam"></div>
                </div>
            </div>
        </div>


        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-root' ">
            <!-- ROOT WORD VIEWER -->
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12 text-center padd">
                <span id="rootCurved" style="display: none;">ROOT WORD</span>
                <div id="clientRootWord" class="circle-multiline">
                    <div class="root-title">{{vm.hub.user.published.root.RootWord}}</div>
                    <div class="root-meaning"
                         data-ng-bind-html="vm.hub.user.published.root.MeaningEnglishHtml.capitalize(true, true)"></div>
                </div>
                <div class="margin-top-30">
                    <div class="derivative-container"
                         data-ng-class="{'border-highlight-red' : d.IsHighlighted}"
                         data-ng-repeat="d in vm.hub.user.published.root.Derivatives |  orderObjectBy:'IsHighlighted' :true ">
                        <div class="derivative-title">
                            <span class="inlineArabic">{{d.Derivative}}</span>
                        </div>
                        <div class="derivative-meaning" data-ng-bind-html="d.MeaningEnglishHtml.capitalize(true)"></div>
                        <div class="derivative-grammar">
                            {{d.Grammar}}
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-user-question' ">
            <div class="col-md-offset-2 col-md-8 col-sm-12 col-xs-12 text-center published-question-widget">
                <!-- DISPLAY USER QUESTION TO ALL -->
                <div class="published-question-title">Question</div>
                <div id="clientUserQuestion" data-ng-if="vm.hub.user.published.question">
                    <div class="published-user-question">
                        <div class="published-member-icon">
                            <img src="/Content/images/UserQuestion.gif" class="image-sm" />
                        </div>
                        <div class="published-question-text" data-ng-bind-html="vm.hub.user.published.question"></div>
                    </div>
                </div>
            </div>
        </div>


        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-vote' ">
            <div class="col-md-offset-2 col-md-8 col-sm-12 col-xs-12 text-center published-question-widget">
                <!-- DISPLAY VOTE AGENDA -->
                <div class="published-question-title">Let's take a vote...</div>
                <div id="clientVoteAgenda" data-ng-if="vm.hub.user.published.vote">

                    <div class="published-user-question">
                        <div class="text-center">
                            <div class="vote-agenda-caption text-center">{{vm.hub.user.published.vote.VoteCaption}}</div>
                            <div class="text-center">
                                <button class="btn btn-lg btn-up-vote" data-ng-click="vm.hub.voteClick(1)">
                                    <i class="fa fa-thumbs-up fa-3x text-success" aria-hidden="true"></i>
                                    <div class="hidden-sm hidden-xs vote-up-caption">
                                        {{vm.hub.user.published.vote.UpCountCaption}}
                                    </div>
                                </button>
                                <button class="margin-left-20 btn btn-lg btn-down-vote" data-ng-click="vm.hub.voteClick(-1)">
                                    <i class="fa fa-thumbs-down fa-3x text-danger" aria-hidden="true"></i>
                                    <div class="hidden-sm hidden-xs vote-down-caption">
                                        {{vm.hub.user.published.vote.DownCountCaption}}
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="row" data-ng-if="vm.hub.clientDisplay === 'client-word-compare' ">
            <span id="clientWordsCompare"></span>
            <!-- WORD COMPARE -->
            <div data-ng-if="!vm.hub.user.published.isNarration">
                <div class="col-md-offset-4 col-md-4 col-sm-12 col-xs-12">
                    <div class="word-compare-widget word-compare-1"
                         data-ng-if="vm.hub.user.published.wordsCompare[0]"
                         data-ng-bind-html="vm.hub.user.published.wordsCompare[0]"></div>
                </div>
                <div class="col-md-offset-4 col-md-4 col-sm-12 col-xs-12">
                    <div class="word-compare-widget word-compare-2"
                         data-ng-if="vm.hub.user.published.wordsCompare[1]"
                         data-ng-bind-html="vm.hub.user.published.wordsCompare[1]"></div>
                </div>
            </div>
            <!-- NARRATION -->
            <div class="col-md-offset-1 col-md-10 col-sm-12 col-xs-12 text-center"
                 data-ng-if="vm.hub.user.published.isNarration">

                <div class="text-center display-inline-block max-width">
                    <div class="narration-widget"
                         data-ng-if="vm.hub.user.published.wordsCompare[0]"
                         data-ng-bind-html="vm.hub.user.published.wordsCompare[0]"></div>
                </div>
            </div>
        </div>


        <div data-zu-blank-row data-repeat="3"></div>

    </div>
</div>
