<div class="row" data-ng-if="!vm.isHost && vm.signalRConnectionId">
    <div class="col-md-12">
        <div>
            <div>
                Status:
                <span title="{{vm.user.signalrClientId}}"
                      data-ng-class="{'green': vm.signalConnectionStatus === 'Connected', 'red': vm.signalConnectionStatus !== 'Connected' }">
                    {{vm.signalConnectionStatus}}
                </span>
            </div>
            <form data-ng-submit="vm.registerUser()"
                  class="col-md-9 col-sm-12 col-xs-12 alert alert-success"
                  data-ng-show="!vm.user.isRegistered && !vm.isHost">
                Welcome to today's session. Please enter your name and click the "Register" button in order to get started.<br /><br />
                <label>Please enter your name:</label><br />
                <input type="text" id="userToRegister"
                       data-ng-model="vm.user.username"
                       placeholder="Full Name" />
                <button class="btn btn-u" data-ng-disabled="!vm.user.username" data-ng-click="vm.registerUser()">
                    Register
                </button>
            </form>

            <div class="">
                <div class="alert alert-success" data-ng-show="vm.user.isRegistered && !vm.sessionOpen">
                    <strong>AsSalaamAlaykum {{vm.user.username}},</strong> You have successfully registered.
                    <div>
                        This page will automatically update once the administrator is ready to publish content.
                    </div>
                </div>
            </div>
        </div>

        <!-- ASK QUESTION -->
        <div data-ng-show="vm.sessionOpen && vm.user.isRegistered">
            <div class="margin-top-10 margin-bottom-10">

                <div class="well question-caption padding-top-10 col-md-9 col-sm-12 col-xs-12">
                    <div data-ng-show="vm.isQuestionCollapsed">
                        You can now ask questions <strong>anonymously</strong> during the session.
                        No one else will be able to view your question(s).
                        <br />
                        <button class="btn btn-u margin-top-10" role="button"
                                style="padding-top: 10px; padding-bottom: 10px;"
                                data-toggle="collapse"
                                data-ng-click="vm.questionClick()">
                            Click to ask a question
                        </button>
                    </div>
                    <div data-ng-submit="vm.postQuestion()"
                         class="margin-top-10"
                         data-collapse="vm.isQuestionCollapsed">
                        <textarea id="userQuestion"
                                  class="form-control"
                                  data-ng-model="vm.user.question"
                                  data-froala="vm.froalaOptions"></textarea>

                        <button class="btn btn-u margin-top-10"
                                data-ng-disabled="!vm.user.question"
                                data-ng-click="vm.postQuestion()">
                            Submit
                        </button>
                        <button class="btn btn-u margin-top-10"
                                data-ng-click="vm.cancelQuestion()">
                            Cancel
                        </button>
                        <!--<button data-ng-click="simulateDisconnect()">Simulate Disconnect</button>-->
                    </div>

                </div>

            </div>
        </div>

        <div class="alert alert-success col-md-9 col-sm-12 col-xs-12"
             data-ng-show="vm.sessionOpen && vm.user.isRegistered && !vm.user.image && !vm.user.arabicText && !vm.user.quran">
            <div>
                <div class="margin-bottom-10">This session is now open. Content will automatically display on your device</div>
                <strong>
                    <i class="fa fa-refresh fa-spin fa-lg fa-fw"></i>
                    <span style="font-size: large">Waiting to receive data...</span>
                </strong>
            </div>
        </div>

        <div class="margin-top-20 col-md-10 col-sm-12 col-xs-12"
             style="padding-left: 0 !important;"
             data-ng-show="vm.sessionOpen && vm.user.isRegistered">

            <!-- QURAN -->
            <div id="clientQuran" class="quranWidget" data-ng-show="vm.user.quran">
                <div class="quran-surah inlineArabic">
                    <span>
                        <span class="surah-header">سورۃ {{vm.user.quran.SurahNameUnicode}}</span>
                        <span class="surah-header-ayats">
                            ( {{vm.user.quran.Ayats.first().AyatNumber.toString().trim()}}
                        </span>
                        <span class="surah-header-ayats"
                              data-ng-if="vm.user.quran.Ayats.length>1">
                            - {{vm.user.quran.Ayats.last().AyatNumber.toString().trim()}}
                        </span>
                        <span class="surah-header-ayats">)</span>
                    </span>
                </div>
                <div class="quran-ayats amiriCrimson" data-ng-bind-html="vm.user.quran.ayats"></div>
                <div class="quran-translations" data-ng-bind-html="vm.user.quran.translations"></div>
            </div>


            <!-- ARABIC TEXT -->
            <div id="clientArabicText" class="amiriCrimson arabic-text-tablet padding-topbottom-20"
                 data-ng-show="vm.user.arabicText">
                {{vm.user.arabicText}}
            </div>

            <!-- IMAGES -->
            <img id="clientImage" class="img-responsive img-display-border rounded-3x"
                 data-ng-show="vm.user.image"
                 data-ng-src="{{vm.user.image}}" alt="" />
        </div>

        <div class="alert alert-success" data-ng-if="!vm.signalRConnectionId && vm.closeSession">
            This session has been closed by the administrator.<br />
            I hope you found today's information beneficial. May Allah grant us all the blessings of remembering him and the strength to apply these teachings in our life.<br />
            <span class="inlineArabic">وَآخِرُ دَعْوَانَ أَنِ ٱلْحَمْدُ لِلَّهِ رَبِّ ٱلْعَلَمِينَ</span><br />
            See you again next week InshaAllah.<br /><br />
            - Asif
        </div>

    </div>
</div>