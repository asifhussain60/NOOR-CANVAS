<div class="padding-topbottom-20">

    <div class="row">
        <div class="col-md-12">

            <div>
                <button class="btn btn-u btn-sm btn-u-green margin-bottom-5" data-ng-click="dtv.addNewRootWord()">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                </button>
                <input id="root" type="text"
                       class="input-medium inlineArabic text-center padding-left10"
                       data-ng-model="dtv.rootSearch"
                       data-ng-model-options="{debounce:250}"
                       uib-typeahead="root.rootWordUnfmt for root in dtv.rootList | filter:$viewValue | limitTo:8"
                       data-typeahead-focus-first="true"
                       data-typeahead-no-results="dtv.noResult"
                       data-typeahead-min-length="1"
                       data-typeahead-on-select="dtv.onTypeaheadSelect($item, $model, $label)"
                       placeholder="Search">

                <button class="btn btn-u btn-sm margin-bottom-5" data-ng-click="dtv.reset()">
                    <i class="fa fa-eraser" aria-hidden="true"></i>
                </button>
                <button class="btn btn-u btn-u-red margin-bottom-5"
                        data-ng-disabled="!dtv.root || !dtv.root.rootId"
                        data-ng-click="dtv.deleteRoot()">
                    <i class="fa fa-trash" aria-hidden="true"></i>
                </button>
                <div data-ng-show="dtv.showRootTable" class="margin-top-20">
                    <table class="table">
                        <tr>
                            <th class="text-left">Root Word</th>
                            <th class="text-left">Root Unfmt</th>
                            <th class="text-left">Transliteration</th>
                            <th class="text-left">Eng Meaning</th>
                        </tr>
                        <tr>
                            <td>
                                <input type="text" data-ng-model="dtv.root.rootWord" placeholder="Arabic" class="inlineArabic text-center width200" />
                            </td>
                            <td>
                                <input type="text" data-ng-model="dtv.root.rootWordUnfmt" placeholder="Arabic" class="inlineArabic text-center width200" />
                            </td>
                            <td>
                                <input type="text" data-ng-model="dtv.root.rootTransliteration" placeholder="English" class="text-uppercase text-center" />
                            </td>
                            <td>
                                <input type="text" data-ng-model="dtv.root.meaningEnglish" placeholder="English" class="text-capitalize text-center" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="5">
                                <textarea rows="2" data-ng-model="dtv.root.definition" placeholder="Definition" class="max-width"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="10" class="text-center">
                                <button class="btn btn-u btn-u-green" data-ng-click="dtv.saveRootWord()">Save Root Word</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="padding-bottom20 margin-top-15 border-bottom-gray"
                 data-ng-if="dtv.isSignalR && dtv.preloaderRoots.length">
                <h4 class="margin-right-20 display-inline">Preloaders:</h4>
                <span class="pointer"
                      data-ng-repeat="root in dtv.preloaderRoots"
                      data-ng-click="dtv.onPreloaderRootClick(root)">
                    <a href="" class="inlineArabic margin-left-5">
                        {{root.rootWordUnfmt}} |
                    </a>
                </span>
            </div>
        </div>
    </div>

    <div data-ng-if="dtv.root.rootId">

        <div class="row">
            <div class="col-md-12">
                <div class="margin-top-20 margin-bottom-20" data-ng-if="dtv.root.rootId">
                    <button class="btn btn-u btn-sm btn-u-green" data-ng-click="dtv.addBlankDerivative()">
                        <i class="fa fa-plus" aria-hidden="true"></i> Add New Derivative
                    </button>
                </div>

                <table class="table table-striped table-bordered table-condensed margin-top-20">
                    <tr>
                        <th class="width50">
                            <button class="btn btn-u" data-ng-click="dtv.checkUncheckAll(!dtv.checkUncheck)">
                                <i class="fa fa-flickr" aria-hidden="true"></i>
                            </button>
                        </th>
                        <th class="text-center width50"></th>
                        <th class="text-center width50" data-ng-if="!dtv.isSignalR">ID</th>
                        <th class="text-center width200">Derivative</th>
                        <th class="text-center width200" data-ng-if="!dtv.isSignalR">Transliteral</th>
                        <th class="text-center" data-ng-class="{'width350' : dtv.isSignalR, 'width200' : !dtv.isSignalR}">English (Comma)</th>
                        <th class="text-center" data-ng-if="!dtv.isSignalR">Detail (Semicolon)</th>
                        <th class="text-center width200">Grammar</th>
                        <th class="text-center" data-ng-if="dtv.displayPublish">
                            <i class="fa fa-paint-brush" aria-hidden="true"></i>
                        </th>
                    </tr>
                    <tr data-ng-repeat="d in dtv.root.derivatives"
                        data-ng-class="{'highlight-yellow': d.isHighlighted}">
                        <td class="text-center">
                            <label>
                                <input type="checkbox" class="hidden" data-ng-checked="d.isSelected"
                                       data-ng-click="dtv.onIsSelectedClick(d)" />
                                <span></span>
                            </label>
                        </td>
                        <td class="text-center">
                            <button class="btn btn-u btn-sm btn-u-red" data-ng-click="dtv.deleteDerivative(d)">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </button>
                        </td>
                        <td class="text-center" data-ng-if="!dtv.isSignalR">
                            <span id="derivative-token-{{d.derivativeId}}">
                                D|{{d.derivativeId}}
                            </span>
                            <i id="btn-copy-token" class="fa fa-clipboard pointer padding-left-5"
                               data-clipboard-action="copy"
                               data-clipboard-target="#derivative-token-{{d.derivativeId}}"></i>
                        </td>
                        <td class="text-center">
                            <input class="form-control inlineArabic text-center" type="text"
                                   placeholder="In Arabic"
                                   data-ng-model="d.derivative" />
                        </td>
                        <td class="text-center" data-ng-if="!dtv.isSignalR">
                            <span class="">
                                <input type="text" class="form-control text-center text-uppercase"
                                       placeholder="Transliteral"
                                       data-ng-model="d.transliteration" />
                            </span>
                        </td>
                        <td class="text-center">
                            <span class="">
                                <input type="text" class="form-control text-center text-capitalize"
                                       placeholder="In English"
                                       data-ng-model="d.meaningEnglish" />
                            </span>
                        </td>
                        <td class="text-center" data-ng-if="!dtv.isSignalR">
                            <span class="">
                                <textarea data-ng-model="d.definition"
                                          class="text-left max-width"
                                          placeholder="Definition"></textarea>
                            </span>
                        </td>
                        <td class="text-center">
                            <span class="">
                                <input class="form-control text-center" type="text"
                                       placeholder="In English"
                                       data-ng-model="d.grammar" />
                            </span>
                        </td>
                        <td class="text-center" data-ng-if="dtv.displayPublish">
                            <label>
                                <input type="checkbox" class="hidden" data-ng-checked="d.isHighlighted"
                                       data-ng-click="dtv.onIsHighlightClick(d, $index)" />
                                <span></span>
                            </label>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="text-center">
                    <button class="btn btn-u btn-u-green margin-top-20"
                            data-ng-if="!dtv.displayPublish"
                            data-ng-disabled="!dtv.root.derivatives.length"
                            data-ng-click="dtv.saveDerivatives()">
                        Save Derivatives
                    </button>
                    <button class="btn btn-u btn-publish-root margin-bottom-20"
                            data-ng-if="dtv.displayPublish"
                            data-ng-click="dtv.publish()">
                        Publish To Client {{showPublish}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>