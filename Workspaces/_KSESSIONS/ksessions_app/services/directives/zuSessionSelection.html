<div class="zu-session-selection">
    <!-- Elegant Header with Reset Button -->
    <div class="zu-session-header">
        <div class="zu-session-header-title">
            <i class="fa fa-list-alt"></i>
            <span>Click the Reset button to reset all selections</span>
        </div>
        <div class="zu-session-header-buttons">
            <button class="btn btn-xs zu-session-reset-btn" 
                    data-ng-click="resetSelections()"
                    title="Reset all selections and reload albums">
                <i class="fa fa-refresh"></i>
                <span>Reset</span>
            </button>
            <button class="btn btn-xs zu-session-reset-btn"
                    data-ng-click="loadSelectionsFromLocalStorage()"
                    title="Load saved selections from local storage">
                <i class="fa fa-database"></i>
                <span>Load From Storage</span>
            </button>
        </div>
    </div>
    
    <!-- Compact Form Layout -->
    <div class="zu-session-form">
        <!-- Album Row -->
        <div class="zu-session-row">
            <label class="zu-session-label zu-tooltip-container" 
                   data-ng-mouseenter="showTooltip = 'album'" 
                   data-ng-mouseleave="showTooltip = null">
                Album
                <div class="zu-custom-tooltip" data-ng-show="showTooltip === 'album' && albumIdField">
                    <div class="zu-tooltip-content">
                        <strong>Album ID:</strong> {{albumIdField}}
                    </div>
                    <div class="zu-tooltip-arrow"></div>
                </div>
            </label>
            <div class="zu-session-select-container-full">
                <select ng-model="albumIdField"
                        class="form-control input-sm zu-session-select"
                        data-ng-class="{'album-dropdown-active': isValidSelection(albumIdField) && isAlbumActive, 'album-dropdown-inactive': isValidSelection(albumIdField) && !isAlbumActive}"
                        ng-options="album.id as (album.nameProperCase || toProperCase(album.name)) for album in albumList | orderObjectBy:'name' ">
                </select>
            </div>
            <div class="zu-session-toggle-container">
                <button class="btn btn-xs album-toggle-btn zu-session-toggle-btn" 
                        data-ng-if="albumIdField && albumIdField > 0"
                        data-ng-click="toggleAlbumActive(albumIdField)"
                        data-ng-class="{'btn-success': isAlbumActive, 'btn-default': !isAlbumActive}"
                        title="{{isAlbumActive ? 'Deactivate Album' : 'Activate Album'}}">
                    <i class="fa fa-toggle-on" data-ng-if="isAlbumActive"></i>
                    <i class="fa fa-toggle-off" data-ng-if="!isAlbumActive"></i>
                </button>
            </div>
        </div>
        
        <!-- Category Row -->
        <div data-ng-show="filterByCategory" class="zu-session-row">
            <label class="zu-session-label zu-tooltip-container"
                   data-ng-mouseenter="showTooltip = 'category'" 
                   data-ng-mouseleave="showTooltip = null">
                Category
                <div class="zu-custom-tooltip" data-ng-show="showTooltip === 'category' && categoryIdField">
                    <div class="zu-tooltip-content">
                        <strong>Category ID:</strong> {{categoryIdField}}
                    </div>
                    <div class="zu-tooltip-arrow"></div>
                </div>
            </label>
            <div class="zu-session-select-container-full">
                <select ng-model="categoryIdField"
                        class="form-control input-sm zu-session-select"
                        data-ng-class="{'album-dropdown-active': isValidSelection(categoryIdField) && isCategoryActive, 'album-dropdown-inactive': isValidSelection(categoryIdField) && !isCategoryActive}"
                        data-ng-disabled="!albumList.length || !albumIdField || albumIdField <= 0"
                        ng-options="category.categoryId as (category.categoryNameProperCase || toProperCase(category.categoryName)) for category in categoryList ">
                </select>
            </div>
            <div class="zu-session-toggle-container">
                <button class="btn btn-xs album-toggle-btn zu-session-toggle-btn" 
                        data-ng-if="categoryIdField && categoryIdField > 0"
                        data-ng-click="toggleCategoryActive(categoryIdField)"
                        data-ng-class="{'btn-success': isCategoryActive, 'btn-default': !isCategoryActive}"
                        title="{{isCategoryActive ? 'Deactivate Category' : 'Activate Category'}}">
                    <i class="fa fa-toggle-on" data-ng-if="isCategoryActive"></i>
                    <i class="fa fa-toggle-off" data-ng-if="!isCategoryActive"></i>
                </button>
            </div>
        </div>
        
        <!-- Session Row -->
        <div class="zu-session-row">
            <label class="zu-session-label zu-tooltip-container"
                   data-ng-mouseenter="showTooltip = 'session'" 
                   data-ng-mouseleave="showTooltip = null">
                Session
                <div class="zu-custom-tooltip" data-ng-show="showTooltip === 'session' && sessionIdField">
                    <div class="zu-tooltip-content">
                        <strong>Session ID:</strong> {{sessionIdField}}
                    </div>
                    <div class="zu-tooltip-arrow"></div>
                </div>
            </label>
            <div class="zu-session-select-container-full">
                <select ng-model="sessionIdField"
                        class="form-control input-sm zu-session-select"
                        data-ng-class="{'album-dropdown-active': isValidSelection(sessionIdField) && isSessionActive, 'album-dropdown-inactive': isValidSelection(sessionIdField) && !isSessionActive}"
                        data-ng-disabled="isDisabledSessionDdl()"
                        ng-options="session.id as session.displayTitleWithRowNumber for session in sessionList">
                </select>
                <button class="btn btn-xs btn-danger zu-session-delete-btn" 
                        data-ng-if="sessionIdField && sessionIdField > 0"
                        data-ng-click="confirmDeleteSession()"
                        title="Delete selected session">
                    <i class="fa fa-trash"></i>
                </button>
            </div>
            <div class="zu-session-toggle-container">
                <button class="btn btn-xs album-toggle-btn zu-session-toggle-btn" 
                        data-ng-if="sessionIdField && sessionIdField > 0"
                        data-ng-click="toggleSessionActive(sessionIdField)"
                        data-ng-class="{'btn-success': isSessionActive, 'btn-default': !isSessionActive}"
                        title="{{isSessionActive ? 'Deactivate Session' : 'Activate Session'}}">
                    <i class="fa fa-toggle-on" data-ng-if="isSessionActive"></i>
                    <i class="fa fa-toggle-off" data-ng-if="!isSessionActive"></i>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Elegant Manage Buttons Section -->
    <div data-ng-if="showManageButtons" class="zu-session-manage-section">
        <h6><i class="fa fa-cogs"></i> Session Management</h6>
        <div class="zu-session-manage-buttons">
            <button class="btn btn-xs zu-session-manage-btn-elegant btn-add"
                    data-ng-disabled="!albumIdField || albumIdField <= 0"
                    data-ng-click="onAddClick()"
                    title="Add new session to selected album">
                <i class="fa fa-plus"></i>
                <span>Add Session</span>
            </button>
            <button class="btn btn-xs zu-session-manage-btn-elegant btn-delete"
                    data-ng-disabled="!sessionIdField || sessionIdField <= 0"
                    data-ng-click="onDeleteClick()"
                    title="Delete selected session">
                <i class="fa fa-trash"></i>
                <span>Delete Session</span>
            </button>
        </div>
    </div>
</div>